{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\App\\\\gamified-survey\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n// Gamified Survey — cinematic page-change scroller with dramatic animations\n// Tailwind + Framer Motion required.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QUESTIONS = [{\n  id: \"intro\",\n  type: \"stage\",\n  title: \"Nightfall at HackPlay\",\n  subtitle: \"Step into a neon-lit hall. Your choices tune the journey.\"\n}, {\n  id: \"q1\",\n  type: \"mcq\",\n  title: \"Entrance — choose your mindset\",\n  choices: [\"Build something cool\", \"Learn fast\", \"Meet people\", \"Chase the prizes\"],\n  points: {\n    \"Build something cool\": 20,\n    \"Learn fast\": 10,\n    \"Meet people\": 15,\n    \"Chase the prizes\": 5\n  },\n  flavor: \"The doors close. A low bass. Pick the vibe that follows you.\"\n}, {\n  id: \"q2\",\n  type: \"rating\",\n  title: \"Charge Meter — how hyped are you?\",\n  scale: 5,\n  pointsPerStar: 6,\n  flavor: \"The stage lights react to your energy.\"\n}, {\n  id: \"q3\",\n  type: \"text\",\n  title: \"One-line pitch — what's the idea?\",\n  maxLength: 140,\n  points: 15,\n  flavor: \"A single line — the fragment your team will build around.\"\n}, {\n  id: \"q4\",\n  type: \"minigame\",\n  title: \"Charge the core — tap to power your idea\",\n  timeLimit: 6000,\n  pointsOnSuccess: 30,\n  flavor: \"Fast reflexes prove prototype-ready energy.\"\n}, {\n  id: \"q5\",\n  type: \"mcq\",\n  title: \"Team vibe — pick your tribe\",\n  choices: [\"Chill coders\", \"All-nighters\", \"Balanced squad\", \"Solo hero\"],\n  points: {\n    \"Chill coders\": 10,\n    \"All-nighters\": 20,\n    \"Balanced squad\": 15,\n    \"Solo hero\": 5\n  },\n  flavor: \"Who will you ride the night with?\",\n  dependsOn: {\n    q1: \"Build something cool\"\n  }\n}, {\n  id: \"end\",\n  type: \"stage\",\n  title: \"Curtain Call\",\n  subtitle: \"Collect badges, revisit your pitch, and step back into the light.\"\n}];\nfunction lerp(a, b, n) {\n  return (1 - n) * a + n * b;\n}\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  const ctx = canvas.getContext(\"2d\");\n  const W = canvas.width = window.innerWidth;\n  const H = canvas.height = window.innerHeight;\n  const pieces = [];\n  for (let i = 0; i < 80; i++) pieces.push({\n    x: W / 2,\n    y: H / 4,\n    vx: (Math.random() - 0.5) * 12,\n    vy: (Math.random() - 1.5) * 10,\n    r: Math.random() * 6 + 3,\n    color: [\"#ff6b6b\", \"#ffd93d\", \"#6bcB77\", \"#6b8aff\", \"#ff85e3\"][Math.floor(Math.random() * 5)],\n    rot: Math.random() * 360,\n    vr: Math.random() * 8 - 4\n  });\n  let t = 0;\n  function frame() {\n    t++;\n    ctx.clearRect(0, 0, W, H);\n    for (let p of pieces) {\n      p.x += p.vx;\n      p.y += p.vy + 0.3;\n      p.vy += 0.06;\n      ctx.save();\n      ctx.translate(p.x, p.y);\n      ctx.rotate(p.rot * Math.PI / 180);\n      ctx.fillStyle = p.color;\n      ctx.fillRect(-p.r / 2, -p.r / 2, p.r, p.r * 0.6);\n      ctx.restore();\n    }\n    if (t < 180) requestAnimationFrame(frame);else ctx.clearRect(0, 0, W, H);\n  }\n  frame();\n}\n\n// --- NEW: Opening spectacle (replaces previous globe) ---\n// A performant canvas-based particle-sphere that assembles then zooms in\nfunction OpeningSpectacle({\n  onDone,\n  items\n}) {\n  _s();\n  const canvasRef = useRef(null);\n  const rafRef = useRef(null);\n  const startRef = useRef(performance.now());\n  const DURATION = 1700; // total animation time\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return onDone();\n    const ctx = canvas.getContext('2d');\n    let W = canvas.width = window.innerWidth;\n    let H = canvas.height = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.5);\n    canvas.width = W * DPR;\n    canvas.height = H * DPR;\n    canvas.style.width = W + 'px';\n    canvas.style.height = H + 'px';\n    ctx.scale(DPR, DPR);\n\n    // particle sphere config\n    const COUNT = Math.min(600, Math.max(220, Math.floor(W * H / 4000)));\n    const R = Math.min(220, Math.max(140, Math.min(W, H) * 0.18));\n    const particles = new Array(COUNT).fill(0).map(() => {\n      const theta = Math.acos(2 * Math.random() - 1) - Math.PI / 2; // -pi/2..pi/2\n      const phi = Math.random() * Math.PI * 2;\n      return {\n        theta,\n        phi,\n        x: 0,\n        y: 0,\n        z: 0,\n        baseR: Math.random() * 1.5 + 0.6\n      };\n    });\n    let rotY = 0.0;\n    let rotX = -0.25;\n    let last = performance.now();\n    let dragging = false;\n    let lastX = 0,\n      lastY = 0;\n    function onPointerDown(e) {\n      dragging = true;\n      lastX = e.clientX;\n      lastY = e.clientY;\n    }\n    function onPointerMove(e) {\n      if (!dragging) return;\n      const dx = (e.clientX - lastX) * 0.006;\n      const dy = (e.clientY - lastY) * 0.006;\n      rotY += dx;\n      rotX = Math.max(-1.1, Math.min(1.1, rotX + dy));\n      lastX = e.clientX;\n      lastY = e.clientY;\n    }\n    function onPointerUp() {\n      dragging = false;\n    }\n    canvas.addEventListener('pointerdown', onPointerDown);\n    window.addEventListener('pointermove', onPointerMove);\n    window.addEventListener('pointerup', onPointerUp);\n    function project(p, ry, rx) {\n      // spherical to cartesian\n      const cx = Math.cos(p.theta) * Math.cos(p.phi);\n      const cy = Math.sin(p.theta);\n      const cz = Math.cos(p.theta) * Math.sin(p.phi);\n      // rotate\n      // rotateY\n      let x = cx * Math.cos(ry) - cz * Math.sin(ry);\n      let z = cx * Math.sin(ry) + cz * Math.cos(ry);\n      // rotateX\n      let y = cy * Math.cos(rx) - z * Math.sin(rx);\n      z = cy * Math.sin(rx) + z * Math.cos(rx);\n      // final screen coords\n      const scale = (z + 1.8) / 2.8; // 0..1-ish\n      return {\n        x: x * R,\n        y: y * R * 0.6,\n        z,\n        scale\n      };\n    }\n    function draw(now) {\n      const elapsed = now - startRef.current;\n      const t = Math.min(1, elapsed / DURATION);\n      const easeIn = t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t; // soft ease\n\n      const cx = W / 2;\n      const cy = H / 2;\n      ctx.clearRect(0, 0, W, H);\n      // background vignette\n      const g = ctx.createLinearGradient(0, 0, 0, H);\n      g.addColorStop(0, '#000000');\n      g.addColorStop(1, '#030317');\n      ctx.fillStyle = g;\n      ctx.fillRect(0, 0, W, H);\n\n      // subtle title text behind\n      ctx.save();\n      ctx.globalAlpha = 0.08 + 0.12 * easeIn;\n      ctx.font = '900 68px Inter, system-ui, sans-serif';\n      ctx.textAlign = 'center';\n      ctx.fillStyle = '#9b87ff';\n      ctx.fillText('Nightfall', cx, cy - 12 - 80 * easeIn);\n      ctx.restore();\n\n      // rotate slowly and add gentle auto rotation\n      rotY += 0.0025 * (0.6 + easeIn * 1.2);\n      for (let p of particles) {\n        const pos = project(p, rotY, rotX);\n        const scale = pos.scale * (0.6 + 0.6 * easeIn);\n        const sx = cx + pos.x * (0.8 + 0.5 * easeIn);\n        const sy = cy + pos.y * (0.9 + 0.25 * easeIn);\n        const r = Math.max(0.6, p.baseR * 2.4 * scale);\n        // color based on z (depth)\n        const depth = Math.max(0, Math.min(1, (pos.z + 1) / 2));\n        const hue = 240 - 140 * depth; // bluish to pinkish\n        ctx.beginPath();\n        const grd = ctx.createRadialGradient(sx, sy, 0, sx, sy, r * 3);\n        grd.addColorStop(0, `hsla(${hue},90%,72%,${0.9})`);\n        grd.addColorStop(0.5, `hsla(${hue},80%,58%,${0.65})`);\n        grd.addColorStop(1, `hsla(${hue},60%,28%,${0.02})`);\n        ctx.fillStyle = grd;\n        ctx.arc(sx, sy, r * 1.6, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // center hero card - zoom effect as t approaches 1\n      const cardScale = 1 + 1.6 * (t > 0.5 ? Math.pow((t - 0.5) / 0.5, 1.6) : 0);\n      const heroOpacity = 0.9 * (t > 0.2 ? Math.min(1, (t - 0.2) / 0.6) : 0);\n      ctx.save();\n      ctx.translate(cx, cy - 10);\n      ctx.globalAlpha = heroOpacity;\n      const w = 540 * Math.min(1, 1 + 0.9 * t);\n      const h = 220 * Math.min(1, 1 + 0.5 * t);\n      // draw rounded rect with gradient\n      const rad = 20;\n      const gx = ctx.createLinearGradient(-w / 2, -h / 2, w / 2, h / 2);\n      gx.addColorStop(0, '#6d28d9');\n      gx.addColorStop(1, '#ec4899');\n      ctx.fillStyle = gx;\n      roundRect(ctx, -w / 2, -h / 2, w, h, rad);\n      ctx.fill();\n      // inner text\n      ctx.fillStyle = 'rgba(255,255,255,0.95)';\n      ctx.textAlign = 'center';\n      ctx.font = '800 28px Inter, system-ui, sans-serif';\n      ctx.fillText('Nightfall at HackPlay', 0, -4);\n      ctx.font = '500 14px Inter, system-ui, sans-serif';\n      ctx.fillStyle = 'rgba(255,255,255,0.85)';\n      ctx.fillText('Step into a neon-lit hall — your choices tune the journey.', 0, 28);\n      ctx.restore();\n      if (elapsed < DURATION) {\n        rafRef.current = requestAnimationFrame(draw);\n      } else {\n        // quick zoom out fade then done\n        setTimeout(() => {\n          onDone();\n        }, 280);\n      }\n    }\n    function roundRect(ctx, x, y, w, h, r) {\n      const minr = Math.min(r, w / 2, h / 2);\n      ctx.beginPath();\n      ctx.moveTo(x + minr, y);\n      ctx.arcTo(x + w, y, x + w, y + h, minr);\n      ctx.arcTo(x + w, y + h, x, y + h, minr);\n      ctx.arcTo(x, y + h, x, y, minr);\n      ctx.arcTo(x, y, x + w, y, minr);\n      ctx.closePath();\n    }\n    rafRef.current = requestAnimationFrame(draw);\n    function onResize() {\n      W = canvas.width = window.innerWidth;\n      H = canvas.height = window.innerHeight;\n      canvas.width = W * DPR;\n      canvas.height = H * DPR;\n      canvas.style.width = W + 'px';\n      canvas.style.height = H + 'px';\n      ctx.scale(DPR, DPR);\n    }\n    window.addEventListener('resize', onResize);\n    return () => {\n      cancelAnimationFrame(rafRef.current);\n      canvas.removeEventListener('pointerdown', onPointerDown);\n      window.removeEventListener('pointermove', onPointerMove);\n      window.removeEventListener('pointerup', onPointerUp);\n      window.removeEventListener('resize', onResize);\n    };\n  }, [onDone, items]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-90 flex items-center justify-center pointer-events-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"w-full h-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n\n// --- New custom cursor component ---\n_s(OpeningSpectacle, \"aRzBD58MV7cZmLiHEHfbnH+ReLg=\");\n_c = OpeningSpectacle;\nfunction CustomCursor() {\n  _s2();\n  const dotRef = useRef(null);\n  const ringRef = useRef(null);\n  const pos = useRef({\n    x: window.innerWidth / 2,\n    y: window.innerHeight / 2\n  });\n  const vis = useRef(true);\n  const hover = useRef(false);\n  const rafRef = useRef(null);\n  const lastMove = useRef(0);\n  useEffect(() => {\n    const dot = dotRef.current;\n    const ring = ringRef.current;\n    if (!dot || !ring) return;\n    function onMouseMove(e) {\n      pos.current.x = e.clientX;\n      pos.current.y = e.clientY;\n      vis.current = true;\n      lastMove.current = performance.now();\n    }\n    function onMouseOut() {\n      vis.current = false;\n    }\n    function onHoverChange(e) {\n      // detect button-like targets\n      const t = e.target;\n      const should = !!t.closest && t.closest('button, a, [role=\"button\"], input, textarea') != null;\n      hover.current = should;\n    }\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseout', onMouseOut);\n    window.addEventListener('mouseover', onHoverChange);\n    let cx = pos.current.x;\n    let cy = pos.current.y;\n    let ringScale = 1;\n    function loop() {\n      cx = lerp(cx, pos.current.x, 0.18);\n      cy = lerp(cy, pos.current.y, 0.18);\n      dot.style.transform = `translate3d(${cx - 6}px, ${cy - 6}px, 0)`;\n      // ring follows with slight lag and scales on hover\n      const rx = lerp(parseFloat(ring.dataset.x || cx), cx, 0.08);\n      const ry = lerp(parseFloat(ring.dataset.y || cy), cy, 0.08);\n      ring.dataset.x = rx;\n      ring.dataset.y = ry;\n      ringScale = lerp(ringScale, hover.current ? 1.9 : 1, 0.12);\n      ring.style.transform = `translate3d(${rx - 18}px, ${ry - 18}px, 0) scale(${ringScale})`;\n      ring.style.opacity = 0.9;\n      rafRef.current = requestAnimationFrame(loop);\n    }\n    rafRef.current = requestAnimationFrame(loop);\n    return () => {\n      window.removeEventListener('mousemove', onMouseMove);\n      window.removeEventListener('mouseout', onMouseOut);\n      window.removeEventListener('mouseover', onHoverChange);\n      cancelAnimationFrame(rafRef.current);\n    };\n  }, []);\n\n  // hide native cursor on app root via css class\n  useEffect(() => {\n    document.documentElement.classList.add('custom-cursor-hide');\n    return () => document.documentElement.classList.remove('custom-cursor-hide');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ringRef,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 36,\n        height: 36,\n        borderRadius: 9999,\n        border: '1.5px solid rgba(255,255,255,0.12)',\n        pointerEvents: 'none',\n        transform: 'translate3d(0,0,0)',\n        transition: 'background-color 160ms, border-color 160ms',\n        zIndex: 100000\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dotRef,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 12,\n        height: 12,\n        borderRadius: 9999,\n        background: 'radial-gradient(circle at 30% 30%, #fff, #ddd)',\n        boxShadow: '0 6px 20px rgba(125,72,255,0.14)',\n        pointerEvents: 'none',\n        transform: 'translate3d(0,0,0)',\n        zIndex: 100001\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s2(CustomCursor, \"g1unQoobzN+Epy5Nk7LAbe0Lmdo=\");\n_c2 = CustomCursor;\nfunction MiniGame({\n  timeLimit = 6000,\n  onComplete,\n  flavor\n}) {\n  _s3();\n  // (duplicate-free MiniGame kept as earlier -- this is harmless re-declare to keep file self-contained)\n  const [charge, setCharge] = useState(0);\n  const runningRef = useRef(false);\n  const raf = useRef(null);\n  const startedAt = useRef(0);\n  const manualBoost = useRef(0);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  function start() {\n    if (runningRef.current) return;\n    runningRef.current = true;\n    manualBoost.current = 0;\n    startedAt.current = performance.now();\n    tick();\n  }\n  function tick() {\n    raf.current = requestAnimationFrame(() => {\n      const elapsed = performance.now() - startedAt.current;\n      const base = Math.min(100, Math.round(elapsed / timeLimit * 100));\n      const total = Math.min(100, base + manualBoost.current);\n      setCharge(total);\n      if (total >= 100) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(true);\n        return;\n      }\n      if (elapsed >= timeLimit) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(total >= 60);\n        return;\n      }\n      tick();\n    });\n  }\n  function handleTap() {\n    if (!runningRef.current) start();else {\n      manualBoost.current = Math.min(100, manualBoost.current + 12);\n      setCharge(c => Math.min(100, c + 12));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full flex flex-col items-center gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-gray-400 italic\",\n      children: flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-56 h-56 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        onClick: handleTap,\n        whileTap: {\n          scale: 0.9\n        },\n        whileHover: {\n          scale: 1.04\n        },\n        transition: {\n          type: 'spring',\n          stiffness: 300\n        },\n        className: \"w-40 h-40 rounded-full bg-gradient-to-tr from-indigo-500 to-pink-500 shadow-2xl flex items-center justify-center cursor-pointer relative overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          animate: {\n            rotate: [0, 360]\n          },\n          transition: {\n            repeat: Infinity,\n            duration: 8,\n            ease: 'linear'\n          },\n          className: \"absolute inset-0 opacity-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-white font-extrabold text-xl\",\n          children: \"TAP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm mb-2 text-gray-300\",\n        children: [\"Charge: \", charge, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-4 bg-gray-800 rounded-full overflow-hidden border border-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"h-full rounded-full\",\n          style: {\n            background: 'linear-gradient(90deg,#7c3aed,#06b6d4)'\n          },\n          animate: {\n            width: `${charge}%`\n          },\n          transition: {\n            type: 'spring',\n            stiffness: 140,\n            damping: 16\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n}\n_s3(MiniGame, \"7W1Gbp5uQvXAuYfcKgP+cnkG9w8=\");\n_c3 = MiniGame;\nexport default function GamifiedSurveyForm() {\n  _s4();\n  const [answers, setAnswers] = useState(() => {\n    try {\n      const raw = localStorage.getItem('gamifiedSurveyAnswers');\n      return raw ? JSON.parse(raw) : {};\n    } catch (e) {\n      return {};\n    }\n  });\n  const [score, setScore] = useState(() => Number(localStorage.getItem('gamifiedSurveyScore')) || 0);\n  const [showFinish, setShowFinish] = useState(false);\n  const [openingDone, setOpeningDone] = useState(false);\n  const [showResponses, setShowResponses] = useState(false);\n  const canvasRef = useRef(null);\n  const bgCanvasRef = useRef(null);\n  useEffect(() => localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n  const visible = QUESTIONS.filter(q => {\n    if (!q.dependsOn) return true;\n    const keys = Object.keys(q.dependsOn);\n    return keys.every(k => answers[k] === q.dependsOn[k]);\n  });\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addChapterRef = el => {\n    if (el) chapterRefs.current.push(el);\n  };\n  const [height, setHeight] = useState(typeof window !== 'undefined' ? window.innerHeight : 800);\n  useEffect(() => {\n    function onResize() {\n      setHeight(window.innerHeight);\n    }\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n  useEffect(() => {\n    const prev = {\n      overflow: document.documentElement.style.overflow,\n      touchAction: document.body.style.touchAction\n    };\n    document.documentElement.style.overflow = 'hidden';\n    document.body.style.touchAction = 'none';\n    return () => {\n      document.documentElement.style.overflow = prev.overflow;\n      document.body.style.touchAction = prev.touchAction;\n    };\n  }, []);\n  const targetY = useRef(0);\n  const currentY = useRef(0);\n  const rafRef = useRef(null);\n  const lastWheelAt = useRef(0);\n  const isScrolling = useRef(false);\n  const SNAP_DELAY = 70; // tuned\n  const LERP_FAST = 0.42;\n  const LERP_SNAP = 0.62;\n  const cursor = useRef({\n    x: typeof window !== 'undefined' ? window.innerWidth / 2 : 0,\n    y: typeof window !== 'undefined' ? window.innerHeight / 2 : 0,\n    active: false\n  });\n  const lastCursorUpdate = useRef(0);\n  const bgRAF = useRef(null);\n  const activeIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n  useEffect(() => {\n    if (openingDone) {/* canvas starts (heavy) after opening */}\n  }, [openingDone]);\n  useEffect(() => {\n    const isTouching = {\n      v: false\n    };\n    const touchStartY = {\n      v: 0\n    };\n    function clampTarget() {\n      const max = Math.max(0, (visible.length - 1) * height);\n      if (targetY.current < 0) targetY.current = 0;\n      if (targetY.current > max) targetY.current = max;\n    }\n    function onWheel(e) {\n      e.preventDefault();\n      targetY.current += e.deltaY * 1.2;\n      clampTarget();\n      lastWheelAt.current = performance.now();\n      isScrolling.current = true;\n    }\n    function onTouchStart(e) {\n      touchStartY.v = e.touches[0].clientY;\n      isTouching.v = true;\n    }\n    function onTouchMove(e) {\n      if (!isTouching.v) return;\n      const y = e.touches[0].clientY;\n      const delta = touchStartY.v - y;\n      targetY.current += delta;\n      touchStartY.v = y;\n      clampTarget();\n      lastWheelAt.current = performance.now();\n      isScrolling.current = true;\n    }\n    function onTouchEnd() {\n      isTouching.v = false;\n    }\n    function onKey(e) {\n      if (e.key === 'ArrowDown') {\n        targetY.current += height * 0.95;\n        clampTarget();\n        lastWheelAt.current = performance.now();\n        isScrolling.current = true;\n      }\n      if (e.key === 'ArrowUp') {\n        targetY.current -= height * 0.95;\n        clampTarget();\n        lastWheelAt.current = performance.now();\n        isScrolling.current = true;\n      }\n    }\n    const el = containerRef.current || window;\n    el.addEventListener('wheel', onWheel, {\n      passive: false\n    });\n    window.addEventListener('touchstart', onTouchStart, {\n      passive: false\n    });\n    window.addEventListener('touchmove', onTouchMove, {\n      passive: false\n    });\n    window.addEventListener('touchend', onTouchEnd, {\n      passive: false\n    });\n    window.addEventListener('keydown', onKey);\n    function onPointer(e) {\n      // throttle cursor updates\n      const now = performance.now();\n      if (now - lastCursorUpdate.current > 12) {\n        cursor.current.x = e.clientX;\n        cursor.current.y = e.clientY;\n        cursor.current.active = true;\n        lastCursorUpdate.current = now;\n      }\n    }\n    function onPointerLeave() {\n      cursor.current.active = false;\n    }\n    function onPointerDown(e) {\n      const px = e.clientX;\n      const py = e.clientY;\n      cursor.current.x = px;\n      cursor.current.y = py;\n      if (bgCanvasRef.current && bgCanvasRef.current._triggerPop) bgCanvasRef.current._triggerPop(px, py);\n    }\n    window.addEventListener('pointermove', onPointer);\n    window.addEventListener('pointerout', onPointerLeave);\n    window.addEventListener('pointerdown', onPointerDown);\n    return () => {\n      el.removeEventListener('wheel', onWheel);\n      window.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('touchmove', onTouchMove);\n      window.removeEventListener('touchend', onTouchEnd);\n      window.removeEventListener('keydown', onKey);\n      window.removeEventListener('pointermove', onPointer);\n      window.removeEventListener('pointerout', onPointerLeave);\n      window.removeEventListener('pointerdown', onPointerDown);\n    };\n  }, [height, visible.length]);\n  useEffect(() => {\n    const canvas = bgCanvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    let W = canvas.width = window.innerWidth;\n    let H = canvas.height = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.5);\n    canvas.width = W * DPR;\n    canvas.height = H * DPR;\n    canvas.style.width = W + 'px';\n    canvas.style.height = H + 'px';\n    ctx.scale(DPR, DPR);\n\n    // adaptive brick sizing for performance\n    let BRICK_W = window.innerWidth < 640 ? 120 : 96;\n    let BRICK_H = window.innerWidth < 640 ? 56 : 44;\n    let cols = Math.ceil(W / BRICK_W);\n    let rows = Math.ceil(H / BRICK_H);\n    const MAX_BRICKS = 900; // reduce to improve perf\n    if (cols * rows > MAX_BRICKS) {\n      const scaleUp = Math.sqrt(cols * rows / MAX_BRICKS);\n      BRICK_W = Math.ceil(BRICK_W * scaleUp);\n      BRICK_H = Math.ceil(BRICK_H * scaleUp);\n      cols = Math.ceil(W / BRICK_W);\n      rows = Math.ceil(H / BRICK_H);\n    }\n    const bricks = [];\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const x = c * BRICK_W + (r % 2 ? BRICK_W / 2 : 0);\n        const y = r * BRICK_H;\n        const cx = x + BRICK_W / 2;\n        const cy = y + BRICK_H / 2;\n        bricks.push({\n          x,\n          y,\n          w: BRICK_W,\n          h: BRICK_H,\n          baseX: x,\n          baseY: y,\n          cx,\n          cy,\n          pop: 0,\n          vy: 0,\n          phase: Math.random() * Math.PI * 2,\n          falling: false,\n          fallY: 0,\n          fallVy: 0,\n          opacity: 1,\n          gone: false\n        });\n      }\n    }\n    canvas._triggerPop = function (px, py) {\n      // find nearest brick to click (not exact grid check) for nicer feel\n      let nearest = null;\n      let best = Infinity;\n      for (let b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        if (d < best) {\n          best = d;\n          nearest = b;\n        }\n      }\n      if (nearest && !nearest.falling && best < Math.max(120, Math.min(window.innerWidth, window.innerHeight) * 0.06)) {\n        nearest.falling = true;\n        nearest.fallVy = Math.random() * 4 + 2;\n        nearest.fallY = 0;\n      }\n      const R = 120;\n      for (let b of bricks) {\n        if (b.falling || b.gone) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        if (d < R) {\n          const norm = 1 - d / R;\n          b.pop = Math.max(b.pop, 0.3 * norm);\n          b.vy += 4 * norm + Math.random() * 2;\n        }\n      }\n    };\n    let lastT = performance.now();\n    function draw(now) {\n      let dt = Math.min(40, now - lastT) * 0.001;\n      if (dt <= 0) {\n        bgRAF.current = requestAnimationFrame(draw);\n        return;\n      }\n      lastT = now;\n      ctx.clearRect(0, 0, W, H);\n      ctx.fillStyle = '#03030a';\n      ctx.fillRect(0, 0, W, H);\n      const maxD = Math.max(W, H) * 0.65;\n      const time = now * 0.001;\n      const skipShadows = bricks.length > 700; // skip heavy shadows on large grids\n\n      for (let b of bricks) {\n        if (b.gone) continue;\n        if (b.falling) {\n          b.fallVy += 900 * dt;\n          b.fallY += b.fallVy * dt;\n          b.opacity = Math.max(0, 1 - b.fallY / (H * 1.5));\n          if (b.fallY > H + 100) {\n            b.gone = true;\n            continue;\n          }\n        }\n        const dx = b.cx - cursor.current.x;\n        const dy = b.cy - cursor.current.y;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        let t = Math.max(0, 1 - d / maxD);\n        t = Math.pow(t, 0.9);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 18);\n        const wobble = b.falling ? 0 : Math.sin(b.phase + time * 1.2) * 3 * t;\n        if (!b.falling) {\n          b.vy -= 30 * dt;\n          b.vy *= 0.92 - Math.min(0.18, t * 0.12);\n          b.pop = Math.max(0, b.pop - 0.012);\n        }\n        const yOffset = b.falling ? b.fallY : -lift + b.vy * dt * 60;\n        const baseR = 8 + Math.round(40 * t + 10 * Math.sin(b.phase + time * 0.6));\n        const baseG = 12 + Math.round(18 * t + 8 * Math.cos(b.phase + time * 0.8));\n        const baseB = 18 + Math.round(24 * t + 6 * Math.sin(b.phase + time * 0.7));\n        ctx.save();\n        ctx.globalAlpha = b.opacity;\n        ctx.fillStyle = `rgb(${baseR}, ${baseG}, ${baseB})`;\n        if (lift > 2 && !b.falling && !skipShadows) {\n          ctx.shadowBlur = Math.min(28, lift * 1.6);\n          ctx.shadowColor = `rgba(40,60,160,${Math.min(0.22, 0.06 * t + 0.06 * b.pop)})`;\n        } else ctx.shadowBlur = 0;\n        const px = b.baseX + wobble * 0.6;\n        const py = b.baseY + yOffset;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n        if ((t > 0.08 || b.pop > 0.02) && !b.falling) {\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = `rgba(255,255,255,${0.03 * t + 0.06 * b.pop})`;\n          ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(3, Math.min(8, 4 * t + 6 * b.pop)));\n        }\n        ctx.restore();\n      }\n      bgRAF.current = requestAnimationFrame(draw);\n    }\n    function roundRect(ctx, x, y, w, h, r) {\n      const minr = Math.min(r, w / 2, h / 2);\n      ctx.beginPath();\n      ctx.moveTo(x + minr, y);\n      ctx.arcTo(x + w, y, x + w, y + h, minr);\n      ctx.arcTo(x + w, y + h, x, y + h, minr);\n      ctx.arcTo(x, y + h, x, y, minr);\n      ctx.arcTo(x, y, x + w, y, minr);\n      ctx.closePath();\n    }\n    function onResize() {\n      W = canvas.width = window.innerWidth;\n      H = canvas.height = window.innerHeight;\n      canvas.width = W * DPR;\n      canvas.height = H * DPR;\n      canvas.style.width = W + 'px';\n      canvas.style.height = H + 'px';\n      ctx.scale(DPR, DPR);\n    }\n    window.addEventListener('resize', onResize);\n    bgRAF.current = requestAnimationFrame(draw);\n    return () => {\n      window.removeEventListener('resize', onResize);\n      cancelAnimationFrame(bgRAF.current);\n    };\n  }, [openingDone]); // wait until opening done to start heavy canvas\n\n  useEffect(() => {\n    function frame(now) {\n      currentY.current = lerp(currentY.current, targetY.current, performance.now() - lastWheelAt.current > SNAP_DELAY ? LERP_SNAP : LERP_FAST);\n      const el = containerRef.current;\n      if (el) el.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n      chapterRefs.current.forEach((node, i) => {\n        if (!node) return;\n        const center = i * height;\n        const offset = (currentY.current - center) / height;\n        const abs = Math.abs(offset);\n        const translateY = offset * 34;\n        const translateX = 0;\n        const rotate = offset * 3.6;\n        const scale = 1 - Math.min(0.08, abs * 0.08);\n        const opacity = 1 - Math.min(0.9, abs * 0.9);\n        node.style.transform = `translate3d(${translateX}px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`;\n        node.style.opacity = String(opacity);\n      });\n      const idx = Math.round(currentY.current / height);\n      if (activeIndexRef.current !== idx) {\n        activeIndexRef.current = idx;\n        setActiveIndex(idx);\n      }\n      rafRef.current = requestAnimationFrame(frame);\n    }\n    rafRef.current = requestAnimationFrame(frame);\n    return () => cancelAnimationFrame(rafRef.current);\n  }, [height, visible.length]);\n  function scrollToIndex(i) {\n    const max = Math.max(0, (visible.length - 1) * height);\n    const dest = Math.max(0, Math.min(i * height, max));\n    targetY.current = dest;\n    lastWheelAt.current = performance.now();\n    isScrolling.current = true;\n  }\n  const AUTO_ADVANCE_DELAY_MS = 240;\n  const MINIGAME_ADVANCE_MS = 300;\n  function handleAnswer(qid, value) {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: value\n    }));\n    const questionDef = QUESTIONS.find(x => x.id === qid) || {};\n    let gained = 0;\n    if (questionDef.type === 'mcq' && questionDef.points) gained = questionDef.points[value] || 0;else if (questionDef.type === 'rating') gained = value * (questionDef.pointsPerStar || 1);else if (questionDef.type === 'text') gained = questionDef.points || 0;\n    if (gained) {\n      setScore(s => s + gained);\n      pulseScore();\n    }\n    if (questionDef.type === 'mcq' || questionDef.type === 'rating') {\n      const next = Math.min(activeIndexRef.current + 1, visible.length - 1);\n      setTimeout(() => scrollToIndex(next), AUTO_ADVANCE_DELAY_MS);\n    }\n  }\n  function pulseScore() {\n    const el = document.getElementById('score-badge');\n    if (!el) return;\n    el.animate([{\n      transform: 'translateY(0) scale(1)'\n    }, {\n      transform: 'translateY(-6px) scale(1.06)'\n    }, {\n      transform: 'translateY(0) scale(1)'\n    }], {\n      duration: 520,\n      easing: 'ease-out'\n    });\n  }\n  function onMiniGameComplete(success) {\n    if (success) {\n      setScore(s => s + 30);\n      pulseScore();\n    }\n    setAnswers(prev => ({\n      ...prev,\n      q4: success ? 'success' : 'fail'\n    }));\n    setTimeout(() => scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)), MINIGAME_ADVANCE_MS);\n  }\n  function finish() {\n    setShowFinish(true);\n    if (canvasRef.current) confettiBurst(canvasRef.current);\n  }\n  function resetAll() {\n    if (!window.confirm('Reset survey? This clears local progress.')) return;\n    setAnswers({});\n    setScore(0);\n    setShowFinish(false);\n    targetY.current = 0;\n    currentY.current = 0;\n    if (containerRef.current) containerRef.current.style.transform = 'translate3d(0,0,0)';\n  }\n  function ChapterContent({\n    item,\n    idx\n  }) {\n    // stage page (intro / end)\n    if (item.type === 'stage') {\n      const isFirst = idx === 0;\n      const isLast = idx === Math.max(0, visible.length - 1);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-3xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(motion.h1, {\n          initial: {\n            y: 40,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 1\n          },\n          transition: {\n            duration: 0.8\n          },\n          className: \"text-5xl md:text-7xl font-extrabold tracking-tight bg-clip-text text-transparent\",\n          style: {\n            backgroundImage: 'linear-gradient(90deg,#8b5cf6,#06b6d4)'\n          },\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this), item.subtitle && /*#__PURE__*/_jsxDEV(motion.p, {\n          initial: {\n            y: 20,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 0.95\n          },\n          transition: {\n            delay: 0.15\n          },\n          className: \"mt-6 text-lg text-gray-300\",\n          children: item.subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 mx-auto w-full max-w-md bg-gradient-to-b from-black/60 to-transparent border border-gray-800 rounded-2xl p-6 shadow-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"40\",\n              height: \"40\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              className: \"opacity-95\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 2l3 7h7l-5.5 4 2 7L12 17l-6.5 3 2-7L2 9h7l3-7z\",\n                stroke: \"#c4b5fd\",\n                strokeWidth: \"0.8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 98\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold text-lg\",\n                children: \"Experience\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-400\",\n                children: \"A cinematic flow \\u2014 read the prompt, pick quickly, and earn points.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: isLast ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 justify-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => resetAll(),\n                className: \"px-5 py-3 rounded-lg bg-gradient-to-r from-red-600 to-pink-500 text-white\",\n                children: \"Restart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowResponses(true),\n                className: \"px-5 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700\",\n                children: \"View responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 justify-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => scrollToIndex(Math.min(idx + 1, visible.length - 1)),\n                className: \"px-5 py-3 rounded-lg bg-gradient-to-r from-indigo-600 to-cyan-500 text-white\",\n                children: \"Enter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this), !isFirst && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => finish(),\n                className: \"px-5 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700\",\n                children: \"Skip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'mcq') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-3xl w-full mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400 italic mb-4\",\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: item.choices.map(c => /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.04\n            },\n            onClick: () => handleAnswer(item.id, c),\n            className: `py-7 px-6 rounded-3xl border ${answers[item.id] === c ? 'bg-gradient-to-r from-indigo-600 to-cyan-500 text-white shadow-2xl transform-gpu' : 'bg-gray-900 text-gray-300 border-gray-800'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-xl\",\n              children: c\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-400 mt-1\",\n              children: item.points && item.points[c] ? `${item.points[c]} pts` : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 15\n            }, this)]\n          }, c, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'rating') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400 italic mb-4\",\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center gap-4\",\n          children: Array.from({\n            length: item.scale\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(motion.button, {\n            onClick: () => handleAnswer(item.id, i + 1),\n            whileTap: {\n              scale: 0.95\n            },\n            className: `w-16 h-16 rounded-full flex items-center justify-center ${answers[item.id] === i + 1 ? 'bg-yellow-400 text-black' : 'bg-gray-800 text-gray-300'}`,\n            children: i + 1\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'text') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-3xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400 italic mb-4\",\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          maxLength: item.maxLength,\n          rows: 5,\n          value: answers[item.id] || '',\n          onChange: e => setAnswers(prev => ({\n            ...prev,\n            [item.id]: e.target.value\n          })),\n          className: \"w-full p-4 rounded-xl border bg-gray-900 text-gray-100 border-gray-700\",\n          placeholder: \"One-line pitch...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-400 mt-2\",\n          children: [(answers[item.id] || '').length, \"/\", item.maxLength]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 flex gap-4 justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (item.points && (answers[item.id] || '').length > 0) {\n                setScore(s => s + item.points);\n                pulseScore();\n              }\n              scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1));\n            },\n            className: \"px-6 py-3 rounded-lg bg-gradient-to-r from-indigo-600 to-cyan-500 text-white font-semibold\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAnswers(prev => ({\n              ...prev,\n              [item.id]: ''\n            })),\n            className: \"px-6 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700 font-semibold\",\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'minigame') return /*#__PURE__*/_jsxDEV(MiniGame, {\n      timeLimit: item.timeLimit,\n      onComplete: onMiniGameComplete,\n      flavor: item.flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 41\n    }, this);\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-black text-gray-100 relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.cinema-stack { will-change: transform; } .nav-dot { width:12px; height:12px; border-radius:9999px; } .chapter-node { will-change: transform, opacity; } .responses-pre { max-height:60vh; overflow:auto; white-space:pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace; }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomCursor, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 -z-30 bg-gradient-to-b from-transparent to-black/80\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: bgCanvasRef,\n      className: \"pointer-events-none fixed inset-0 z-0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"pointer-events-none fixed inset-0 z-50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed right-6 top-6 z-60 flex flex-col gap-3 items-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"score-badge\",\n        className: \"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white font-semibold rounded-full text-sm shadow-lg\",\n        children: [score, \" pts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-400\",\n        children: [\"Level \", Math.floor(score / 50) + 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"fixed left-6 top-1/2 -translate-y-1/2 z-60 hidden md:flex flex-col gap-3\",\n      children: visible.map((_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => scrollToIndex(i),\n        className: `nav-dot ${i === activeIndex ? 'bg-gradient-to-r from-indigo-400 to-pink-400 shadow-2xl' : 'bg-gray-700/40'}`,\n        \"aria-label\": `Go to chapter ${i + 1}`\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"cinema-stack fixed inset-0 top-0 left-0 w-full will-change-transform z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: `${visible.length * height}px`\n        },\n        children: visible.map((item, i) => /*#__PURE__*/_jsxDEV(\"section\", {\n          ref: addChapterRef,\n          style: {\n            height: `${height}px`\n          },\n          className: \"flex items-center justify-center px-6 md:px-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6 items-center chapter-node\",\n            children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n              className: \"col-span-1 hidden lg:flex flex-col gap-4 items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-400\",\n                children: \"Chapter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  rotate: activeIndex === i ? 6 : 0\n                },\n                transition: {\n                  type: 'spring'\n                },\n                className: \"text-4xl md:text-5xl font-extrabold\",\n                children: String(i + 1).padStart(2, '0')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-1 h-full bg-gradient-to-b from-indigo-600 to-pink-500 rounded-full opacity-30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2 bg-transparent rounded-xl p-8 text-center\",\n              children: /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  y: 30\n                },\n                animate: {\n                  opacity: 1,\n                  y: 0\n                },\n                transition: {\n                  duration: 0.8\n                },\n                children: /*#__PURE__*/_jsxDEV(ChapterContent, {\n                  item: item,\n                  idx: i\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: !openingDone && /*#__PURE__*/_jsxDEV(OpeningSpectacle, {\n        items: QUESTIONS,\n        onDone: () => setOpeningDone(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 41\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 7\n    }, this), showFinish && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-70 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-black/70 backdrop-blur-sm rounded-xl p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl font-bold\",\n          children: \"All done \\uD83C\\uDF89\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-gray-300\",\n          children: [\"You earned \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 58\n          }, this), \" points. Thanks for playing!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 flex gap-3 justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resetAll,\n            className: \"px-4 py-2 rounded bg-red-700/20 text-red-300\",\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 61\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showResponses && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        className: \"fixed inset-0 z-90 flex items-center justify-center p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-black/85 rounded-xl p-6 max-w-3xl w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold\",\n              children: \"Your Responses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowResponses(false),\n              className: \"text-sm text-gray-400\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 responses-pre text-sm text-gray-200 bg-gray-900 p-4 rounded\",\n            children: JSON.stringify(answers, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex gap-3 justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowResponses(false);\n                resetAll();\n              },\n              className: \"px-4 py-2 rounded bg-red-600 text-white\",\n              children: \"Restart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 626,\n    columnNumber: 5\n  }, this);\n}\n_s4(GamifiedSurveyForm, \"tglj/r9XeIdOiO6emQSLRw8T4ew=\");\n_c4 = GamifiedSurveyForm;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"OpeningSpectacle\");\n$RefreshReg$(_c2, \"CustomCursor\");\n$RefreshReg$(_c3, \"MiniGame\");\n$RefreshReg$(_c4, \"GamifiedSurveyForm\");","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","AnimatePresence","jsxDEV","_jsxDEV","Fragment","_Fragment","QUESTIONS","id","type","title","subtitle","choices","points","flavor","scale","pointsPerStar","maxLength","timeLimit","pointsOnSuccess","dependsOn","q1","lerp","a","b","n","confettiBurst","canvas","ctx","getContext","W","width","window","innerWidth","H","height","innerHeight","pieces","i","push","x","y","vx","Math","random","vy","r","color","floor","rot","vr","t","frame","clearRect","p","save","translate","rotate","PI","fillStyle","fillRect","restore","requestAnimationFrame","OpeningSpectacle","onDone","items","_s","canvasRef","rafRef","startRef","performance","now","DURATION","current","DPR","min","devicePixelRatio","style","COUNT","max","R","particles","Array","fill","map","theta","acos","phi","z","baseR","rotY","rotX","last","dragging","lastX","lastY","onPointerDown","e","clientX","clientY","onPointerMove","dx","dy","onPointerUp","addEventListener","project","ry","rx","cx","cos","cy","sin","cz","draw","elapsed","easeIn","g","createLinearGradient","addColorStop","globalAlpha","font","textAlign","fillText","pos","sx","sy","depth","hue","beginPath","grd","createRadialGradient","arc","cardScale","pow","heroOpacity","w","h","rad","gx","roundRect","setTimeout","minr","moveTo","arcTo","closePath","onResize","cancelAnimationFrame","removeEventListener","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","CustomCursor","_s2","dotRef","ringRef","vis","hover","lastMove","dot","ring","onMouseMove","onMouseOut","onHoverChange","target","should","closest","ringScale","loop","transform","parseFloat","dataset","opacity","document","documentElement","classList","add","remove","position","left","top","borderRadius","border","pointerEvents","transition","zIndex","background","boxShadow","_c2","MiniGame","onComplete","_s3","charge","setCharge","runningRef","raf","startedAt","manualBoost","start","tick","base","round","total","handleTap","c","div","onClick","whileTap","whileHover","stiffness","animate","repeat","Infinity","duration","ease","damping","_c3","GamifiedSurveyForm","_s4","answers","setAnswers","raw","localStorage","getItem","JSON","parse","score","setScore","Number","showFinish","setShowFinish","openingDone","setOpeningDone","showResponses","setShowResponses","bgCanvasRef","setItem","stringify","String","visible","filter","q","keys","Object","every","k","containerRef","chapterRefs","addChapterRef","el","setHeight","prev","overflow","touchAction","body","targetY","currentY","lastWheelAt","isScrolling","SNAP_DELAY","LERP_FAST","LERP_SNAP","cursor","active","lastCursorUpdate","bgRAF","activeIndexRef","activeIndex","setActiveIndex","isTouching","v","touchStartY","clampTarget","length","onWheel","preventDefault","deltaY","onTouchStart","touches","onTouchMove","delta","onTouchEnd","onKey","key","passive","onPointer","onPointerLeave","px","py","_triggerPop","BRICK_W","BRICK_H","cols","ceil","rows","MAX_BRICKS","scaleUp","sqrt","bricks","baseX","baseY","pop","phase","falling","fallY","fallVy","gone","nearest","best","d","norm","lastT","dt","maxD","time","skipShadows","lift","wobble","yOffset","baseG","baseB","shadowBlur","shadowColor","forEach","node","center","offset","abs","translateY","translateX","idx","scrollToIndex","dest","AUTO_ADVANCE_DELAY_MS","MINIGAME_ADVANCE_MS","handleAnswer","qid","value","questionDef","find","gained","s","pulseScore","next","getElementById","easing","onMiniGameComplete","success","q4","finish","resetAll","confirm","ChapterContent","item","isFirst","isLast","h1","initial","backgroundImage","delay","viewBox","stroke","strokeWidth","button","from","_","onChange","placeholder","padStart","exit","_c4","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/App/gamified-survey/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n// Gamified Survey — cinematic page-change scroller with dramatic animations\n// Tailwind + Framer Motion required.\n\nconst QUESTIONS = [\n  { id: \"intro\", type: \"stage\", title: \"Nightfall at HackPlay\", subtitle: \"Step into a neon-lit hall. Your choices tune the journey.\" },\n  {\n    id: \"q1\",\n    type: \"mcq\",\n    title: \"Entrance — choose your mindset\",\n    choices: [\"Build something cool\", \"Learn fast\", \"Meet people\", \"Chase the prizes\"],\n    points: { \"Build something cool\": 20, \"Learn fast\": 10, \"Meet people\": 15, \"Chase the prizes\": 5 },\n    flavor: \"The doors close. A low bass. Pick the vibe that follows you.\",\n  },\n  {\n    id: \"q2\",\n    type: \"rating\",\n    title: \"Charge Meter — how hyped are you?\",\n    scale: 5,\n    pointsPerStar: 6,\n    flavor: \"The stage lights react to your energy.\",\n  },\n  {\n    id: \"q3\",\n    type: \"text\",\n    title: \"One-line pitch — what's the idea?\",\n    maxLength: 140,\n    points: 15,\n    flavor: \"A single line — the fragment your team will build around.\",\n  },\n  {\n    id: \"q4\",\n    type: \"minigame\",\n    title: \"Charge the core — tap to power your idea\",\n    timeLimit: 6000,\n    pointsOnSuccess: 30,\n    flavor: \"Fast reflexes prove prototype-ready energy.\",\n  },\n  {\n    id: \"q5\",\n    type: \"mcq\",\n    title: \"Team vibe — pick your tribe\",\n    choices: [\"Chill coders\", \"All-nighters\", \"Balanced squad\", \"Solo hero\"],\n    points: { \"Chill coders\": 10, \"All-nighters\": 20, \"Balanced squad\": 15, \"Solo hero\": 5 },\n    flavor: \"Who will you ride the night with?\",\n    dependsOn: { q1: \"Build something cool\" },\n  },\n  { id: \"end\", type: \"stage\", title: \"Curtain Call\", subtitle: \"Collect badges, revisit your pitch, and step back into the light.\" },\n];\n\nfunction lerp(a, b, n) { return (1 - n) * a + n * b; }\n\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  const ctx = canvas.getContext(\"2d\");\n  const W = (canvas.width = window.innerWidth);\n  const H = (canvas.height = window.innerHeight);\n  const pieces = [];\n  for (let i = 0; i < 80; i++) pieces.push({ x: W/2, y: H/4, vx: (Math.random()-0.5)*12, vy: (Math.random()-1.5)*10, r: Math.random()*6+3, color: [\"#ff6b6b\",\"#ffd93d\",\"#6bcB77\",\"#6b8aff\",\"#ff85e3\"][Math.floor(Math.random()*5)], rot: Math.random()*360, vr: Math.random()*8-4 });\n  let t = 0;\n  function frame() {\n    t++;\n    ctx.clearRect(0,0,W,H);\n    for (let p of pieces) {\n      p.x += p.vx;\n      p.y += p.vy + 0.3;\n      p.vy += 0.06;\n      ctx.save();\n      ctx.translate(p.x, p.y);\n      ctx.rotate((p.rot * Math.PI)/180);\n      ctx.fillStyle = p.color;\n      ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);\n      ctx.restore();\n    }\n    if (t < 180) requestAnimationFrame(frame); else ctx.clearRect(0,0,W,H);\n  }\n  frame();\n}\n\n// --- NEW: Opening spectacle (replaces previous globe) ---\n// A performant canvas-based particle-sphere that assembles then zooms in\nfunction OpeningSpectacle({ onDone, items }) {\n  const canvasRef = useRef(null);\n  const rafRef = useRef(null);\n  const startRef = useRef(performance.now());\n  const DURATION = 1700; // total animation time\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return onDone();\n    const ctx = canvas.getContext('2d');\n    let W = canvas.width = window.innerWidth;\n    let H = canvas.height = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.5);\n    canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = W + 'px'; canvas.style.height = H + 'px'; ctx.scale(DPR, DPR);\n\n    // particle sphere config\n    const COUNT = Math.min(600, Math.max(220, Math.floor((W * H) / 4000)));\n    const R = Math.min(220, Math.max(140, Math.min(W, H) * 0.18));\n    const particles = new Array(COUNT).fill(0).map(() => {\n      const theta = Math.acos(2 * Math.random() - 1) - Math.PI/2; // -pi/2..pi/2\n      const phi = Math.random() * Math.PI * 2;\n      return { theta, phi, x:0, y:0, z:0, baseR: (Math.random()*1.5)+0.6 };\n    });\n\n    let rotY = 0.0; let rotX = -0.25;\n    let last = performance.now();\n    let dragging = false; let lastX = 0, lastY = 0;\n\n    function onPointerDown(e){ dragging = true; lastX = e.clientX; lastY = e.clientY; }\n    function onPointerMove(e){ if(!dragging) return; const dx = (e.clientX - lastX) * 0.006; const dy = (e.clientY - lastY) * 0.006; rotY += dx; rotX = Math.max(-1.1, Math.min(1.1, rotX + dy)); lastX = e.clientX; lastY = e.clientY; }\n    function onPointerUp(){ dragging = false; }\n    canvas.addEventListener('pointerdown', onPointerDown); window.addEventListener('pointermove', onPointerMove); window.addEventListener('pointerup', onPointerUp);\n\n    function project(p, ry, rx) {\n      // spherical to cartesian\n      const cx = Math.cos(p.theta) * Math.cos(p.phi);\n      const cy = Math.sin(p.theta);\n      const cz = Math.cos(p.theta) * Math.sin(p.phi);\n      // rotate\n      // rotateY\n      let x = cx * Math.cos(ry) - cz * Math.sin(ry);\n      let z = cx * Math.sin(ry) + cz * Math.cos(ry);\n      // rotateX\n      let y = cy * Math.cos(rx) - z * Math.sin(rx);\n      z = cy * Math.sin(rx) + z * Math.cos(rx);\n      // final screen coords\n      const scale = (z + 1.8) / 2.8; // 0..1-ish\n      return { x: x * R, y: y * R * 0.6, z, scale };\n    }\n\n    function draw(now) {\n      const elapsed = now - startRef.current;\n      const t = Math.min(1, elapsed / DURATION);\n      const easeIn = t < 0.5 ? (2*t*t) : (-1 + (4-2*t)*t); // soft ease\n\n      const cx = W/2; const cy = H/2;\n      ctx.clearRect(0,0,W,H);\n      // background vignette\n      const g = ctx.createLinearGradient(0,0,0,H);\n      g.addColorStop(0, '#000000'); g.addColorStop(1, '#030317');\n      ctx.fillStyle = g; ctx.fillRect(0,0,W,H);\n\n      // subtle title text behind\n      ctx.save(); ctx.globalAlpha = 0.08 + 0.12 * easeIn; ctx.font = '900 68px Inter, system-ui, sans-serif'; ctx.textAlign='center'; ctx.fillStyle = '#9b87ff'; ctx.fillText('Nightfall', cx, cy - 12 - 80 * easeIn); ctx.restore();\n\n      // rotate slowly and add gentle auto rotation\n      rotY += 0.0025 * (0.6 + easeIn * 1.2);\n\n      for (let p of particles) {\n        const pos = project(p, rotY, rotX);\n        const scale = pos.scale * (0.6 + 0.6 * easeIn);\n        const sx = cx + pos.x * (0.8 + 0.5 * easeIn);\n        const sy = cy + pos.y * (0.9 + 0.25 * easeIn);\n        const r = Math.max(0.6, p.baseR * 2.4 * scale);\n        // color based on z (depth)\n        const depth = Math.max(0, Math.min(1, (pos.z + 1) / 2));\n        const hue = 240 - 140 * depth; // bluish to pinkish\n        ctx.beginPath();\n        const grd = ctx.createRadialGradient(sx, sy, 0, sx, sy, r*3);\n        grd.addColorStop(0, `hsla(${hue},90%,72%,${0.9})`);\n        grd.addColorStop(0.5, `hsla(${hue},80%,58%,${0.65})`);\n        grd.addColorStop(1, `hsla(${hue},60%,28%,${0.02})`);\n        ctx.fillStyle = grd;\n        ctx.arc(sx, sy, r*1.6, 0, Math.PI*2);\n        ctx.fill();\n      }\n\n      // center hero card - zoom effect as t approaches 1\n      const cardScale = 1 + 1.6 * (t > 0.5 ? Math.pow((t-0.5)/0.5, 1.6) : 0);\n      const heroOpacity = 0.9 * (t > 0.2 ? Math.min(1, (t-0.2)/0.6) : 0);\n      ctx.save(); ctx.translate(cx, cy - 10);\n      ctx.globalAlpha = heroOpacity;\n      const w = 540 * Math.min(1, 1 + 0.9 * (t));\n      const h = 220 * Math.min(1, 1 + 0.5 * (t));\n      // draw rounded rect with gradient\n      const rad = 20;\n      const gx = ctx.createLinearGradient(-w/2, -h/2, w/2, h/2);\n      gx.addColorStop(0, '#6d28d9'); gx.addColorStop(1, '#ec4899');\n      ctx.fillStyle = gx;\n      roundRect(ctx, -w/2, -h/2, w, h, rad);\n      ctx.fill();\n      // inner text\n      ctx.fillStyle = 'rgba(255,255,255,0.95)'; ctx.textAlign='center'; ctx.font = '800 28px Inter, system-ui, sans-serif'; ctx.fillText('Nightfall at HackPlay', 0, -4);\n      ctx.font = '500 14px Inter, system-ui, sans-serif'; ctx.fillStyle = 'rgba(255,255,255,0.85)'; ctx.fillText('Step into a neon-lit hall — your choices tune the journey.', 0, 28);\n      ctx.restore();\n\n      if (elapsed < DURATION) {\n        rafRef.current = requestAnimationFrame(draw);\n      } else {\n        // quick zoom out fade then done\n        setTimeout(() => {\n          onDone();\n        }, 280);\n      }\n    }\n\n    function roundRect(ctx, x, y, w, h, r) {\n      const minr = Math.min(r, w/2, h/2);\n      ctx.beginPath();\n      ctx.moveTo(x + minr, y);\n      ctx.arcTo(x + w, y, x + w, y + h, minr);\n      ctx.arcTo(x + w, y + h, x, y + h, minr);\n      ctx.arcTo(x, y + h, x, y, minr);\n      ctx.arcTo(x, y, x + w, y, minr);\n      ctx.closePath();\n    }\n\n    rafRef.current = requestAnimationFrame(draw);\n\n    function onResize() { W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = W + 'px'; canvas.style.height = H + 'px'; ctx.scale(DPR, DPR); }\n    window.addEventListener('resize', onResize);\n\n    return () => {\n      cancelAnimationFrame(rafRef.current);\n      canvas.removeEventListener('pointerdown', onPointerDown);\n      window.removeEventListener('pointermove', onPointerMove);\n      window.removeEventListener('pointerup', onPointerUp);\n      window.removeEventListener('resize', onResize);\n    };\n  }, [onDone, items]);\n\n  return (\n    <div className=\"fixed inset-0 z-90 flex items-center justify-center pointer-events-auto\">\n      <canvas ref={canvasRef} className=\"w-full h-full\" />\n    </div>\n  );\n}\n\n// --- New custom cursor component ---\nfunction CustomCursor() {\n  const dotRef = useRef(null);\n  const ringRef = useRef(null);\n  const pos = useRef({ x: window.innerWidth/2, y: window.innerHeight/2 });\n  const vis = useRef(true);\n  const hover = useRef(false);\n  const rafRef = useRef(null);\n  const lastMove = useRef(0);\n\n  useEffect(() => {\n    const dot = dotRef.current; const ring = ringRef.current;\n    if(!dot || !ring) return;\n\n    function onMouseMove(e){ pos.current.x = e.clientX; pos.current.y = e.clientY; vis.current = true; lastMove.current = performance.now(); }\n    function onMouseOut(){ vis.current = false; }\n    function onHoverChange(e){ // detect button-like targets\n      const t = e.target; const should = !!t.closest && (t.closest('button, a, [role=\"button\"], input, textarea') != null);\n      hover.current = should;\n    }\n\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseout', onMouseOut);\n    window.addEventListener('mouseover', onHoverChange);\n\n    let cx = pos.current.x; let cy = pos.current.y; let ringScale = 1;\n    function loop(){\n      cx = lerp(cx, pos.current.x, 0.18);\n      cy = lerp(cy, pos.current.y, 0.18);\n      dot.style.transform = `translate3d(${cx-6}px, ${cy-6}px, 0)`;\n      // ring follows with slight lag and scales on hover\n      const rx = lerp(parseFloat(ring.dataset.x || cx), cx, 0.08);\n      const ry = lerp(parseFloat(ring.dataset.y || cy), cy, 0.08);\n      ring.dataset.x = rx; ring.dataset.y = ry;\n      ringScale = lerp(ringScale, hover.current ? 1.9 : 1, 0.12);\n      ring.style.transform = `translate3d(${rx-18}px, ${ry-18}px, 0) scale(${ringScale})`;\n      ring.style.opacity = 0.9;\n      rafRef.current = requestAnimationFrame(loop);\n    }\n    rafRef.current = requestAnimationFrame(loop);\n\n    return () => { window.removeEventListener('mousemove', onMouseMove); window.removeEventListener('mouseout', onMouseOut); window.removeEventListener('mouseover', onHoverChange); cancelAnimationFrame(rafRef.current); };\n  }, []);\n\n  // hide native cursor on app root via css class\n  useEffect(() => {\n    document.documentElement.classList.add('custom-cursor-hide');\n    return () => document.documentElement.classList.remove('custom-cursor-hide');\n  }, []);\n\n  return (\n    <>\n      <div ref={ringRef} style={{ position: 'fixed', left: 0, top: 0, width: 36, height: 36, borderRadius: 9999, border: '1.5px solid rgba(255,255,255,0.12)', pointerEvents: 'none', transform: 'translate3d(0,0,0)', transition: 'background-color 160ms, border-color 160ms', zIndex: 100000 }} />\n      <div ref={dotRef} style={{ position: 'fixed', left: 0, top: 0, width: 12, height: 12, borderRadius: 9999, background: 'radial-gradient(circle at 30% 30%, #fff, #ddd)', boxShadow: '0 6px 20px rgba(125,72,255,0.14)', pointerEvents: 'none', transform: 'translate3d(0,0,0)', zIndex: 100001 }} />\n      <style>{`.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`}</style>\n    </>\n  );\n}\n\nfunction MiniGame({ timeLimit = 6000, onComplete, flavor }) {\n  // (duplicate-free MiniGame kept as earlier -- this is harmless re-declare to keep file self-contained)\n  const [charge, setCharge] = useState(0);\n  const runningRef = useRef(false);\n  const raf = useRef(null);\n  const startedAt = useRef(0);\n  const manualBoost = useRef(0);\n\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n\n  function start() { if (runningRef.current) return; runningRef.current = true; manualBoost.current = 0; startedAt.current = performance.now(); tick(); }\n  function tick() {\n    raf.current = requestAnimationFrame(() => {\n      const elapsed = performance.now() - startedAt.current;\n      const base = Math.min(100, Math.round((elapsed / timeLimit) * 100));\n      const total = Math.min(100, base + manualBoost.current);\n      setCharge(total);\n      if (total >= 100) { runningRef.current = false; cancelAnimationFrame(raf.current); onComplete(true); return; }\n      if (elapsed >= timeLimit) { runningRef.current = false; cancelAnimationFrame(raf.current); onComplete(total >= 60); return; }\n      tick();\n    });\n  }\n  function handleTap() { if (!runningRef.current) start(); else { manualBoost.current = Math.min(100, manualBoost.current + 12); setCharge(c => Math.min(100, c + 12)); } }\n\n  return (\n    <div className=\"w-full flex flex-col items-center gap-4\">\n      <div className=\"text-sm text-gray-400 italic\">{flavor}</div>\n      <div className=\"relative w-56 h-56 flex items-center justify-center\">\n        <motion.div onClick={handleTap} whileTap={{scale:0.9}} whileHover={{scale:1.04}} transition={{type:'spring', stiffness:300}} className=\"w-40 h-40 rounded-full bg-gradient-to-tr from-indigo-500 to-pink-500 shadow-2xl flex items-center justify-center cursor-pointer relative overflow-hidden\">\n          <motion.div animate={{rotate:[0,360]}} transition={{repeat: Infinity, duration:8, ease:'linear'}} className=\"absolute inset-0 opacity-20\" />\n          <div className=\"text-white font-extrabold text-xl\">TAP</div>\n        </motion.div>\n      </div>\n      <div className=\"w-full max-w-xl\">\n        <div className=\"text-sm mb-2 text-gray-300\">Charge: {charge}%</div>\n        <div className=\"w-full h-4 bg-gray-800 rounded-full overflow-hidden border border-gray-700\">\n          <motion.div className=\"h-full rounded-full\" style={{background: 'linear-gradient(90deg,#7c3aed,#06b6d4)'}} animate={{width: `${charge}%`}} transition={{type:'spring', stiffness:140, damping:16}} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function GamifiedSurveyForm() {\n  const [answers, setAnswers] = useState(() => { try { const raw = localStorage.getItem('gamifiedSurveyAnswers'); return raw ? JSON.parse(raw) : {}; } catch (e) { return {}; } });\n  const [score, setScore] = useState(() => Number(localStorage.getItem('gamifiedSurveyScore')) || 0);\n  const [showFinish, setShowFinish] = useState(false);\n  const [openingDone, setOpeningDone] = useState(false);\n  const [showResponses, setShowResponses] = useState(false);\n  const canvasRef = useRef(null);\n  const bgCanvasRef = useRef(null);\n\n  useEffect(() => localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n\n  const visible = QUESTIONS.filter(q => { if (!q.dependsOn) return true; const keys = Object.keys(q.dependsOn); return keys.every(k => answers[k] === q.dependsOn[k]); });\n\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addChapterRef = (el) => { if (el) chapterRefs.current.push(el); };\n\n  const [height, setHeight] = useState(typeof window !== 'undefined' ? window.innerHeight : 800);\n  useEffect(() => { function onResize(){ setHeight(window.innerHeight); } window.addEventListener('resize', onResize); return () => window.removeEventListener('resize', onResize); }, []);\n\n  useEffect(() => {\n    const prev = { overflow: document.documentElement.style.overflow, touchAction: document.body.style.touchAction };\n    document.documentElement.style.overflow = 'hidden';\n    document.body.style.touchAction = 'none';\n    return () => { document.documentElement.style.overflow = prev.overflow; document.body.style.touchAction = prev.touchAction; };\n  }, []);\n\n  const targetY = useRef(0);\n  const currentY = useRef(0);\n  const rafRef = useRef(null);\n  const lastWheelAt = useRef(0);\n  const isScrolling = useRef(false);\n\n  const SNAP_DELAY = 70; // tuned\n  const LERP_FAST = 0.42;\n  const LERP_SNAP = 0.62;\n\n  const cursor = useRef({ x: typeof window !== 'undefined' ? window.innerWidth/2 : 0, y: typeof window !== 'undefined' ? window.innerHeight/2 : 0, active: false });\n  const lastCursorUpdate = useRef(0);\n  const bgRAF = useRef(null);\n\n  const activeIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  useEffect(() => { if (openingDone) { /* canvas starts (heavy) after opening */ } }, [openingDone]);\n\n  useEffect(() => {\n    const isTouching = { v: false };\n    const touchStartY = { v: 0 };\n\n    function clampTarget(){ const max = Math.max(0, (visible.length - 1) * height); if (targetY.current < 0) targetY.current = 0; if (targetY.current > max) targetY.current = max; }\n\n    function onWheel(e){ e.preventDefault(); targetY.current += e.deltaY * 1.2; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; }\n    function onTouchStart(e){ touchStartY.v = e.touches[0].clientY; isTouching.v = true; }\n    function onTouchMove(e){ if(!isTouching.v) return; const y = e.touches[0].clientY; const delta = touchStartY.v - y; targetY.current += delta; touchStartY.v = y; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; }\n    function onTouchEnd(){ isTouching.v = false; }\n    function onKey(e){ if(e.key === 'ArrowDown'){ targetY.current += height * 0.95; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; } if(e.key === 'ArrowUp'){ targetY.current -= height * 0.95; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; } }\n\n    const el = containerRef.current || window;\n    el.addEventListener('wheel', onWheel, { passive: false });\n    window.addEventListener('touchstart', onTouchStart, { passive: false });\n    window.addEventListener('touchmove', onTouchMove, { passive: false });\n    window.addEventListener('touchend', onTouchEnd, { passive: false });\n    window.addEventListener('keydown', onKey);\n\n    function onPointer(e){ // throttle cursor updates\n      const now = performance.now();\n      if (now - lastCursorUpdate.current > 12) { cursor.current.x = e.clientX; cursor.current.y = e.clientY; cursor.current.active = true; lastCursorUpdate.current = now; }\n    }\n    function onPointerLeave(){ cursor.current.active = false; }\n    function onPointerDown(e){ const px = e.clientX; const py = e.clientY; cursor.current.x = px; cursor.current.y = py; if (bgCanvasRef.current && bgCanvasRef.current._triggerPop) bgCanvasRef.current._triggerPop(px, py); }\n\n    window.addEventListener('pointermove', onPointer);\n    window.addEventListener('pointerout', onPointerLeave);\n    window.addEventListener('pointerdown', onPointerDown);\n\n    return () => { el.removeEventListener('wheel', onWheel); window.removeEventListener('touchstart', onTouchStart); window.removeEventListener('touchmove', onTouchMove); window.removeEventListener('touchend', onTouchEnd); window.removeEventListener('keydown', onKey); window.removeEventListener('pointermove', onPointer); window.removeEventListener('pointerout', onPointerLeave); window.removeEventListener('pointerdown', onPointerDown); };\n  }, [height, visible.length]);\n\n  useEffect(() => {\n    const canvas = bgCanvasRef.current; if(!canvas) return; const ctx = canvas.getContext('2d'); let W = canvas.width = window.innerWidth; let H = canvas.height = window.innerHeight; const DPR = Math.min(window.devicePixelRatio || 1, 1.5); canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = W + 'px'; canvas.style.height = H + 'px'; ctx.scale(DPR, DPR);\n\n    // adaptive brick sizing for performance\n    let BRICK_W = window.innerWidth < 640 ? 120 : 96; let BRICK_H = window.innerWidth < 640 ? 56 : 44; let cols = Math.ceil(W / BRICK_W); let rows = Math.ceil(H / BRICK_H);\n    const MAX_BRICKS = 900; // reduce to improve perf\n    if (cols * rows > MAX_BRICKS) {\n      const scaleUp = Math.sqrt((cols * rows) / MAX_BRICKS);\n      BRICK_W = Math.ceil(BRICK_W * scaleUp);\n      BRICK_H = Math.ceil(BRICK_H * scaleUp);\n      cols = Math.ceil(W / BRICK_W); rows = Math.ceil(H / BRICK_H);\n    }\n\n    const bricks = [];\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const x = c * BRICK_W + (r % 2 ? BRICK_W / 2 : 0);\n        const y = r * BRICK_H;\n        const cx = x + BRICK_W/2;\n        const cy = y + BRICK_H/2;\n        bricks.push({ x, y, w: BRICK_W, h: BRICK_H, baseX: x, baseY: y, cx, cy, pop: 0, vy: 0, phase: Math.random() * Math.PI * 2, falling: false, fallY: 0, fallVy: 0, opacity: 1, gone: false });\n      }\n    }\n\n    canvas._triggerPop = function(px, py) {\n      // find nearest brick to click (not exact grid check) for nicer feel\n      let nearest = null; let best = Infinity;\n      for (let b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - px; const dy = b.cy - py; const d = Math.sqrt(dx*dx + dy*dy);\n        if (d < best) { best = d; nearest = b; }\n      }\n      if (nearest && !nearest.falling && best < Math.max(120, Math.min(window.innerWidth, window.innerHeight) * 0.06)) {\n        nearest.falling = true; nearest.fallVy = Math.random() * 4 + 2; nearest.fallY = 0;\n      }\n      const R = 120;\n      for (let b of bricks) {\n        if (b.falling || b.gone) continue;\n        const dx = b.cx - px; const dy = b.cy - py; const d = Math.sqrt(dx*dx + dy*dy);\n        if (d < R) {\n          const norm = 1 - d / R;\n          b.pop = Math.max(b.pop, 0.3 * norm);\n          b.vy += (4 * norm) + (Math.random() * 2);\n        }\n      }\n    };\n\n    let lastT = performance.now();\n    function draw(now) {\n      let dt = Math.min(40, now - lastT) * 0.001; if (dt <= 0) { bgRAF.current = requestAnimationFrame(draw); return; } lastT = now;\n      ctx.clearRect(0,0,W,H);\n      ctx.fillStyle = '#03030a'; ctx.fillRect(0,0,W,H);\n\n      const maxD = Math.max(W, H) * 0.65;\n      const time = now * 0.001;\n\n      const skipShadows = bricks.length > 700; // skip heavy shadows on large grids\n\n      for (let b of bricks) {\n        if (b.gone) continue;\n        if (b.falling) {\n          b.fallVy += 900 * dt; b.fallY += b.fallVy * dt; b.opacity = Math.max(0, 1 - (b.fallY / (H * 1.5)));\n          if (b.fallY > H + 100) { b.gone = true; continue; }\n        }\n        const dx = b.cx - cursor.current.x; const dy = b.cy - cursor.current.y; const d = Math.sqrt(dx*dx + dy*dy);\n        let t = Math.max(0, 1 - d / maxD); t = Math.pow(t, 0.9);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 18);\n        const wobble = b.falling ? 0 : Math.sin(b.phase + time * 1.2) * 3 * t;\n        if (!b.falling) { b.vy -= 30 * dt; b.vy *= (0.92 - Math.min(0.18, t * 0.12)); b.pop = Math.max(0, b.pop - 0.012); }\n        const yOffset = b.falling ? b.fallY : (-lift + b.vy * dt * 60);\n        const baseR = 8 + Math.round(40 * t + 10 * Math.sin(b.phase + time * 0.6));\n        const baseG = 12 + Math.round(18 * t + 8 * Math.cos(b.phase + time * 0.8));\n        const baseB = 18 + Math.round(24 * t + 6 * Math.sin(b.phase + time * 0.7));\n        ctx.save(); ctx.globalAlpha = b.opacity; ctx.fillStyle = `rgb(${baseR}, ${baseG}, ${baseB})`;\n        if (lift > 2 && !b.falling && !skipShadows) { ctx.shadowBlur = Math.min(28, lift * 1.6); ctx.shadowColor = `rgba(40,60,160,${Math.min(0.22, 0.06 * t + 0.06 * b.pop)})`; } else ctx.shadowBlur = 0;\n        const px = b.baseX + wobble * 0.6; const py = b.baseY + yOffset;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6); ctx.fill();\n        if ((t > 0.08 || b.pop > 0.02) && !b.falling) { ctx.shadowBlur = 0; ctx.fillStyle = `rgba(255,255,255,${0.03 * t + 0.06 * b.pop})`; ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(3, Math.min(8, 4 * t + 6 * b.pop))); }\n        ctx.restore();\n      }\n\n      bgRAF.current = requestAnimationFrame(draw);\n    }\n\n    function roundRect(ctx, x, y, w, h, r) { const minr = Math.min(r, w/2, h/2); ctx.beginPath(); ctx.moveTo(x + minr, y); ctx.arcTo(x + w, y, x + w, y + h, minr); ctx.arcTo(x + w, y + h, x, y + h, minr); ctx.arcTo(x, y + h, x, y, minr); ctx.arcTo(x, y, x + w, y, minr); ctx.closePath(); }\n\n    function onResize(){ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = W + 'px'; canvas.style.height = H + 'px'; ctx.scale(DPR, DPR); }\n    window.addEventListener('resize', onResize);\n    bgRAF.current = requestAnimationFrame(draw);\n\n    return () => { window.removeEventListener('resize', onResize); cancelAnimationFrame(bgRAF.current); };\n  }, [openingDone]); // wait until opening done to start heavy canvas\n\n  useEffect(() => {\n    function frame(now){\n      currentY.current = lerp(currentY.current, targetY.current, (performance.now() - lastWheelAt.current > SNAP_DELAY) ? LERP_SNAP : LERP_FAST);\n      const el = containerRef.current; if(el) el.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n\n      chapterRefs.current.forEach((node, i) => {\n        if(!node) return; const center = i * height; const offset = (currentY.current - center) / height; const abs = Math.abs(offset);\n        const translateY = offset * 34; const translateX = 0; const rotate = offset * 3.6; const scale = 1 - Math.min(0.08, abs * 0.08); const opacity = 1 - Math.min(0.9, abs * 0.9);\n        node.style.transform = `translate3d(${translateX}px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`;\n        node.style.opacity = String(opacity);\n      });\n\n      const idx = Math.round(currentY.current / height);\n      if(activeIndexRef.current !== idx){ activeIndexRef.current = idx; setActiveIndex(idx); }\n      rafRef.current = requestAnimationFrame(frame);\n    }\n    rafRef.current = requestAnimationFrame(frame);\n    return () => cancelAnimationFrame(rafRef.current);\n  }, [height, visible.length]);\n\n  function scrollToIndex(i){ const max = Math.max(0, (visible.length - 1) * height); const dest = Math.max(0, Math.min(i * height, max)); targetY.current = dest; lastWheelAt.current = performance.now(); isScrolling.current = true; }\n\n  const AUTO_ADVANCE_DELAY_MS = 240; const MINIGAME_ADVANCE_MS = 300;\n\n  function handleAnswer(qid, value){ setAnswers(prev => ({ ...prev, [qid]: value })); const questionDef = QUESTIONS.find(x => x.id === qid) || {}; let gained = 0; if(questionDef.type === 'mcq' && questionDef.points) gained = questionDef.points[value] || 0; else if(questionDef.type === 'rating') gained = value * (questionDef.pointsPerStar || 1); else if(questionDef.type === 'text') gained = questionDef.points || 0; if(gained){ setScore(s => s + gained); pulseScore(); } if(questionDef.type === 'mcq' || questionDef.type === 'rating'){ const next = Math.min(activeIndexRef.current + 1, visible.length - 1); setTimeout(() => scrollToIndex(next), AUTO_ADVANCE_DELAY_MS); } }\n\n  function pulseScore(){ const el = document.getElementById('score-badge'); if(!el) return; el.animate([{ transform: 'translateY(0) scale(1)' }, { transform: 'translateY(-6px) scale(1.06)' }, { transform: 'translateY(0) scale(1)' }], { duration: 520, easing: 'ease-out' }); }\n\n  function onMiniGameComplete(success){ if(success){ setScore(s => s + 30); pulseScore(); } setAnswers(prev => ({ ...prev, q4: success ? 'success' : 'fail' })); setTimeout(() => scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)), MINIGAME_ADVANCE_MS); }\n\n  function finish(){ setShowFinish(true); if(canvasRef.current) confettiBurst(canvasRef.current); }\n\n  function resetAll(){ if(!window.confirm('Reset survey? This clears local progress.')) return; setAnswers({}); setScore(0); setShowFinish(false); targetY.current = 0; currentY.current = 0; if(containerRef.current) containerRef.current.style.transform = 'translate3d(0,0,0)'; }\n\n  function ChapterContent({ item, idx }){\n    // stage page (intro / end)\n    if(item.type === 'stage'){\n      const isFirst = idx === 0;\n      const isLast = idx === Math.max(0, visible.length - 1);\n      return (\n        <div className=\"text-center max-w-3xl mx-auto\">\n          <motion.h1 initial={{ y: 40, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ duration: 0.8 }} className=\"text-5xl md:text-7xl font-extrabold tracking-tight bg-clip-text text-transparent\" style={{ backgroundImage: 'linear-gradient(90deg,#8b5cf6,#06b6d4)' }}>{item.title}</motion.h1>\n          {item.subtitle && <motion.p initial={{ y:20, opacity:0 }} animate={{ y:0, opacity:0.95 }} transition={{ delay:0.15 }} className=\"mt-6 text-lg text-gray-300\">{item.subtitle}</motion.p>}\n\n          {/* richer stage card */}\n          <div className=\"mt-8 mx-auto w-full max-w-md bg-gradient-to-b from-black/60 to-transparent border border-gray-800 rounded-2xl p-6 shadow-xl\">\n            <div className=\"flex items-center gap-3\">\n              <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"opacity-95\"><path d=\"M12 2l3 7h7l-5.5 4 2 7L12 17l-6.5 3 2-7L2 9h7l3-7z\" stroke=\"#c4b5fd\" strokeWidth=\"0.8\"/></svg>\n              <div className=\"text-left\">\n                <div className=\"font-semibold text-lg\">Experience</div>\n                <div className=\"text-sm text-gray-400\">A cinematic flow — read the prompt, pick quickly, and earn points.</div>\n              </div>\n            </div>\n\n            <div className=\"mt-6\">\n              {/* First page: only Enter. Middle pages: Enter + Skip. Last page: Restart / View responses */}\n              {isLast ? (\n                <div className=\"flex gap-3 justify-center\">\n                  <button onClick={() => resetAll()} className=\"px-5 py-3 rounded-lg bg-gradient-to-r from-red-600 to-pink-500 text-white\">Restart</button>\n                  <button onClick={() => setShowResponses(true)} className=\"px-5 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700\">View responses</button>\n                </div>\n              ) : (\n                <div className=\"flex gap-3 justify-center\">\n                  <button onClick={() => scrollToIndex(Math.min(idx + 1, visible.length - 1))} className=\"px-5 py-3 rounded-lg bg-gradient-to-r from-indigo-600 to-cyan-500 text-white\">Enter</button>\n                  {/* render Skip only when not first or last */}\n                  {!isFirst && <button onClick={() => finish()} className=\"px-5 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700\">Skip</button>}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if(item.type === 'mcq'){\n      return (\n        <div className=\"max-w-3xl w-full mx-auto\">\n          <div className=\"text-sm text-gray-400 italic mb-4\">{item.flavor}</div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">{item.choices.map(c => (\n            <motion.button key={c} whileHover={{ scale: 1.04 }} onClick={() => handleAnswer(item.id, c)} className={`py-7 px-6 rounded-3xl border ${answers[item.id] === c ? 'bg-gradient-to-r from-indigo-600 to-cyan-500 text-white shadow-2xl transform-gpu' : 'bg-gray-900 text-gray-300 border-gray-800'}`}>\n              <div className=\"font-semibold text-xl\">{c}</div>\n              <div className=\"text-sm text-gray-400 mt-1\">{item.points && item.points[c] ? `${item.points[c]} pts` : ''}</div>\n            </motion.button>\n          ))}</div>\n        </div>\n      );\n    }\n\n    if(item.type === 'rating'){\n      return (\n        <div className=\"text-center\">\n          <div className=\"text-sm text-gray-400 italic mb-4\">{item.flavor}</div>\n          <div className=\"flex items-center justify-center gap-4\">{Array.from({ length: item.scale }).map((_, i) => (\n            <motion.button key={i} onClick={() => handleAnswer(item.id, i+1)} whileTap={{ scale: 0.95 }} className={`w-16 h-16 rounded-full flex items-center justify-center ${answers[item.id] === i+1 ? 'bg-yellow-400 text-black' : 'bg-gray-800 text-gray-300'}`}>{i+1}</motion.button>\n          ))}</div>\n        </div>\n      );\n    }\n\n    if(item.type === 'text'){\n      return (\n        <div className=\"w-full max-w-3xl mx-auto\">\n          <div className=\"text-sm text-gray-400 italic mb-4\">{item.flavor}</div>\n          <textarea maxLength={item.maxLength} rows={5} value={answers[item.id] || ''} onChange={(e) => setAnswers(prev => ({ ...prev, [item.id]: e.target.value }))} className=\"w-full p-4 rounded-xl border bg-gray-900 text-gray-100 border-gray-700\" placeholder=\"One-line pitch...\" />\n          <div className=\"text-xs text-gray-400 mt-2\">{(answers[item.id] || '').length}/{item.maxLength}</div>\n          <div className=\"mt-4 flex gap-4 justify-center\">\n            <button onClick={() => { if(item.points && (answers[item.id] || '').length > 0) { setScore(s => s + item.points); pulseScore(); } scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)); }} className=\"px-6 py-3 rounded-lg bg-gradient-to-r from-indigo-600 to-cyan-500 text-white font-semibold\">Submit</button>\n            <button onClick={() => setAnswers(prev => ({ ...prev, [item.id]: '' }))} className=\"px-6 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700 font-semibold\">Clear</button>\n          </div>\n        </div>\n      );\n    }\n\n    if(item.type === 'minigame') return <MiniGame timeLimit={item.timeLimit} onComplete={onMiniGameComplete} flavor={item.flavor} />;\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black text-gray-100 relative overflow-hidden\">\n      <style>{`.cinema-stack { will-change: transform; } .nav-dot { width:12px; height:12px; border-radius:9999px; } .chapter-node { will-change: transform, opacity; } .responses-pre { max-height:60vh; overflow:auto; white-space:pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace; }`}</style>\n\n      <CustomCursor />\n\n      <div className=\"fixed inset-0 -z-30 bg-gradient-to-b from-transparent to-black/80\" />\n      <canvas ref={bgCanvasRef} className=\"pointer-events-none fixed inset-0 z-0\" />\n      <canvas ref={canvasRef} className=\"pointer-events-none fixed inset-0 z-50\" />\n\n      <div className=\"fixed right-6 top-6 z-60 flex flex-col gap-3 items-end\">\n        <div id=\"score-badge\" className=\"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white font-semibold rounded-full text-sm shadow-lg\">{score} pts</div>\n        <div className=\"text-xs text-gray-400\">Level {Math.floor(score / 50) + 1}</div>\n      </div>\n\n      <nav className=\"fixed left-6 top-1/2 -translate-y-1/2 z-60 hidden md:flex flex-col gap-3\">{visible.map((_, i) => (\n        <button key={i} onClick={() => scrollToIndex(i)} className={`nav-dot ${i === activeIndex ? 'bg-gradient-to-r from-indigo-400 to-pink-400 shadow-2xl' : 'bg-gray-700/40'}`} aria-label={`Go to chapter ${i+1}`} />\n      ))}</nav>\n\n      <div ref={containerRef} className=\"cinema-stack fixed inset-0 top-0 left-0 w-full will-change-transform z-40\">\n        <div style={{ height: `${visible.length * height}px` }}>\n          {visible.map((item, i) => (\n            <section key={item.id} ref={addChapterRef} style={{ height: `${height}px` }} className=\"flex items-center justify-center px-6 md:px-12\">\n              <div className=\"w-full max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6 items-center chapter-node\">\n                <aside className=\"col-span-1 hidden lg:flex flex-col gap-4 items-start\">\n                  <div className=\"text-sm text-gray-400\">Chapter</div>\n                  <motion.div animate={{ rotate: activeIndex === i ? 6 : 0 }} transition={{ type: 'spring' }} className=\"text-4xl md:text-5xl font-extrabold\">{String(i+1).padStart(2,'0')}</motion.div>\n                  <div className=\"w-1 h-full bg-gradient-to-b from-indigo-600 to-pink-500 rounded-full opacity-30\" />\n                </aside>\n                <div className=\"col-span-2 bg-transparent rounded-xl p-8 text-center\">\n                  <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.8 }}>\n                    <ChapterContent item={item} idx={i} />\n                  </motion.div>\n                </div>\n              </div>\n            </section>\n          ))}\n        </div>\n      </div>\n\n      <AnimatePresence>{!openingDone && <OpeningSpectacle items={QUESTIONS} onDone={() => setOpeningDone(true)} />}</AnimatePresence>\n\n      {showFinish && (\n        <div className=\"fixed inset-0 z-70 flex items-center justify-center\">\n          <div className=\"bg-black/70 backdrop-blur-sm rounded-xl p-8 text-center\">\n            <h2 className=\"text-4xl font-bold\">All done 🎉</h2>\n            <p className=\"mt-3 text-gray-300\">You earned <span className=\"font-semibold\">{score}</span> points. Thanks for playing!</p>\n            <div className=\"mt-6 flex gap-3 justify-center\"><button onClick={resetAll} className=\"px-4 py-2 rounded bg-red-700/20 text-red-300\">Reset</button></div>\n          </div>\n        </div>\n      )}\n\n      <AnimatePresence>{showResponses && (\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"fixed inset-0 z-90 flex items-center justify-center p-6\">\n          <div className=\"bg-black/85 rounded-xl p-6 max-w-3xl w-full\">\n            <div className=\"flex justify-between items-center\">\n              <h3 className=\"text-xl font-semibold\">Your Responses</h3>\n              <button onClick={() => setShowResponses(false)} className=\"text-sm text-gray-400\">Close</button>\n            </div>\n            <div className=\"mt-4 responses-pre text-sm text-gray-200 bg-gray-900 p-4 rounded\">{JSON.stringify(answers, null, 2)}</div>\n            <div className=\"mt-4 flex gap-3 justify-end\">\n              <button onClick={() => { setShowResponses(false); resetAll(); }} className=\"px-4 py-2 rounded bg-red-600 text-white\">Restart</button>\n            </div>\n          </div>\n        </motion.div>\n      )}</AnimatePresence>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}