{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\App\\\\gamified-survey\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/**\n * Final patch: fix pointer-event blocking and focus + make bricks pop reliably\n * - Ensure canvases have inline pointerEvents: 'none' (don't rely on Tailwind classes)\n * - Make container/card z-index higher than canvases so UI is always interactive\n * - Force initial focus/unblur after loading completes\n * - Improve triggerPopBurstAroundCenter to retry and log in console (dev-only)\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst THEME = {\n  bg: \"#05060A\",\n  card: \"#071017\",\n  text: \"#E9F8FF\",\n  muted: \"#9FB7C7\",\n  primary: \"#7C3AED\",\n  cyan: \"#06B6D4\",\n  accent: \"#00E5FF\",\n  warm: \"#FFB86B\"\n};\nconst MAX_VIBRATE_AMPLITUDE = 6;\nconst FRAME_CAP = 40;\nconst AUTO_ADVANCE_DELAY = 1100;\nconst QUESTIONS = [{\n  id: \"intro\",\n  type: \"stage\",\n  title: \"Neon Nightfall\",\n  subtitle: \"Decisions reverberate — pick fast, win faster.\"\n}, {\n  id: \"profile\",\n  type: \"profile\",\n  title: \"Create Profile\",\n  subtitle: \"Tell us who you are — quick and slick.\",\n  flavor: \"Name, age slider, and a one-line bio. Keep it punchy.\"\n}, {\n  id: \"q1\",\n  type: \"mcq\",\n  title: \"Vibe Check — choose your drive\",\n  choices: [\"Prototype & ship\", \"Learn a trick\", \"Find teammates\", \"Prize hunter\"],\n  points: {\n    \"Prototype & ship\": 20,\n    \"Learn a trick\": 10,\n    \"Find teammates\": 15,\n    \"Prize hunter\": 5\n  },\n  flavor: \"A neon corridor; your choice sets the tone.\"\n}, {\n  id: \"q2\",\n  type: \"rating\",\n  title: \"Charge Level — how amped are you?\",\n  scale: 5,\n  pointsPerStar: 6,\n  flavor: \"Lights sync to your excitement.\"\n}, {\n  id: \"q3\",\n  type: \"text\",\n  title: \"One-line pitch — your spark\",\n  maxLength: 140,\n  points: 15,\n  flavor: \"A single line. Make it crisp.\"\n}, {\n  id: \"end\",\n  type: \"stage\",\n  title: \"Curtain Call\",\n  subtitle: \"Badges claimed. Sunlight pending.\"\n}];\nfunction lerp(a, b, n) {\n  return (1 - n) * a + n * b;\n}\nfunction hexToRgb(hex) {\n  const h = hex.replace('#', '');\n  return [parseInt(h.substring(0, 2), 16), parseInt(h.substring(2, 4), 16), parseInt(h.substring(4, 6), 16)];\n}\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  try {\n    const ctx = canvas.getContext('2d');\n    const W = canvas.width = window.innerWidth;\n    const H = canvas.height = window.innerHeight;\n    const palette = [THEME.primary, THEME.cyan, THEME.accent, THEME.warm];\n    const pieces = Array.from({\n      length: 60\n    }).map(() => ({\n      x: W / 2 + (Math.random() - 0.5) * 300,\n      y: H / 3 + (Math.random() - 0.5) * 80,\n      vx: (Math.random() - 0.5) * 12,\n      vy: (Math.random() - 1.6) * 10,\n      r: Math.random() * 6 + 2,\n      c: palette[Math.floor(Math.random() * palette.length)],\n      life: 80 + Math.random() * 80\n    }));\n    function frame() {\n      ctx.clearRect(0, 0, W, H);\n      let alive = false;\n      for (const p of pieces) {\n        if (p.life > 0) {\n          alive = true;\n          p.vy += 0.25;\n          p.x += p.vx;\n          p.y += p.vy;\n          ctx.save();\n          ctx.translate(p.x, p.y);\n          ctx.fillStyle = p.c;\n          ctx.fillRect(-p.r / 2, -p.r / 2, p.r, p.r * 0.6);\n          ctx.restore();\n          p.life--;\n        }\n      }\n      if (alive) requestAnimationFrame(frame);else ctx.clearRect(0, 0, W, H);\n    }\n    frame();\n  } catch (e) {\n    console.warn('confetti failed', e);\n  }\n}\nfunction CustomCursor() {\n  _s();\n  const dot = useRef(null),\n    ring = useRef(null);\n  const target = useRef({\n    x: typeof window !== 'undefined' ? window.innerWidth / 2 : 0,\n    y: typeof window !== 'undefined' ? window.innerHeight / 2 : 0\n  });\n  const hoverType = useRef('default');\n  const raf = useRef(null);\n  useEffect(() => {\n    function onMove(e) {\n      target.current.x = e.clientX;\n      target.current.y = e.clientY;\n    }\n    function onHover(e) {\n      const t = e.target;\n      if (t && t.closest && t.closest('button, a, [role=\"button\"]')) hoverType.current = 'button';else if (t && t.closest && t.closest('input, textarea, select, .no-brick')) hoverType.current = 'form';else hoverType.current = 'default';\n    }\n    window.addEventListener('mousemove', onMove);\n    window.addEventListener('mouseover', onHover);\n    let px = target.current.x;\n    let py = target.current.y;\n    let ringX = px;\n    let ringY = py;\n    const dotLerp = 0.28;\n    const ringLerp = 0.045;\n    function loop() {\n      px = lerp(px, target.current.x, dotLerp);\n      py = lerp(py, target.current.y, dotLerp);\n      if (dot.current) dot.current.style.transform = `translate3d(${px - 6}px, ${py - 6}px, 0)`;\n      ringX = lerp(ringX, target.current.x, ringLerp);\n      ringY = lerp(ringY, target.current.y, ringLerp);\n      if (ring.current) {\n        const type = hoverType.current;\n        if (type === 'button') {\n          ring.current.style.borderColor = 'rgba(255,255,255,0.22)';\n          ring.current.style.boxShadow = '0 8px 30px rgba(255,255,255,0.04)';\n        } else if (type === 'form') {\n          ring.current.style.borderColor = 'rgba(6,182,212,0.20)';\n          ring.current.style.boxShadow = '0 10px 36px rgba(6,182,212,0.06)';\n        } else {\n          ring.current.style.borderColor = 'rgba(124,58,237,0.12)';\n          ring.current.style.boxShadow = 'none';\n        }\n        const scale = hoverType.current === 'button' ? 1.9 : hoverType.current === 'form' ? 1.45 : 1;\n        ring.current.style.transform = `translate3d(${ringX - 18}px, ${ringY - 18}px, 0) scale(${scale})`;\n      }\n      if (dot.current) {\n        if (hoverType.current === 'button') dot.current.style.background = 'radial-gradient(circle at 30% 30%, #fff, #ffdfe8)';else if (hoverType.current === 'form') dot.current.style.background = 'radial-gradient(circle at 30% 30%, #e6ffff, #d8f7ff)';else dot.current.style.background = 'radial-gradient(circle at 30% 30%, #fff, #e6f8ff)';\n      }\n      raf.current = requestAnimationFrame(loop);\n    }\n    raf.current = requestAnimationFrame(loop);\n    return () => {\n      window.removeEventListener('mousemove', onMove);\n      window.removeEventListener('mouseover', onHover);\n      cancelAnimationFrame(raf.current);\n    };\n  }, []);\n  useEffect(() => {\n    document.documentElement.classList.add('custom-cursor-hide');\n    return () => document.documentElement.classList.remove('custom-cursor-hide');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ring,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 44,\n        height: 44,\n        borderRadius: 9999,\n        border: '1.6px solid rgba(124,58,237,0.12)',\n        pointerEvents: 'none',\n        zIndex: 99999,\n        transition: 'border-color 180ms, box-shadow 180ms, transform 180ms'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dot,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 12,\n        height: 12,\n        borderRadius: 9999,\n        background: 'radial-gradient(circle at 30% 30%, #fff, #e6f8ff)',\n        boxShadow: '0 10px 26px rgba(6,182,212,0.08)',\n        pointerEvents: 'none',\n        zIndex: 100000,\n        transition: 'background 160ms'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CustomCursor, \"IG20DmCfLM9Nm9+KIRTdPZmS/jc=\");\n_c = CustomCursor;\nfunction MiniGame({\n  timeLimit = 6000,\n  onComplete,\n  flavor\n}) {\n  _s2();\n  const [charge, setCharge] = useState(0);\n  const runningRef = useRef(false);\n  const raf = useRef(null);\n  const started = useRef(0);\n  const boost = useRef(0);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  function start() {\n    if (runningRef.current) return;\n    runningRef.current = true;\n    boost.current = 0;\n    started.current = performance.now();\n    tick();\n  }\n  function tick() {\n    raf.current = requestAnimationFrame(() => {\n      const elapsed = performance.now() - started.current;\n      const base = Math.min(100, Math.round(elapsed / timeLimit * 100));\n      const total = Math.min(100, base + boost.current);\n      setCharge(total);\n      if (total >= 100) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(true);\n        return;\n      }\n      if (elapsed >= timeLimit) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(total >= 60);\n        return;\n      }\n      tick();\n    });\n  }\n  function tap() {\n    if (!runningRef.current) start();else {\n      boost.current = Math.min(100, boost.current + 12);\n      setCharge(c => Math.min(100, c + 12));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: THEME.muted,\n        fontSize: 13\n      },\n      children: flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      onClick: tap,\n      whileTap: {\n        scale: 0.96\n      },\n      whileHover: {\n        scale: 1.02\n      },\n      transition: {\n        type: 'spring',\n        stiffness: 300\n      },\n      style: {\n        width: 140,\n        height: 140,\n        borderRadius: 999,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        background: `linear-gradient(135deg, ${THEME.primary}, ${THEME.cyan})`,\n        boxShadow: '0 16px 46px rgba(0,0,0,0.45)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 900,\n          color: '#06060A'\n        },\n        children: \"TAP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        maxWidth: 520\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.muted,\n          marginBottom: 6\n        },\n        children: [\"Charge: \", charge, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 12,\n          width: '100%',\n          borderRadius: 10,\n          overflow: 'hidden',\n          background: 'rgba(255,255,255,0.02)'\n        },\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            width: 0\n          },\n          animate: {\n            width: `${charge}%`\n          },\n          transition: {\n            type: 'spring',\n            stiffness: 120,\n            damping: 20\n          },\n          style: {\n            height: '100%',\n            background: `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s2(MiniGame, \"OJXi0JsEnE6Heju4kvIAJIi1Sgc=\");\n_c2 = MiniGame;\nexport default function GamifiedSurveyForm() {\n  _s3();\n  useEffect(() => {\n    document.title = 'HackPlay — Neon Survey';\n  }, []);\n  const [answers, setAnswers] = useState(() => {\n    try {\n      const r = localStorage.getItem('gamifiedSurveyAnswers');\n      return r ? JSON.parse(r) : {};\n    } catch {\n      return {};\n    }\n  });\n  const [score, setScore] = useState(() => Number(localStorage.getItem('gamifiedSurveyScore')) || 0);\n  const [showFinish, setShowFinish] = useState(false);\n  const [profileName, setProfileName] = useState(answers.profileName || '');\n  const [profileAge, setProfileAge] = useState(answers.profileAge || 22);\n  const [profileBio, setProfileBio] = useState(answers.profileBio || '');\n  const [tempSelection, setTempSelection] = useState(null);\n  const [focusedSection, setFocusedSection] = useState(0);\n  const confettiCanvas = useRef(null);\n  const bgCanvas = useRef(null);\n  const [height, setHeight] = useState(typeof window !== 'undefined' ? window.innerHeight : 800);\n  useEffect(() => {\n    function onResize() {\n      setHeight(window.innerHeight);\n    }\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n  useEffect(() => localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n  const visible = QUESTIONS;\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addRef = el => {\n    if (el) chapterRefs.current.push(el);\n  };\n  const targetY = useRef(0);\n  const currentY = useRef(0);\n  const rafUI = useRef(null);\n  const pageIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const lastIdxRef = useRef(0);\n  const cursor = useRef({\n    x: typeof window !== 'undefined' ? window.innerWidth / 2 : 0,\n    y: typeof window !== 'undefined' ? window.innerHeight / 2 : 0\n  });\n  useEffect(() => {\n    function onPointer(e) {\n      cursor.current.x = e.clientX;\n      cursor.current.y = e.clientY;\n    }\n    window.addEventListener('pointermove', onPointer);\n    return () => window.removeEventListener('pointermove', onPointer);\n  }, []);\n\n  // loader: 2s\n  const [loading, setLoading] = useState(true);\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    let raf = null;\n    const start = performance.now();\n    const D = 2000;\n    function tick(now) {\n      const t = Math.min(1, (now - start) / D);\n      setProgress(Math.round(100 * t));\n      if (t < 1) raf = requestAnimationFrame(tick);else setTimeout(() => setLoading(false), 180);\n    }\n    raf = requestAnimationFrame(tick);\n    return () => cancelAnimationFrame(raf);\n  }, []);\n\n  // make sure UI becomes interactive after loading\n  useEffect(() => {\n    if (!loading) {\n      // land on first page and set focus immediately\n      setTimeout(() => {\n        scrollToIndex(0, {\n          pop: false\n        });\n        setFocusedSection(0);\n        focusSectionAfterScroll(0, 0);\n      }, 80);\n    }\n  }, [loading]);\n\n  // wheel -> page snap (slower feel)\n  useEffect(() => {\n    let acc = 0;\n    let lock = false;\n    function clamp(i) {\n      return Math.max(0, Math.min(i, visible.length - 1));\n    }\n    function setPage(i) {\n      const c = clamp(i);\n      scrollToIndex(c, {\n        pop: false\n      });\n    }\n    function onWheel(e) {\n      if (loading) return;\n      e.preventDefault();\n      acc += e.deltaY;\n      const TH = 80;\n      if (Math.abs(acc) > TH && !lock) {\n        const dir = acc > 0 ? 1 : -1;\n        setPage(pageIndexRef.current + dir);\n        acc = 0;\n        lock = true;\n        setTimeout(() => lock = false, 420);\n      }\n    }\n    window.addEventListener('wheel', onWheel, {\n      passive: false\n    });\n    return () => window.removeEventListener('wheel', onWheel);\n  }, [height, loading, visible.length]);\n\n  // UI lerp loop — sets focusedSection when index changes so card is unblurred and lifted\n  useEffect(() => {\n    function loop() {\n      currentY.current = lerp(currentY.current, targetY.current, 0.12);\n      if (containerRef.current) containerRef.current.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n      chapterRefs.current.forEach((node, i) => {\n        if (!node) return;\n        const center = i * height;\n        const offset = (currentY.current - center) / height;\n        const abs = Math.abs(offset);\n        const translateY = offset * 8;\n        const rotate = offset * 1.2;\n        const scale = 1 - Math.min(0.05, abs * 0.05);\n        const opacity = 1 - Math.min(0.9, abs * 0.9);\n        node.style.transform = `translate3d(0px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`;\n        node.style.opacity = String(opacity); // visual lift when focused\n        if (i === focusedSection) {\n          node.style.boxShadow = '0 34px 120px rgba(8,6,20,0.78)';\n          node.style.zIndex = 320;\n          node.style.pointerEvents = 'auto';\n        } else {\n          node.style.boxShadow = 'none';\n          node.style.zIndex = 30;\n          node.style.pointerEvents = 'none';\n        }\n      });\n      const idx = Math.round(currentY.current / height);\n      if (lastIdxRef.current !== idx) {\n        lastIdxRef.current = idx;\n        setActiveIndex(idx);\n        setFocusedSection(idx);\n      }\n      rafUI.current = requestAnimationFrame(loop);\n    }\n    rafUI.current = requestAnimationFrame(loop);\n    return () => cancelAnimationFrame(rafUI.current);\n  }, [height]);\n\n  // BRICKS canvas: improved pop and bursts\n  useEffect(() => {\n    const canvas = bgCanvas.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    let W = window.innerWidth,\n      H = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.2);\n    canvas.width = W * DPR;\n    canvas.height = H * DPR;\n    canvas.style.width = `${W}px`;\n    canvas.style.height = `${H}px`;\n    ctx.scale(DPR, DPR);\n    let BRW = window.innerWidth < 640 ? 120 : 96;\n    let BRH = window.innerWidth < 640 ? 56 : 44;\n    let cols = Math.ceil(W / BRW),\n      rows = Math.ceil(H / BRH);\n    const MAX = 700;\n    if (cols * rows > MAX) {\n      const scaleUp = Math.sqrt(cols * rows / MAX);\n      BRW = Math.ceil(BRW * scaleUp);\n      BRH = Math.ceil(BRH * scaleUp);\n      cols = Math.ceil(W / BRW);\n      rows = Math.ceil(H / BRH);\n    }\n    const bricks = [];\n    const purple = hexToRgb(THEME.primary);\n    const cyan = hexToRgb(THEME.cyan);\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const x = c * BRW + (r % 2 ? BRW / 2 : 0);\n        const y = r * BRH;\n        const cx = x + BRW / 2;\n        const cy = y + BRH / 2;\n        const mix = Math.random();\n        const r0 = Math.round((1 - mix) * purple[0] + mix * cyan[0]);\n        const g0 = Math.round((1 - mix) * purple[1] + mix * cyan[1]);\n        const b0 = Math.round((1 - mix) * purple[2] + mix * cyan[2]);\n        bricks.push({\n          x,\n          y,\n          w: BRW,\n          h: BRH,\n          cx,\n          cy,\n          baseX: x,\n          baseY: y,\n          phase: Math.random() * Math.PI * 2,\n          vy: 0,\n          pop: 0,\n          gone: false,\n          falling: false,\n          fallVy: 0,\n          fallY: 0,\n          opacity: 1,\n          col: [r0, g0, b0],\n          mix\n        });\n      }\n    }\n    canvas._triggerPop = function (px, py) {\n      let nearest = null;\n      let best = Infinity;\n      for (const b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.hypot(dx, dy);\n        if (d < best) {\n          best = d;\n          nearest = b;\n        }\n      }\n      if (nearest && best < Math.max(120, Math.min(W, H) * 0.06) && !nearest.falling) {\n        nearest.falling = true;\n        nearest.fallVy = 200 + Math.random() * 220;\n        nearest.fallY = 0;\n      }\n      const R = 140;\n      for (const b of bricks) {\n        if (b.gone || b.falling) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.hypot(dx, dy);\n        if (d < R) {\n          const norm = 1 - d / R;\n          b.pop = Math.max(b.pop, 0.45 * norm + 0.02);\n          b.vy += 6 * norm + Math.random() * 3;\n        }\n      }\n    };\n    let lastT = performance.now();\n    const FRAME_MS = 1000 / FRAME_CAP;\n    let raf = null;\n    const startTime = performance.now();\n    function draw(now) {\n      if (now - lastT < FRAME_MS) {\n        raf = requestAnimationFrame(draw);\n        return;\n      }\n      const dt = Math.min(40, now - lastT) * 0.001;\n      lastT = now;\n      ctx.clearRect(0, 0, W, H);\n      ctx.fillStyle = 'rgba(4,6,10,0.46)';\n      ctx.fillRect(0, 0, W, H);\n      const time = now * 0.001;\n      const maxD = Math.max(W, H) * 0.6;\n      const elapsedSec = Math.max(0, (now - startTime) / 1000);\n      const speedFactor = 1 + Math.min(1, elapsedSec / 60) * 0.25;\n      for (const b of bricks) {\n        if (b.gone) continue;\n        if (b.falling) {\n          b.fallVy += 900 * dt;\n          b.fallY += b.fallVy * dt;\n          b.opacity = Math.max(0, 1 - b.fallY / (H * 1.2));\n          if (b.fallY > H + 120) {\n            b.gone = true;\n            continue;\n          }\n        }\n        const dx = b.cx - cursor.current.x;\n        const dy = b.cy - cursor.current.y;\n        const d = Math.hypot(dx, dy);\n        let t = Math.max(0, 1 - d / maxD);\n        t = Math.pow(t, 0.95);\n        b.vy *= 0.92;\n        b.vy -= 20 * dt * t;\n        b.pop = Math.max(0, b.pop - 0.02);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 20);\n        const freq = 6 * speedFactor;\n        const ampX = MAX_VIBRATE_AMPLITUDE * (0.6 + 0.6 * b.mix) * t * 0.45;\n        const ampY = MAX_VIBRATE_AMPLITUDE * 0.45 * (0.5 + 0.5 * b.mix) * t;\n        const vibrateX = b.falling ? 0 : Math.sin(time * freq + b.phase) * ampX;\n        const vibrateY = b.falling ? 0 : Math.cos(time * freq * 1.1 + b.phase) * ampY;\n        const px = b.baseX + vibrateX;\n        const py = b.baseY + vibrateY - lift + b.vy * dt * 50 + (b.falling ? b.fallY : 0);\n        const r = Math.max(6, Math.min(255, Math.round(b.col[0] + Math.sin(time * 0.6 + b.phase) * 5)));\n        const g = Math.max(6, Math.min(255, Math.round(b.col[1] + Math.cos(time * 0.62 + b.phase) * 5)));\n        const bb = Math.max(6, Math.min(255, Math.round(b.col[2] + Math.sin(time * 0.64 + b.phase) * 5)));\n        const alpha = (b.opacity !== undefined ? b.opacity : 1) * (0.98 - (1 - t) * 0.08);\n        const grad = ctx.createLinearGradient(px + 6, py + 6, px + b.w - 6, py + b.h - 6);\n        grad.addColorStop(0, `rgba(${Math.max(0, r - 16)}, ${Math.max(0, g - 16)}, ${Math.max(0, bb - 16)}, ${alpha})`);\n        grad.addColorStop(1, `rgba(${r}, ${g}, ${bb}, ${alpha})`);\n        ctx.save();\n        if (b.falling) {\n          ctx.translate(px + b.w / 2, py + b.h / 2);\n          ctx.rotate(b.phase % 1 * (b.fallY / (H / 3)) * 0.4);\n          ctx.translate(-(px + b.w / 2), -(py + b.h / 2));\n        }\n        ctx.fillStyle = grad;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n        if (t > 0.06 && !b.falling) {\n          ctx.fillStyle = `rgba(255,255,255,${0.02 * t + 0.02 * b.pop})`;\n          ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(2, Math.min(5, 3 * t)));\n        }\n        ctx.restore();\n      }\n      raf = requestAnimationFrame(draw);\n    }\n    function roundRect(ctx, x, y, w, h, r) {\n      const minr = Math.min(r, w / 2, h / 2);\n      ctx.beginPath();\n      ctx.moveTo(x + minr, y);\n      ctx.arcTo(x + w, y, x + w, y + h, minr);\n      ctx.arcTo(x + w, y + h, x, y + h, minr);\n      ctx.arcTo(x, y + h, x, y, minr);\n      ctx.arcTo(x, y, x + w, y, minr);\n      ctx.closePath();\n    }\n    raf = requestAnimationFrame(draw);\n    function onPointerDown(e) {\n      const inUI = e.target && e.target.closest && e.target.closest('button, input, textarea, select, [role=\"button\"], .no-brick');\n      if (inUI) return;\n      const rect = canvas.getBoundingClientRect();\n      const px = e.clientX - rect.left;\n      const py = e.clientY - rect.top;\n      canvas._triggerPop(px, py);\n    }\n    window.addEventListener('pointerdown', onPointerDown);\n    function onResize() {\n      W = window.innerWidth;\n      H = window.innerHeight;\n      canvas.width = W * DPR;\n      canvas.height = H * DPR;\n      canvas.style.width = `${W}px`;\n      canvas.style.height = `${H}px`;\n      ctx.scale(DPR, DPR);\n    }\n    window.addEventListener('resize', onResize);\n    return () => {\n      window.removeEventListener('resize', onResize);\n      window.removeEventListener('pointerdown', onPointerDown);\n      cancelAnimationFrame(raf);\n    };\n  }, [height]);\n\n  // reliable focus after scroll (poll until scroll nears destination)\n  function focusSectionAfterScroll(sec, dest) {\n    const start = performance.now();\n    const TIMEOUT = 1400;\n    const TOL = 6;\n    const iv = setInterval(() => {\n      const elapsed = performance.now() - start;\n      const diff = Math.abs(currentY.current - dest);\n      if (diff <= TOL || elapsed > TIMEOUT) {\n        clearInterval(iv);\n        setTimeout(() => {\n          // small extra wait to ensure DOM settled\n          setFocusedSection(sec); // ensure visual lift immediately when settled\n          const node = chapterRefs.current[sec];\n          if (node) {\n            const first = node.querySelector && node.querySelector('button, input, textarea, select, [tabindex], [role=\"button\"]');\n            if (first && first.focus) try {\n              first.focus({\n                preventScroll: true\n              });\n            } catch (e) {}\n          }\n        }, 80);\n      }\n    }, 60);\n  }\n\n  // helper to reliably trigger pop even if canvas not ready yet\n  function triggerPopBurstAroundCenter() {\n    const canvas = bgCanvas.current;\n    if (!canvas) return;\n    let attempts = 0;\n    const maxAttempts = 10;\n    function tryBurst() {\n      attempts++;\n      if (canvas._triggerPop) {\n        try {\n          const rect = canvas.getBoundingClientRect();\n          const cx = rect.width / 2;\n          const cy = rect.height / 2;\n          for (let j = 0; j < 4; j++) {\n            setTimeout(() => canvas._triggerPop(cx + (j - 1.5) * 30, cy + (j - 1.5) * 18), j * 80);\n          }\n          // dev log\n          if (window && window.console) console.debug('[popBurst] fired at attempt', attempts);\n        } catch (e) {\n          if (window && window.console) console.warn('popBurst error', e);\n        }\n      } else if (attempts < maxAttempts) {\n        setTimeout(tryBurst, 120);\n      } else {\n        if (window && window.console) console.warn('popBurst: canvas._triggerPop not found after', attempts, 'attempts');\n      }\n    }\n    tryBurst();\n  }\n\n  // improved scrollToIndex: triggers a tiny burst of pops to ensure visible fall even when cards are centered\n  function scrollToIndex(i, {\n    pop = false\n  } = {}) {\n    const max = Math.max(0, (visible.length - 1) * height);\n    const dest = Math.max(0, Math.min(i * height, max));\n    targetY.current = dest;\n    pageIndexRef.current = Math.round(dest / height);\n    const sec = Math.round(dest / height);\n    // force the focusedSection when programmatic scroll starts\n    setFocusedSection(sec);\n    focusSectionAfterScroll(sec, dest);\n    if (pop) {\n      triggerPopBurstAroundCenter();\n    }\n  }\n  function handleAnswer(qid, value) {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: value\n    }));\n    setTempSelection({\n      qid,\n      value\n    });\n    const q = QUESTIONS.find(x => x.id === qid) || {};\n    let gained = 0;\n    if (q.type === 'mcq' && q.points) gained = q.points[value] || 0;else if (q.type === 'rating') gained = value * (q.pointsPerStar || 1);else if (q.type === 'text') gained = q.points || 0;\n    if (gained) {\n      setScore(s => s + gained);\n      pulseScore();\n    }\n    setTimeout(() => {\n      setTempSelection(null);\n      scrollToIndex(pageIndexRef.current + 1, {\n        pop: true\n      });\n    }, AUTO_ADVANCE_DELAY);\n  }\n  function pulseScore() {\n    const el = document.getElementById('score-badge');\n    if (!el) return;\n    el.animate([{\n      transform: 'translateY(0) scale(1)'\n    }, {\n      transform: 'translateY(-6px) scale(1.04)'\n    }, {\n      transform: 'translateY(0) scale(1)'\n    }], {\n      duration: 640,\n      easing: 'ease-out'\n    });\n  }\n  function finish() {\n    setShowFinish(true);\n    if (confettiCanvas.current) confettiBurst(confettiCanvas.current);\n  }\n  function submitProfile() {\n    const name = profileName.trim();\n    if (!name) return alert('Please enter your name');\n    setAnswers(prev => ({\n      ...prev,\n      profileName: name,\n      profileAge,\n      profileBio\n    }));\n    setScore(s => s + 10);\n    pulseScore(); // next\n    setTimeout(() => scrollToIndex(pageIndexRef.current + 1, {\n      pop: true\n    }), 600);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: THEME.bg,\n      color: THEME.text,\n      position: 'relative',\n      overflow: 'hidden'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .btn { padding:10px 14px; border-radius:12px; font-weight:800; cursor:pointer; border:1px solid rgba(255,255,255,0.03); transition: transform 260ms cubic-bezier(.2,.9,.2,1), box-shadow 260ms, background 260ms; }\n        .btn-primary { background: linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); color:#02171A; box-shadow:0 12px 40px rgba(6,182,212,0.06); }\n        .btn-primary:hover { transform: translateY(-4px); box-shadow:0 26px 64px rgba(6,182,212,0.12); }\n        .btn-ghost { background: rgba(255,255,255,0.02); color:${THEME.text}; }\n        .heading-glow { background-image: linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); -webkit-background-clip: text; color: transparent; }\n        .no-brick { pointer-events: auto; }\n        .choice-selected { box-shadow: 0 18px 50px rgba(124,58,237,0.16); transform: translateY(-6px); border: 1px solid rgba(255,255,255,0.06); }\n        input[type=range] { -webkit-appearance:none; height:10px; background:linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); border-radius:999px; outline:none; }\n        input[type=range]::-webkit-slider-thumb { -webkit-appearance:none; width:22px; height:22px; border-radius:999px; background:#02171A; box-shadow:0 10px 26px rgba(124,58,237,0.14); border:4px solid ${THEME.cyan}; }\n        @keyframes subtleGlow { 0%{ filter:brightness(1) } 50%{ filter:brightness(1.06) } 100%{ filter:brightness(1) } }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomCursor, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: bgCanvas,\n      className: \"fixed inset-0\",\n      style: {\n        pointerEvents: 'none',\n        zIndex: 10,\n        left: 0,\n        top: 0,\n        width: '100%',\n        height: '100%',\n        position: 'fixed',\n        filter: loading ? 'blur(6px) brightness(0.56)' : 'none',\n        transition: 'filter 520ms cubic-bezier(.2,.9,.2,1)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: confettiCanvas,\n      className: \"fixed inset-0\",\n      style: {\n        pointerEvents: 'none',\n        zIndex: 200,\n        left: 0,\n        top: 0,\n        width: '100%',\n        height: '100%',\n        position: 'fixed'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        inset: 0,\n        zIndex: 260,\n        background: 'rgba(3,4,10,0.42)',\n        backdropFilter: 'blur(6px)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: 16,\n        top: 16,\n        zIndex: 280,\n        display: 'flex',\n        gap: 12,\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"score-badge\",\n        style: {\n          padding: '10px 14px',\n          borderRadius: 9999,\n          background: 'linear-gradient(90deg, rgba(6,182,212,0.1), rgba(124,58,237,0.08))',\n          fontWeight: 900\n        },\n        children: [score, \" pts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        inset: 0,\n        zIndex: 300,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        pointerEvents: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 900,\n            marginBottom: 14,\n            fontSize: 18\n          },\n          children: \"Loading \\u2014 Neon Calibration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 10,\n            justifyContent: 'center',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 36,\n              height: 80,\n              borderRadius: 8,\n              background: `linear-gradient(180deg, rgba(6,182,212,0.14), rgba(124,58,237,0.08))`,\n              transform: 'skewX(-6deg)',\n              animation: 'pulse 1.2s infinite'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 36,\n              height: 100,\n              borderRadius: 8,\n              background: `linear-gradient(180deg, rgba(124,58,237,0.18), rgba(6,182,212,0.06))`,\n              transform: 'skewX(-4deg)',\n              animation: 'pulse 1.2s infinite .08s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 36,\n              height: 80,\n              borderRadius: 8,\n              background: `linear-gradient(180deg, rgba(0,229,255,0.12), rgba(124,58,237,0.04))`,\n              transform: 'skewX(-2deg)',\n              animation: 'pulse 1.2s infinite .14s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 420,\n            height: 12,\n            borderRadius: 999,\n            background: 'rgba(255,255,255,0.02)',\n            margin: '14px auto',\n            overflow: 'hidden'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '100%',\n              width: `${progress}%`,\n              background: `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`,\n              transition: 'width 320ms linear'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginTop: 8\n          },\n          children: [progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"fixed inset-0 no-brick\",\n      style: {\n        willChange: 'transform',\n        zIndex: 320,\n        pointerEvents: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: `${visible.length * height}px`\n        },\n        children: visible.map((item, i) => /*#__PURE__*/_jsxDEV(\"section\", {\n          ref: addRef,\n          onMouseEnter: () => setFocusedSection(i),\n          style: {\n            height: `${height}px`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              maxWidth: 1100,\n              display: 'grid',\n              gridTemplateColumns: '280px 1fr',\n              gap: 20,\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n              style: {\n                display: window.innerWidth >= 1000 ? 'block' : 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'sticky',\n                  top: 36\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    background: i === focusedSection ? '#06080D' : THEME.card,\n                    padding: 16,\n                    borderRadius: 14,\n                    boxShadow: '0 18px 60px rgba(2,6,12,0.6)',\n                    backdropFilter: 'blur(4px)',\n                    border: '1px solid rgba(255,255,255,0.03)'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted\n                    },\n                    children: \"Chapter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 22,\n                      fontWeight: 900,\n                      marginTop: 8\n                    },\n                    children: String(i + 1).padStart(2, '0')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginTop: 6\n                    },\n                    children: item.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 12,\n                      display: 'flex',\n                      gap: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => scrollToIndex(i - 1),\n                      className: \"btn btn-ghost\",\n                      children: \"Prev\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => scrollToIndex(i + 1, {\n                        pop: true\n                      }),\n                      className: \"btn btn-primary\",\n                      children: \"Next\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-brick\",\n              style: {\n                borderRadius: 14,\n                padding: 24,\n                background: i === focusedSection ? '#050712' : THEME.card,\n                minHeight: 260,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                boxShadow: i === focusedSection ? '0 38px 140px rgba(8,6,20,0.88)' : '0 14px 40px rgba(8,6,20,0.4)',\n                backdropFilter: 'blur(4px)',\n                border: '1px solid rgba(255,255,255,0.03)',\n                transition: 'box-shadow 420ms cubic-bezier(.2,.9,.2,1), transform 420ms, background 360ms',\n                zIndex: 340\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '100%',\n                  maxWidth: 780\n                },\n                children: [item.type === 'stage' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"heading-glow\",\n                    style: {\n                      fontSize: 32,\n                      fontWeight: 900,\n                      animation: 'subtleGlow 3.4s ease-in-out infinite'\n                    },\n                    children: item.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 25\n                  }, this), item.subtitle && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginTop: 8\n                    },\n                    children: item.subtitle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 43\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 12\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => scrollToIndex(i + 1, {\n                        pop: true\n                      }),\n                      className: \"btn btn-primary\",\n                      children: \"Enter\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 23\n                }, this), item.type === 'profile' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginBottom: 12\n                    },\n                    children: item.flavor\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'grid',\n                      gap: 12\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      style: {\n                        color: THEME.muted,\n                        fontSize: 13\n                      },\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      value: profileName,\n                      onChange: e => setProfileName(e.target.value),\n                      placeholder: \"Your name\",\n                      className: \"no-brick\",\n                      style: {\n                        padding: 12,\n                        borderRadius: 10,\n                        border: '1px solid rgba(255,255,255,0.04)',\n                        background: i === focusedSection ? '#071017' : THEME.card,\n                        color: THEME.text\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            color: THEME.muted,\n                            fontSize: 13\n                          },\n                          children: \"Age\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 381,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            fontWeight: 800\n                          },\n                          children: profileAge\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 382,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 380,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"range\",\n                        min: 13,\n                        max: 80,\n                        value: profileAge,\n                        onChange: e => setProfileAge(Number(e.target.value)),\n                        className: \"no-brick\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      style: {\n                        color: THEME.muted,\n                        fontSize: 13\n                      },\n                      children: \"One-line bio\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      value: profileBio,\n                      onChange: e => setProfileBio(e.target.value),\n                      placeholder: \"I build things that...\",\n                      rows: 3,\n                      className: \"no-brick\",\n                      style: {\n                        padding: 12,\n                        borderRadius: 10,\n                        border: '1px solid rgba(255,255,255,0.04)',\n                        background: i === focusedSection ? '#071017' : THEME.card,\n                        color: THEME.text\n                      },\n                      maxLength: 120\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: 10,\n                        justifyContent: 'flex-end'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          setProfileName('');\n                          setProfileAge(22);\n                          setProfileBio('');\n                        },\n                        className: \"btn btn-ghost no-brick\",\n                        children: \"Reset\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => submitProfile(),\n                        className: \"btn btn-primary no-brick\",\n                        children: \"Save & Next\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 23\n                }, this), item.type === 'mcq' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginBottom: 12\n                    },\n                    children: item.flavor\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'grid',\n                      gridTemplateColumns: 'repeat(auto-fit, minmax(220px,1fr))',\n                      gap: 12\n                    },\n                    children: item.choices.map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleAnswer(item.id, c),\n                      className: \"no-brick\",\n                      style: {\n                        padding: 16,\n                        borderRadius: 12,\n                        textAlign: 'left',\n                        background: answers[item.id] === c || tempSelection && tempSelection.qid === item.id && tempSelection.value === c ? `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})` : 'linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02))',\n                        color: answers[item.id] === c || tempSelection && tempSelection.qid === item.id && tempSelection.value === c ? '#02171A' : THEME.text,\n                        border: answers[item.id] === c || tempSelection && tempSelection.qid === item.id && tempSelection.value === c ? '1px solid rgba(255,255,255,0.06)' : '1px solid rgba(255,255,255,0.02)',\n                        boxShadow: answers[item.id] === c || tempSelection && tempSelection.qid === item.id && tempSelection.value === c ? '0 18px 60px rgba(124,58,237,0.14)' : '0 12px 40px rgba(6,18,32,0.36)',\n                        transform: answers[item.id] === c || tempSelection && tempSelection.qid === item.id && tempSelection.value === c ? 'translateY(-6px)' : 'translateY(0)',\n                        transition: 'all 380ms cubic-bezier(.2,.9,.2,1)'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontWeight: 800\n                        },\n                        children: c\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 419,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          color: THEME.muted,\n                          marginTop: 6\n                        },\n                        children: item.points && item.points[c] ? `${item.points[c]} pts` : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 31\n                      }, this)]\n                    }, c, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 23\n                }, this), item.type === 'rating' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginBottom: 12\n                    },\n                    children: item.flavor\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      gap: 10,\n                      justifyContent: 'center'\n                    },\n                    children: Array.from({\n                      length: item.scale\n                    }).map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleAnswer(item.id, idx + 1),\n                      className: \"no-brick\",\n                      style: {\n                        width: 56,\n                        height: 56,\n                        borderRadius: 999,\n                        background: answers[item.id] === idx + 1 || tempSelection && tempSelection.qid === item.id && tempSelection.value === idx + 1 ? `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})` : 'rgba(255,255,255,0.02)',\n                        border: '1px solid rgba(255,255,255,0.03)',\n                        fontWeight: 800,\n                        transition: 'all 320ms'\n                      },\n                      children: idx + 1\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this), item.type === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginBottom: 8\n                    },\n                    children: item.flavor\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"no-brick\",\n                    rows: 4,\n                    maxLength: item.maxLength,\n                    value: answers[item.id] || '',\n                    onChange: e => setAnswers(prev => ({\n                      ...prev,\n                      [item.id]: e.target.value\n                    })),\n                    placeholder: \"One-line pitch...\",\n                    style: {\n                      width: '100%',\n                      padding: 12,\n                      borderRadius: 8,\n                      background: i === focusedSection ? '#071017' : THEME.card,\n                      color: THEME.text\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      marginTop: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: THEME.muted\n                      },\n                      children: [(answers[item.id] || '').length, \"/\", item.maxLength]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: 8\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          if (item.points && (answers[item.id] || '').length > 0) setScore(s => s + item.points);\n                          setTempSelection({\n                            qid: item.id,\n                            value: 'submitted'\n                          });\n                          setTimeout(() => {\n                            setTempSelection(null);\n                            scrollToIndex(pageIndexRef.current + 1, {\n                              pop: true\n                            });\n                          }, AUTO_ADVANCE_DELAY);\n                        },\n                        className: \"btn btn-primary no-brick\",\n                        children: \"Submit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 445,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => setAnswers(prev => ({\n                          ...prev,\n                          [item.id]: ''\n                        })),\n                        className: \"btn btn-ghost no-brick\",\n                        children: \"Clear\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 446,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), item.type === 'minigame' && /*#__PURE__*/_jsxDEV(MiniGame, {\n                  timeLimit: item.timeLimit,\n                  onComplete: s => {\n                    if (s) setScore(x => x + item.pointsOnSuccess);\n                    setTempSelection({\n                      qid: item.id,\n                      value: s ? 'success' : 'fail'\n                    });\n                    setTimeout(() => {\n                      setTempSelection(null);\n                      scrollToIndex(pageIndexRef.current + 1, {\n                        pop: true\n                      });\n                    }, AUTO_ADVANCE_DELAY);\n                  },\n                  flavor: item.flavor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showFinish && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        style: {\n          position: 'fixed',\n          inset: 0,\n          zIndex: 360,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 640,\n            padding: 20,\n            borderRadius: 10,\n            background: THEME.card,\n            boxShadow: '0 18px 60px rgba(2,6,12,0.6)',\n            backdropFilter: 'blur(6px)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: 22,\n              fontWeight: 900\n            },\n            children: \"Done \\u2014 Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: THEME.muted\n            },\n            children: [\"You scored \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: THEME.text\n              },\n              children: score\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 57\n            }, this), \". Nice work!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8,\n              marginTop: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowFinish(false);\n              },\n              className: \"btn btn-ghost no-brick\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowFinish(false);\n                if (confettiCanvas.current) confettiBurst(confettiCanvas.current);\n              },\n              className: \"btn btn-primary no-brick\",\n              children: \"Celebrate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n}\n_s3(GamifiedSurveyForm, \"ILYi0DMA0XLgNYCYA1/IMDPhucE=\");\n_c3 = GamifiedSurveyForm;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CustomCursor\");\n$RefreshReg$(_c2, \"MiniGame\");\n$RefreshReg$(_c3, \"GamifiedSurveyForm\");","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","AnimatePresence","jsxDEV","_jsxDEV","Fragment","_Fragment","THEME","bg","card","text","muted","primary","cyan","accent","warm","MAX_VIBRATE_AMPLITUDE","FRAME_CAP","AUTO_ADVANCE_DELAY","QUESTIONS","id","type","title","subtitle","flavor","choices","points","scale","pointsPerStar","maxLength","lerp","a","b","n","hexToRgb","hex","h","replace","parseInt","substring","confettiBurst","canvas","ctx","getContext","W","width","window","innerWidth","H","height","innerHeight","palette","pieces","Array","from","length","map","x","Math","random","y","vx","vy","r","c","floor","life","frame","clearRect","alive","p","save","translate","fillStyle","fillRect","restore","requestAnimationFrame","e","console","warn","CustomCursor","_s","dot","ring","target","hoverType","raf","onMove","current","clientX","clientY","onHover","t","closest","addEventListener","px","py","ringX","ringY","dotLerp","ringLerp","loop","style","transform","borderColor","boxShadow","background","removeEventListener","cancelAnimationFrame","document","documentElement","classList","add","remove","children","ref","position","left","top","borderRadius","border","pointerEvents","zIndex","transition","fileName","_jsxFileName","lineNumber","columnNumber","_c","MiniGame","timeLimit","onComplete","_s2","charge","setCharge","runningRef","started","boost","start","performance","now","tick","elapsed","base","min","round","total","tap","display","flexDirection","alignItems","gap","color","fontSize","div","onClick","whileTap","whileHover","stiffness","justifyContent","cursor","fontWeight","maxWidth","marginBottom","overflow","initial","animate","damping","_c2","GamifiedSurveyForm","_s3","answers","setAnswers","localStorage","getItem","JSON","parse","score","setScore","Number","showFinish","setShowFinish","profileName","setProfileName","profileAge","setProfileAge","profileBio","setProfileBio","tempSelection","setTempSelection","focusedSection","setFocusedSection","confettiCanvas","bgCanvas","setHeight","onResize","setItem","stringify","String","visible","containerRef","chapterRefs","addRef","el","push","targetY","currentY","rafUI","pageIndexRef","activeIndex","setActiveIndex","lastIdxRef","onPointer","loading","setLoading","progress","setProgress","D","setTimeout","scrollToIndex","pop","focusSectionAfterScroll","acc","lock","clamp","i","max","setPage","onWheel","preventDefault","deltaY","TH","abs","dir","passive","forEach","node","center","offset","translateY","rotate","opacity","idx","DPR","devicePixelRatio","BRW","BRH","cols","ceil","rows","MAX","scaleUp","sqrt","bricks","purple","cx","cy","mix","r0","g0","b0","w","baseX","baseY","phase","PI","gone","falling","fallVy","fallY","col","_triggerPop","nearest","best","Infinity","dx","dy","d","hypot","R","norm","lastT","FRAME_MS","startTime","draw","dt","time","maxD","elapsedSec","speedFactor","pow","lift","freq","ampX","ampY","vibrateX","sin","vibrateY","cos","g","bb","alpha","undefined","grad","createLinearGradient","addColorStop","roundRect","fill","minr","beginPath","moveTo","arcTo","closePath","onPointerDown","inUI","rect","getBoundingClientRect","sec","dest","TIMEOUT","TOL","iv","setInterval","diff","clearInterval","first","querySelector","focus","preventScroll","triggerPopBurstAroundCenter","attempts","maxAttempts","tryBurst","j","debug","handleAnswer","qid","value","prev","q","find","gained","s","pulseScore","getElementById","duration","easing","finish","submitProfile","name","trim","alert","minHeight","className","filter","inset","backdropFilter","padding","textAlign","animation","margin","marginTop","willChange","item","onMouseEnter","gridTemplateColumns","padStart","onChange","placeholder","_","pointsOnSuccess","exit","_c3","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/App/gamified-survey/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/**\n * Final patch: fix pointer-event blocking and focus + make bricks pop reliably\n * - Ensure canvases have inline pointerEvents: 'none' (don't rely on Tailwind classes)\n * - Make container/card z-index higher than canvases so UI is always interactive\n * - Force initial focus/unblur after loading completes\n * - Improve triggerPopBurstAroundCenter to retry and log in console (dev-only)\n */\n\nconst THEME = {\n  bg: \"#05060A\",\n  card: \"#071017\",\n  text: \"#E9F8FF\",\n  muted: \"#9FB7C7\",\n  primary: \"#7C3AED\",\n  cyan: \"#06B6D4\",\n  accent: \"#00E5FF\",\n  warm: \"#FFB86B\",\n};\n\nconst MAX_VIBRATE_AMPLITUDE = 6;\nconst FRAME_CAP = 40;\nconst AUTO_ADVANCE_DELAY = 1100;\n\nconst QUESTIONS = [\n  { id: \"intro\", type: \"stage\", title: \"Neon Nightfall\", subtitle: \"Decisions reverberate — pick fast, win faster.\" },\n  { id: \"profile\", type: \"profile\", title: \"Create Profile\", subtitle: \"Tell us who you are — quick and slick.\", flavor: \"Name, age slider, and a one-line bio. Keep it punchy.\" },\n  { id: \"q1\", type: \"mcq\", title: \"Vibe Check — choose your drive\", choices: [\"Prototype & ship\", \"Learn a trick\", \"Find teammates\", \"Prize hunter\"], points: { \"Prototype & ship\": 20, \"Learn a trick\": 10, \"Find teammates\": 15, \"Prize hunter\": 5 }, flavor: \"A neon corridor; your choice sets the tone.\" },\n  { id: \"q2\", type: \"rating\", title: \"Charge Level — how amped are you?\", scale: 5, pointsPerStar: 6, flavor: \"Lights sync to your excitement.\" },\n  { id: \"q3\", type: \"text\", title: \"One-line pitch — your spark\", maxLength: 140, points: 15, flavor: \"A single line. Make it crisp.\" },\n  { id: \"end\", type: \"stage\", title: \"Curtain Call\", subtitle: \"Badges claimed. Sunlight pending.\" },\n];\n\nfunction lerp(a,b,n){ return (1-n)*a + n*b }\nfunction hexToRgb(hex){ const h = hex.replace('#',''); return [parseInt(h.substring(0,2),16), parseInt(h.substring(2,4),16), parseInt(h.substring(4,6),16)]; }\n\nfunction confettiBurst(canvas){ if(!canvas) return; try{ const ctx = canvas.getContext('2d'); const W = canvas.width = window.innerWidth; const H = canvas.height = window.innerHeight; const palette = [THEME.primary, THEME.cyan, THEME.accent, THEME.warm]; const pieces = Array.from({length:60}).map(()=>({ x: W/2 + (Math.random()-0.5)*300, y: H/3 + (Math.random()-0.5)*80, vx:(Math.random()-0.5)*12, vy:(Math.random()-1.6)*10, r:Math.random()*6+2, c:palette[Math.floor(Math.random()*palette.length)], life:80 + Math.random()*80 })); function frame(){ ctx.clearRect(0,0,W,H); let alive=false; for(const p of pieces){ if(p.life>0){ alive=true; p.vy += 0.25; p.x += p.vx; p.y += p.vy; ctx.save(); ctx.translate(p.x,p.y); ctx.fillStyle = p.c; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*0.6); ctx.restore(); p.life--; } } if(alive) requestAnimationFrame(frame); else ctx.clearRect(0,0,W,H); } frame(); }catch(e){ console.warn('confetti failed', e); } }\n\nfunction CustomCursor(){\n  const dot = useRef(null), ring = useRef(null);\n  const target = useRef({ x: typeof window !== 'undefined' ? window.innerWidth/2 : 0, y: typeof window !== 'undefined' ? window.innerHeight/2 : 0 });\n  const hoverType = useRef('default');\n  const raf = useRef(null);\n\n  useEffect(()=>{\n    function onMove(e){ target.current.x = e.clientX; target.current.y = e.clientY; }\n    function onHover(e){ const t = e.target; if(t && t.closest && t.closest('button, a, [role=\"button\"]')) hoverType.current = 'button'; else if(t && t.closest && t.closest('input, textarea, select, .no-brick')) hoverType.current = 'form'; else hoverType.current = 'default'; }\n    window.addEventListener('mousemove', onMove); window.addEventListener('mouseover', onHover);\n\n    let px = target.current.x; let py = target.current.y; let ringX = px; let ringY = py; const dotLerp = 0.28; const ringLerp = 0.045;\n    function loop(){ px = lerp(px, target.current.x, dotLerp); py = lerp(py, target.current.y, dotLerp); if(dot.current) dot.current.style.transform = `translate3d(${px-6}px, ${py-6}px, 0)`; ringX = lerp(ringX, target.current.x, ringLerp); ringY = lerp(ringY, target.current.y, ringLerp);\n      if(ring.current){ const type = hoverType.current; if(type === 'button'){ ring.current.style.borderColor = 'rgba(255,255,255,0.22)'; ring.current.style.boxShadow = '0 8px 30px rgba(255,255,255,0.04)'; } else if(type === 'form'){ ring.current.style.borderColor = 'rgba(6,182,212,0.20)'; ring.current.style.boxShadow = '0 10px 36px rgba(6,182,212,0.06)'; } else { ring.current.style.borderColor = 'rgba(124,58,237,0.12)'; ring.current.style.boxShadow = 'none'; }\n      const scale = (hoverType.current === 'button') ? 1.9 : (hoverType.current === 'form' ? 1.45 : 1); ring.current.style.transform = `translate3d(${ringX-18}px, ${ringY-18}px, 0) scale(${scale})`; }\n      if(dot.current){ if(hoverType.current === 'button') dot.current.style.background = 'radial-gradient(circle at 30% 30%, #fff, #ffdfe8)'; else if(hoverType.current === 'form') dot.current.style.background = 'radial-gradient(circle at 30% 30%, #e6ffff, #d8f7ff)'; else dot.current.style.background = 'radial-gradient(circle at 30% 30%, #fff, #e6f8ff)'; }\n      raf.current = requestAnimationFrame(loop);\n    }\n    raf.current = requestAnimationFrame(loop);\n    return ()=>{ window.removeEventListener('mousemove', onMove); window.removeEventListener('mouseover', onHover); cancelAnimationFrame(raf.current); }\n  }, []);\n\n  useEffect(()=>{ document.documentElement.classList.add('custom-cursor-hide'); return ()=>document.documentElement.classList.remove('custom-cursor-hide'); }, []);\n\n  return (\n    <>\n      <div ref={ring} style={{ position:'fixed', left:0, top:0, width:44, height:44, borderRadius:9999, border:'1.6px solid rgba(124,58,237,0.12)', pointerEvents:'none', zIndex:99999, transition:'border-color 180ms, box-shadow 180ms, transform 180ms' }} />\n      <div ref={dot} style={{ position:'fixed', left:0, top:0, width:12, height:12, borderRadius:9999, background:'radial-gradient(circle at 30% 30%, #fff, #e6f8ff)', boxShadow:'0 10px 26px rgba(6,182,212,0.08)', pointerEvents:'none', zIndex:100000, transition:'background 160ms' }} />\n      <style>{`.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`}</style>\n    </>\n  );\n}\n\nfunction MiniGame({ timeLimit=6000, onComplete, flavor }){\n  const [charge, setCharge] = useState(0); const runningRef = useRef(false); const raf = useRef(null); const started = useRef(0); const boost = useRef(0);\n  useEffect(()=>()=> cancelAnimationFrame(raf.current), []);\n  function start(){ if(runningRef.current) return; runningRef.current = true; boost.current = 0; started.current = performance.now(); tick(); }\n  function tick(){ raf.current = requestAnimationFrame(()=>{ const elapsed = performance.now() - started.current; const base = Math.min(100, Math.round((elapsed/timeLimit)*100)); const total = Math.min(100, base + boost.current); setCharge(total); if(total>=100){ runningRef.current=false; cancelAnimationFrame(raf.current); onComplete(true); return; } if(elapsed>=timeLimit){ runningRef.current=false; cancelAnimationFrame(raf.current); onComplete(total>=60); return; } tick(); }); }\n  function tap(){ if(!runningRef.current) start(); else { boost.current = Math.min(100, boost.current + 12); setCharge(c=>Math.min(100,c+12)); } }\n  return (\n    <div style={{ display:'flex', flexDirection:'column', alignItems:'center', gap:12 }}>\n      <div style={{ color: THEME.muted, fontSize:13 }}>{flavor}</div>\n      <motion.div onClick={tap} whileTap={{ scale:0.96 }} whileHover={{ scale:1.02 }} transition={{ type:'spring', stiffness:300 }} style={{ width:140, height:140, borderRadius:999, display:'flex', alignItems:'center', justifyContent:'center', cursor:'pointer', background:`linear-gradient(135deg, ${THEME.primary}, ${THEME.cyan})`, boxShadow:'0 16px 46px rgba(0,0,0,0.45)' }}>\n        <div style={{ fontWeight:900, color:'#06060A' }}>TAP</div>\n      </motion.div>\n      <div style={{ width:'100%', maxWidth:520 }}>\n        <div style={{ color: THEME.muted, marginBottom:6 }}>Charge: {charge}%</div>\n        <div style={{ height:12, width:'100%', borderRadius:10, overflow:'hidden', background:'rgba(255,255,255,0.02)' }}>\n          <motion.div initial={{ width:0 }} animate={{ width: `${charge}%` }} transition={{ type:'spring', stiffness:120, damping:20 }} style={{ height:'100%', background:`linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})` }} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function GamifiedSurveyForm(){\n  useEffect(()=>{ document.title = 'HackPlay — Neon Survey'; }, []);\n\n  const [answers, setAnswers] = useState(()=>{ try{ const r = localStorage.getItem('gamifiedSurveyAnswers'); return r?JSON.parse(r):{} }catch{ return {}; } });\n  const [score, setScore] = useState(()=>Number(localStorage.getItem('gamifiedSurveyScore'))||0);\n  const [showFinish, setShowFinish] = useState(false);\n\n  const [profileName, setProfileName] = useState(answers.profileName || '');\n  const [profileAge, setProfileAge] = useState(answers.profileAge || 22);\n  const [profileBio, setProfileBio] = useState(answers.profileBio || '');\n\n  const [tempSelection, setTempSelection] = useState(null);\n  const [focusedSection, setFocusedSection] = useState(0);\n\n  const confettiCanvas = useRef(null);\n  const bgCanvas = useRef(null);\n\n  const [height, setHeight] = useState(typeof window !== 'undefined' ? window.innerHeight : 800);\n  useEffect(()=>{ function onResize(){ setHeight(window.innerHeight); } window.addEventListener('resize', onResize); return ()=>window.removeEventListener('resize', onResize); }, []);\n\n  useEffect(()=>localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(()=>localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n\n  const visible = QUESTIONS;\n  const containerRef = useRef(null); const chapterRefs = useRef([]); chapterRefs.current = [];\n  const addRef = el => { if(el) chapterRefs.current.push(el) };\n  const targetY = useRef(0); const currentY = useRef(0); const rafUI = useRef(null);\n  const pageIndexRef = useRef(0); const [activeIndex, setActiveIndex] = useState(0);\n  const lastIdxRef = useRef(0);\n\n  const cursor = useRef({ x: typeof window !== 'undefined' ? window.innerWidth/2 : 0, y: typeof window !== 'undefined' ? window.innerHeight/2 : 0 });\n  useEffect(()=>{ function onPointer(e){ cursor.current.x = e.clientX; cursor.current.y = e.clientY; } window.addEventListener('pointermove', onPointer); return ()=>window.removeEventListener('pointermove', onPointer); }, []);\n\n  // loader: 2s\n  const [loading, setLoading] = useState(true); const [progress, setProgress] = useState(0);\n  useEffect(()=>{ let raf = null; const start = performance.now(); const D = 2000; function tick(now){ const t = Math.min(1,(now-start)/D); setProgress(Math.round(100 * t)); if(t<1) raf = requestAnimationFrame(tick); else setTimeout(()=> setLoading(false), 180); } raf = requestAnimationFrame(tick); return ()=> cancelAnimationFrame(raf); }, []);\n\n  // make sure UI becomes interactive after loading\n  useEffect(()=>{\n    if(!loading){ // land on first page and set focus immediately\n      setTimeout(()=>{\n        scrollToIndex(0, { pop: false });\n        setFocusedSection(0);\n        focusSectionAfterScroll(0, 0);\n      }, 80);\n    }\n  }, [loading]);\n\n  // wheel -> page snap (slower feel)\n  useEffect(()=>{\n    let acc = 0; let lock = false; function clamp(i){ return Math.max(0, Math.min(i, visible.length-1)); }\n    function setPage(i){ const c = clamp(i); scrollToIndex(c, { pop: false }); }\n    function onWheel(e){ if(loading) return; e.preventDefault(); acc += e.deltaY; const TH = 80; if(Math.abs(acc) > TH && !lock){ const dir = acc>0?1:-1; setPage(pageIndexRef.current + dir); acc = 0; lock = true; setTimeout(()=> lock = false, 420); } }\n    window.addEventListener('wheel', onWheel, { passive:false }); return ()=> window.removeEventListener('wheel', onWheel);\n  }, [height, loading, visible.length]);\n\n  // UI lerp loop — sets focusedSection when index changes so card is unblurred and lifted\n  useEffect(()=>{ function loop(){ currentY.current = lerp(currentY.current, targetY.current, 0.12); if(containerRef.current) containerRef.current.style.transform = `translate3d(0, ${-currentY.current}px, 0)`; chapterRefs.current.forEach((node, i)=>{ if(!node) return; const center = i * height; const offset = (currentY.current - center)/height; const abs = Math.abs(offset); const translateY = offset * 8; const rotate = offset * 1.2; const scale = 1 - Math.min(0.05, abs * 0.05); const opacity = 1 - Math.min(0.9, abs * 0.9); node.style.transform = `translate3d(0px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`; node.style.opacity = String(opacity); // visual lift when focused\n      if(i === focusedSection){ node.style.boxShadow = '0 34px 120px rgba(8,6,20,0.78)'; node.style.zIndex = 320; node.style.pointerEvents = 'auto'; } else { node.style.boxShadow = 'none'; node.style.zIndex = 30; node.style.pointerEvents = 'none'; }\n    }); const idx = Math.round(currentY.current / height); if(lastIdxRef.current !== idx){ lastIdxRef.current = idx; setActiveIndex(idx); setFocusedSection(idx); } rafUI.current = requestAnimationFrame(loop); } rafUI.current = requestAnimationFrame(loop); return ()=> cancelAnimationFrame(rafUI.current); }, [height]);\n\n  // BRICKS canvas: improved pop and bursts\n  useEffect(()=>{\n    const canvas = bgCanvas.current; if(!canvas) return; const ctx = canvas.getContext('2d'); let W = window.innerWidth, H = window.innerHeight; const DPR = Math.min(window.devicePixelRatio || 1, 1.2);\n    canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = `${W}px`; canvas.style.height = `${H}px`; ctx.scale(DPR, DPR);\n\n    let BRW = window.innerWidth < 640 ? 120 : 96; let BRH = window.innerWidth < 640 ? 56 : 44; let cols = Math.ceil(W/BRW), rows = Math.ceil(H/BRH);\n    const MAX = 700; if(cols*rows > MAX){ const scaleUp = Math.sqrt((cols*rows)/MAX); BRW = Math.ceil(BRW * scaleUp); BRH = Math.ceil(BRH * scaleUp); cols = Math.ceil(W/BRW); rows = Math.ceil(H/BRH); }\n\n    const bricks = []; const purple = hexToRgb(THEME.primary); const cyan = hexToRgb(THEME.cyan);\n    for(let r=0;r<rows;r++){\n      for(let c=0;c<cols;c++){\n        const x = c*BRW + (r%2?BRW/2:0); const y = r*BRH; const cx = x + BRW/2; const cy = y + BRH/2;\n        const mix = Math.random(); const r0 = Math.round((1-mix)*purple[0] + mix*cyan[0]); const g0 = Math.round((1-mix)*purple[1] + mix*cyan[1]); const b0 = Math.round((1-mix)*purple[2] + mix*cyan[2]);\n        bricks.push({ x, y, w:BRW, h:BRH, cx, cy, baseX:x, baseY:y, phase:Math.random()*Math.PI*2, vy:0, pop:0, gone:false, falling:false, fallVy:0, fallY:0, opacity:1, col:[r0,g0,b0], mix });\n      }\n    }\n\n    canvas._triggerPop = function(px, py){\n      let nearest = null; let best = Infinity;\n      for(const b of bricks){ if(b.gone) continue; const dx = b.cx - px; const dy = b.cy - py; const d = Math.hypot(dx,dy); if(d < best){ best = d; nearest = b; } }\n      if(nearest && best < Math.max(120, Math.min(W,H) * 0.06) && !nearest.falling){ nearest.falling = true; nearest.fallVy = 200 + Math.random()*220; nearest.fallY = 0; }\n      const R = 140;\n      for(const b of bricks){ if(b.gone || b.falling) continue; const dx = b.cx - px; const dy = b.cy - py; const d = Math.hypot(dx,dy); if(d < R){ const norm = 1 - d / R; b.pop = Math.max(b.pop, 0.45 * norm + 0.02); b.vy += (6 * norm) + (Math.random()*3); }\n      }\n    };\n\n    let lastT = performance.now(); const FRAME_MS = 1000 / FRAME_CAP; let raf = null; const startTime = performance.now();\n    function draw(now){ if(now - lastT < FRAME_MS){ raf = requestAnimationFrame(draw); return; } const dt = Math.min(40, now - lastT) * 0.001; lastT = now; ctx.clearRect(0,0,W,H);\n      ctx.fillStyle = 'rgba(4,6,10,0.46)'; ctx.fillRect(0,0,W,H);\n      const time = now * 0.001; const maxD = Math.max(W,H) * 0.6; const elapsedSec = Math.max(0, (now - startTime) / 1000); const speedFactor = 1 + Math.min(1, elapsedSec / 60) * 0.25;\n\n      for(const b of bricks){ if(b.gone) continue;\n        if(b.falling){ b.fallVy += 900 * dt; b.fallY += b.fallVy * dt; b.opacity = Math.max(0, 1 - (b.fallY / (H * 1.2))); if(b.fallY > H + 120){ b.gone = true; continue; } }\n\n        const dx = b.cx - cursor.current.x; const dy = b.cy - cursor.current.y; const d = Math.hypot(dx,dy);\n        let t = Math.max(0, 1 - d / maxD); t = Math.pow(t, 0.95);\n\n        b.vy *= 0.92; b.vy -= 20 * dt * t; b.pop = Math.max(0, b.pop - 0.02);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 20);\n\n        const freq = 6 * speedFactor; const ampX = MAX_VIBRATE_AMPLITUDE * (0.6 + 0.6 * b.mix) * t * 0.45; const ampY = (MAX_VIBRATE_AMPLITUDE * 0.45) * (0.5 + 0.5 * b.mix) * t;\n        const vibrateX = (b.falling ? 0 : Math.sin(time * freq + b.phase) * ampX);\n        const vibrateY = (b.falling ? 0 : Math.cos(time * freq * 1.1 + b.phase) * ampY);\n\n        const px = b.baseX + vibrateX;\n        const py = b.baseY + vibrateY - lift + b.vy * dt * 50 + (b.falling ? b.fallY : 0);\n\n        const r = Math.max(6, Math.min(255, Math.round(b.col[0] + Math.sin(time*0.6 + b.phase)*5)));\n        const g = Math.max(6, Math.min(255, Math.round(b.col[1] + Math.cos(time*0.62 + b.phase)*5)));\n        const bb = Math.max(6, Math.min(255, Math.round(b.col[2] + Math.sin(time*0.64 + b.phase)*5)));\n        const alpha = (b.opacity !== undefined ? b.opacity : 1) * (0.98 - (1 - t) * 0.08);\n\n        const grad = ctx.createLinearGradient(px+6,py+6,px + b.w - 6, py + b.h - 6);\n        grad.addColorStop(0, `rgba(${Math.max(0,r-16)}, ${Math.max(0,g-16)}, ${Math.max(0,bb-16)}, ${alpha})`);\n        grad.addColorStop(1, `rgba(${r}, ${g}, ${bb}, ${alpha})`);\n        ctx.save();\n        if(b.falling){ ctx.translate(px + b.w/2, py + b.h/2); ctx.rotate((b.phase % 1) * (b.fallY / (H/3)) * 0.4 ); ctx.translate(-(px + b.w/2), -(py + b.h/2)); }\n        ctx.fillStyle = grad; roundRect(ctx, px+6, py+6, b.w - 12, b.h - 12, 6); ctx.fill();\n        if(t > 0.06 && !b.falling) { ctx.fillStyle = `rgba(255,255,255,${0.02 * t + 0.02 * b.pop})`; ctx.fillRect(px+12, py+10, b.w - 24, Math.max(2, Math.min(5, 3 * t))); }\n        ctx.restore();\n      }\n\n      raf = requestAnimationFrame(draw);\n    }\n\n    function roundRect(ctx,x,y,w,h,r){ const minr = Math.min(r, w/2, h/2); ctx.beginPath(); ctx.moveTo(x+minr,y); ctx.arcTo(x+w,y,x+w,y+h,minr); ctx.arcTo(x+w,y+h,x,y+h,minr); ctx.arcTo(x,y+h,x,y,minr); ctx.arcTo(x,y,x+ w,y,minr); ctx.closePath(); }\n\n    raf = requestAnimationFrame(draw);\n\n    function onPointerDown(e){ const inUI = e.target && e.target.closest && e.target.closest('button, input, textarea, select, [role=\"button\"], .no-brick'); if(inUI) return; const rect = canvas.getBoundingClientRect(); const px = e.clientX - rect.left; const py = e.clientY - rect.top; canvas._triggerPop(px, py); }\n    window.addEventListener('pointerdown', onPointerDown);\n\n    function onResize(){ W = window.innerWidth; H = window.innerHeight; canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = `${W}px`; canvas.style.height = `${H}px`; ctx.scale(DPR,DPR); }\n    window.addEventListener('resize', onResize);\n\n    return ()=>{ window.removeEventListener('resize', onResize); window.removeEventListener('pointerdown', onPointerDown); cancelAnimationFrame(raf); };\n  }, [height]);\n\n  // reliable focus after scroll (poll until scroll nears destination)\n  function focusSectionAfterScroll(sec, dest){\n    const start = performance.now(); const TIMEOUT = 1400; const TOL = 6; const iv = setInterval(()=>{\n      const elapsed = performance.now() - start; const diff = Math.abs(currentY.current - dest);\n      if(diff <= TOL || elapsed > TIMEOUT){ clearInterval(iv);\n        setTimeout(()=>{ // small extra wait to ensure DOM settled\n          setFocusedSection(sec); // ensure visual lift immediately when settled\n          const node = chapterRefs.current[sec]; if(node){ const first = node.querySelector && (node.querySelector('button, input, textarea, select, [tabindex], [role=\"button\"]')); if(first && first.focus) try{ first.focus({ preventScroll: true }); }catch(e){} }\n        }, 80);\n      }\n    }, 60);\n  }\n\n  // helper to reliably trigger pop even if canvas not ready yet\n  function triggerPopBurstAroundCenter(){\n    const canvas = bgCanvas.current; if(!canvas) return;\n    let attempts = 0; const maxAttempts = 10;\n    function tryBurst(){ attempts++; if(canvas._triggerPop){ try{\n        const rect = canvas.getBoundingClientRect(); const cx = rect.width/2; const cy = rect.height/2; for(let j=0;j<4;j++){ setTimeout(()=> canvas._triggerPop(cx + (j-1.5)*30, cy + (j-1.5)*18), j*80); }\n        // dev log\n        if(window && window.console) console.debug('[popBurst] fired at attempt', attempts);\n      }catch(e){ if(window && window.console) console.warn('popBurst error', e); }\n    } else if(attempts < maxAttempts){ setTimeout(tryBurst, 120); } else { if(window && window.console) console.warn('popBurst: canvas._triggerPop not found after', attempts, 'attempts'); }\n  }\n  tryBurst();\n  }\n\n  // improved scrollToIndex: triggers a tiny burst of pops to ensure visible fall even when cards are centered\n  function scrollToIndex(i, { pop = false } = {}){\n    const max = Math.max(0, (visible.length - 1) * height);\n    const dest = Math.max(0, Math.min(i * height, max));\n    targetY.current = dest;\n    pageIndexRef.current = Math.round(dest / height);\n    const sec = Math.round(dest / height);\n    // force the focusedSection when programmatic scroll starts\n    setFocusedSection(sec);\n\n    focusSectionAfterScroll(sec, dest);\n\n    if(pop){ triggerPopBurstAroundCenter(); }\n  }\n\n  function handleAnswer(qid, value){\n    setAnswers(prev => ({ ...prev, [qid]: value }));\n    setTempSelection({ qid, value });\n\n    const q = QUESTIONS.find(x=>x.id===qid) || {}; let gained = 0; if(q.type==='mcq' && q.points) gained = q.points[value] || 0; else if(q.type==='rating') gained = value * (q.pointsPerStar||1); else if(q.type==='text') gained = q.points||0; if(gained) { setScore(s=>s+gained); pulseScore(); }\n\n    setTimeout(()=>{ setTempSelection(null); scrollToIndex(pageIndexRef.current + 1, { pop: true }); }, AUTO_ADVANCE_DELAY);\n  }\n\n  function pulseScore(){ const el = document.getElementById('score-badge'); if(!el) return; el.animate([{ transform:'translateY(0) scale(1)' },{ transform:'translateY(-6px) scale(1.04)' },{ transform:'translateY(0) scale(1)' }], { duration:640, easing:'ease-out' }); }\n  function finish(){ setShowFinish(true); if(confettiCanvas.current) confettiBurst(confettiCanvas.current); }\n\n  function submitProfile(){ const name = profileName.trim(); if(!name) return alert('Please enter your name'); setAnswers(prev => ({ ...prev, profileName: name, profileAge, profileBio })); setScore(s=>s+10); pulseScore(); // next\n    setTimeout(()=> scrollToIndex(pageIndexRef.current+1, { pop: true }), 600);\n  }\n\n  return (\n    <div style={{ minHeight:'100vh', background:THEME.bg, color:THEME.text, position:'relative', overflow:'hidden' }}>\n      <style>{`\n        .btn { padding:10px 14px; border-radius:12px; font-weight:800; cursor:pointer; border:1px solid rgba(255,255,255,0.03); transition: transform 260ms cubic-bezier(.2,.9,.2,1), box-shadow 260ms, background 260ms; }\n        .btn-primary { background: linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); color:#02171A; box-shadow:0 12px 40px rgba(6,182,212,0.06); }\n        .btn-primary:hover { transform: translateY(-4px); box-shadow:0 26px 64px rgba(6,182,212,0.12); }\n        .btn-ghost { background: rgba(255,255,255,0.02); color:${THEME.text}; }\n        .heading-glow { background-image: linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); -webkit-background-clip: text; color: transparent; }\n        .no-brick { pointer-events: auto; }\n        .choice-selected { box-shadow: 0 18px 50px rgba(124,58,237,0.16); transform: translateY(-6px); border: 1px solid rgba(255,255,255,0.06); }\n        input[type=range] { -webkit-appearance:none; height:10px; background:linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); border-radius:999px; outline:none; }\n        input[type=range]::-webkit-slider-thumb { -webkit-appearance:none; width:22px; height:22px; border-radius:999px; background:#02171A; box-shadow:0 10px 26px rgba(124,58,237,0.14); border:4px solid ${THEME.cyan}; }\n        @keyframes subtleGlow { 0%{ filter:brightness(1) } 50%{ filter:brightness(1.06) } 100%{ filter:brightness(1) } }\n      `}</style>\n\n      <CustomCursor />\n\n      {/* Make canvases explicitly pointerEvents none via inline style so they never block clicks */}\n      <canvas ref={bgCanvas} className=\"fixed inset-0\" style={{ pointerEvents: 'none', zIndex: 10, left:0, top:0, width:'100%', height:'100%', position:'fixed', filter: loading ? 'blur(6px) brightness(0.56)' : 'none', transition: 'filter 520ms cubic-bezier(.2,.9,.2,1)' }} />\n      <canvas ref={confettiCanvas} className=\"fixed inset-0\" style={{ pointerEvents: 'none', zIndex: 200, left:0, top:0, width:'100%', height:'100%', position:'fixed' }} />\n\n      {loading && <div style={{ position:'fixed', inset:0, zIndex:260, background:'rgba(3,4,10,0.42)', backdropFilter:'blur(6px)' }} />}\n\n      <div style={{ position:'fixed', left:16, top:16, zIndex:280, display:'flex', gap:12, alignItems:'center' }}>\n        <div id=\"score-badge\" style={{ padding:'10px 14px', borderRadius:9999, background:'linear-gradient(90deg, rgba(6,182,212,0.1), rgba(124,58,237,0.08))', fontWeight:900 }}>{score} pts</div>\n      </div>\n\n      {loading && (\n        <div style={{ position:'fixed', inset:0, zIndex:300, display:'flex', alignItems:'center', justifyContent:'center', pointerEvents:'none' }}>\n          <div style={{ textAlign:'center' }}>\n            <div style={{ fontWeight:900, marginBottom:14, fontSize:18 }}>Loading — Neon Calibration</div>\n            <div style={{ display:'flex', gap:10, justifyContent:'center', alignItems:'center' }}>\n              <div style={{ width:36, height:80, borderRadius:8, background:`linear-gradient(180deg, rgba(6,182,212,0.14), rgba(124,58,237,0.08))`, transform:'skewX(-6deg)', animation:'pulse 1.2s infinite' }} />\n              <div style={{ width:36, height:100, borderRadius:8, background:`linear-gradient(180deg, rgba(124,58,237,0.18), rgba(6,182,212,0.06))`, transform:'skewX(-4deg)', animation:'pulse 1.2s infinite .08s' }} />\n              <div style={{ width:36, height:80, borderRadius:8, background:`linear-gradient(180deg, rgba(0,229,255,0.12), rgba(124,58,237,0.04))`, transform:'skewX(-2deg)', animation:'pulse 1.2s infinite .14s' }} />\n            </div>\n            <div style={{ width:420, height:12, borderRadius:999, background:'rgba(255,255,255,0.02)', margin:'14px auto', overflow:'hidden' }}>\n              <div style={{ height:'100%', width:`${progress}%`, background:`linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`, transition:'width 320ms linear' }} />\n            </div>\n            <div style={{ color:THEME.muted, marginTop:8 }}>{progress}%</div>\n          </div>\n        </div>\n      )}\n\n      {/* Container has a high z-index and pointerEvents auto so UI always receives clicks */}\n      <div ref={containerRef} className=\"fixed inset-0 no-brick\" style={{ willChange:'transform', zIndex:320, pointerEvents: 'auto' }}>\n        <div style={{ height:`${visible.length * height}px` }}>\n          {visible.map((item, i) => (\n            <section key={item.id} ref={addRef} onMouseEnter={()=> setFocusedSection(i)} style={{ height:`${height}px`, display:'flex', alignItems:'center', justifyContent:'center', padding:20 }}>\n              <div style={{ width:'100%', maxWidth:1100, display:'grid', gridTemplateColumns:'280px 1fr', gap:20, alignItems:'center' }}>\n\n                <aside style={{ display: window.innerWidth >= 1000 ? 'block' : 'none' }}>\n                  <div style={{ position:'sticky', top:36 }}>\n                    <div style={{ background: i===focusedSection ? '#06080D' : THEME.card, padding:16, borderRadius:14, boxShadow:'0 18px 60px rgba(2,6,12,0.6)', backdropFilter:'blur(4px)', border:'1px solid rgba(255,255,255,0.03)' }}>\n                      <div style={{ color:THEME.muted }}>Chapter</div>\n                      <div style={{ fontSize:22, fontWeight:900, marginTop:8 }}>{String(i+1).padStart(2,'0')}</div>\n                      <div style={{ color:THEME.muted, marginTop:6 }}>{item.title}</div>\n                      <div style={{ marginTop:12, display:'flex', gap:8 }}>\n                        <button onClick={()=> scrollToIndex(i-1)} className=\"btn btn-ghost\">Prev</button>\n                        <button onClick={()=> scrollToIndex(i+1, { pop: true })} className=\"btn btn-primary\">Next</button>\n                      </div>\n                    </div>\n                  </div>\n                </aside>\n\n                {/* CARD: opaque and lifted when focused so bricks are always behind */}\n                <div className=\"no-brick\" style={{ borderRadius:14, padding:24, background: i===focusedSection ? '#050712' : THEME.card, minHeight:260, display:'flex', alignItems:'center', justifyContent:'center', boxShadow: i===focusedSection ? '0 38px 140px rgba(8,6,20,0.88)' : '0 14px 40px rgba(8,6,20,0.4)', backdropFilter:'blur(4px)', border:'1px solid rgba(255,255,255,0.03)', transition:'box-shadow 420ms cubic-bezier(.2,.9,.2,1), transform 420ms, background 360ms', zIndex:340 }}>\n                  <div style={{ width:'100%', maxWidth:780 }}>\n\n                    {item.type === 'stage' && (\n                      <div style={{ textAlign:'center' }}>\n                        <h1 className=\"heading-glow\" style={{ fontSize:32, fontWeight:900, animation:'subtleGlow 3.4s ease-in-out infinite' }}>{item.title}</h1>\n                        {item.subtitle && <div style={{ color:THEME.muted, marginTop:8 }}>{item.subtitle}</div>}\n                        <div style={{ marginTop:12 }}>\n                          <button onClick={()=> scrollToIndex(i+1, { pop: true })} className=\"btn btn-primary\">Enter</button>\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'profile' && (\n                      <div>\n                        <div style={{ color:THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n                        <div style={{ display:'grid', gap:12 }}>\n                          <label style={{ color:THEME.muted, fontSize:13 }}>Name</label>\n                          <input value={profileName} onChange={(e)=> setProfileName(e.target.value)} placeholder=\"Your name\" className=\"no-brick\" style={{ padding:12, borderRadius:10, border:'1px solid rgba(255,255,255,0.04)', background: i===focusedSection ? '#071017' : THEME.card, color:THEME.text }} />\n\n                          <div>\n                            <div style={{ display:'flex', justifyContent:'space-between', alignItems:'center' }}>\n                              <div style={{ color:THEME.muted, fontSize:13 }}>Age</div>\n                              <div style={{ fontWeight:800 }}>{profileAge}</div>\n                            </div>\n                            <input type=\"range\" min={13} max={80} value={profileAge} onChange={(e)=> setProfileAge(Number(e.target.value))} className=\"no-brick\" />\n                          </div>\n\n                          <label style={{ color:THEME.muted, fontSize:13 }}>One-line bio</label>\n                          <textarea value={profileBio} onChange={(e)=> setProfileBio(e.target.value)} placeholder=\"I build things that...\" rows={3} className=\"no-brick\" style={{ padding:12, borderRadius:10, border:'1px solid rgba(255,255,255,0.04)', background: i===focusedSection ? '#071017' : THEME.card, color:THEME.text }} maxLength={120} />\n\n                          <div style={{ display:'flex', gap:10, justifyContent:'flex-end' }}>\n                            <button onClick={()=> { setProfileName(''); setProfileAge(22); setProfileBio(''); }} className=\"btn btn-ghost no-brick\">Reset</button>\n                            <button onClick={()=> submitProfile()} className=\"btn btn-primary no-brick\">Save & Next</button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'mcq' && (\n                      <div>\n                        <div style={{ color:THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n                        <div style={{ display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(220px,1fr))', gap:12 }}>\n                          {item.choices.map(c => (\n                            <button\n                              key={c}\n                              onClick={()=> handleAnswer(item.id, c)}\n                              className={\"no-brick\"}\n                              style={{\n                                padding:16,\n                                borderRadius:12,\n                                textAlign:'left',\n                                background: (answers[item.id] === c || (tempSelection && tempSelection.qid === item.id && tempSelection.value === c)) ? `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})` : 'linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02))',\n                                color: (answers[item.id] === c || (tempSelection && tempSelection.qid === item.id && tempSelection.value === c)) ? '#02171A' : THEME.text,\n                                border: (answers[item.id] === c || (tempSelection && tempSelection.qid === item.id && tempSelection.value === c)) ? '1px solid rgba(255,255,255,0.06)' : '1px solid rgba(255,255,255,0.02)',\n                                boxShadow: (answers[item.id] === c || (tempSelection && tempSelection.qid === item.id && tempSelection.value === c)) ? '0 18px 60px rgba(124,58,237,0.14)' : '0 12px 40px rgba(6,18,32,0.36)',\n                                transform: (answers[item.id] === c || (tempSelection && tempSelection.qid === item.id && tempSelection.value === c)) ? 'translateY(-6px)' : 'translateY(0)',\n                                transition: 'all 380ms cubic-bezier(.2,.9,.2,1)'\n                              }}\n                            >\n                              <div style={{ fontWeight:800 }}>{c}</div>\n                              <div style={{ color:THEME.muted, marginTop:6 }}>{item.points && item.points[c] ? `${item.points[c]} pts` : ''}</div>\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'rating' && (\n                      <div style={{ textAlign:'center' }}>\n                        <div style={{ color:THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n                        <div style={{ display:'flex', gap:10, justifyContent:'center' }}>\n                          {Array.from({ length: item.scale }).map((_,idx)=> (\n                            <button key={idx} onClick={()=> handleAnswer(item.id, idx+1)} className=\"no-brick\" style={{ width:56, height:56, borderRadius:999, background:(answers[item.id] === (idx+1) || (tempSelection && tempSelection.qid === item.id && tempSelection.value === (idx+1))) ? `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})` : 'rgba(255,255,255,0.02)', border:'1px solid rgba(255,255,255,0.03)', fontWeight:800, transition:'all 320ms' }}>{idx+1}</button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'text' && (\n                      <div>\n                        <div style={{ color:THEME.muted, marginBottom:8 }}>{item.flavor}</div>\n                        <textarea className=\"no-brick\" rows={4} maxLength={item.maxLength} value={answers[item.id]||''} onChange={(e)=> setAnswers(prev=>({ ...prev, [item.id]: e.target.value }))} placeholder=\"One-line pitch...\" style={{ width:'100%', padding:12, borderRadius:8, background: i===focusedSection ? '#071017' : THEME.card, color:THEME.text }} />\n                        <div style={{ display:'flex', justifyContent:'space-between', marginTop:8 }}>\n                          <div style={{ color:THEME.muted }}>{(answers[item.id]||'').length}/{item.maxLength}</div>\n                          <div style={{ display:'flex', gap:8 }}>\n                            <button onClick={()=> { if(item.points && (answers[item.id]||'').length>0) setScore(s=>s+item.points); setTempSelection({ qid: item.id, value: 'submitted' }); setTimeout(()=>{ setTempSelection(null); scrollToIndex(pageIndexRef.current+1, { pop: true }); }, AUTO_ADVANCE_DELAY); }} className=\"btn btn-primary no-brick\">Submit</button>\n                            <button onClick={()=> setAnswers(prev=>({ ...prev, [item.id]: '' }))} className=\"btn btn-ghost no-brick\">Clear</button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'minigame' && <MiniGame timeLimit={item.timeLimit} onComplete={(s)=>{ if(s) setScore(x=>x+item.pointsOnSuccess); setTempSelection({ qid: item.id, value: s ? 'success' : 'fail' }); setTimeout(()=>{ setTempSelection(null); scrollToIndex(pageIndexRef.current+1, { pop: true }); }, AUTO_ADVANCE_DELAY); }} flavor={item.flavor} />}\n\n                  </div>\n                </div>\n\n              </div>\n            </section>\n          ))}\n        </div>\n      </div>\n\n      <AnimatePresence>{showFinish && (\n        <motion.div initial={{ opacity:0 }} animate={{ opacity:1 }} exit={{ opacity:0 }} style={{ position:'fixed', inset:0, zIndex:360, display:'flex', alignItems:'center', justifyContent:'center' }}>\n          <div style={{ width:640, padding:20, borderRadius:10, background:THEME.card, boxShadow:'0 18px 60px rgba(2,6,12,0.6)', backdropFilter:'blur(6px)' }}>\n            <h3 style={{ fontSize:22, fontWeight:900 }}>Done — Results</h3>\n            <p style={{ color:THEME.muted }}>You scored <strong style={{ color:THEME.text }}>{score}</strong>. Nice work!</p>\n            <div style={{ display:'flex', gap:8, marginTop:12 }}>\n              <button onClick={()=> { setShowFinish(false); }} className=\"btn btn-ghost no-brick\">Close</button>\n              <button onClick={()=> { setShowFinish(false); if(confettiCanvas.current) confettiBurst(confettiCanvas.current); }} className=\"btn btn-primary no-brick\">Celebrate</button>\n            </div>\n          </div>\n        </motion.div>\n      )}</AnimatePresence>\n\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}