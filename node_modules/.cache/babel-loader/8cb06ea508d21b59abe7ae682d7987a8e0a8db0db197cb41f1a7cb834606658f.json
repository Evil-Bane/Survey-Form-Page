{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\App\\\\gamified-survey\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\n// src/App.js\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/*\n  Full App.js — scroll snapping updated to page jumps:\n   - wheel -> accumulator => jump page when threshold reached, small lock to avoid repeat triggers\n   - touch swipe -> threshold on touchend\n   - keyboard -> page jumps\n  Keep previous features: video fallback + upload, bricks gradient, confetti, loader.\n*/\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OPENING_VIDEO_SRC = \"/opening.mp4\";\nconst REMOTE_FALLBACK = \"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4\";\nconst THEME = {\n  purple: \"#7c3aed\",\n  cyan: \"#06b6d4\",\n  magenta: \"#ff4791\",\n  bg: \"#04050a\",\n  panel: \"rgba(6,8,22,0.78)\",\n  text: \"#e6eef8\",\n  muted: \"#9aa6b2\"\n};\nconst QUESTIONS = [{\n  id: \"intro\",\n  type: \"stage\",\n  title: \"Nightfall at HackPlay\",\n  subtitle: \"Step into a neon-lit hall. Your choices tune the journey.\"\n}, {\n  id: \"q1\",\n  type: \"mcq\",\n  title: \"Entrance — choose your mindset\",\n  choices: [\"Build something cool\", \"Learn fast\", \"Meet people\", \"Chase the prizes\"],\n  points: {\n    \"Build something cool\": 20,\n    \"Learn fast\": 10,\n    \"Meet people\": 15,\n    \"Chase the prizes\": 5\n  },\n  flavor: \"The doors close. A low bass. Pick the vibe that follows you.\"\n}, {\n  id: \"q2\",\n  type: \"rating\",\n  title: \"Charge Meter — how hyped are you?\",\n  scale: 5,\n  pointsPerStar: 6,\n  flavor: \"The stage lights react to your energy.\"\n}, {\n  id: \"q3\",\n  type: \"text\",\n  title: \"One-line pitch — what's the idea?\",\n  maxLength: 140,\n  points: 15,\n  flavor: \"A single line — the fragment your team will build around.\"\n}, {\n  id: \"q4\",\n  type: \"minigame\",\n  title: \"Charge the core — tap to power your idea\",\n  timeLimit: 6000,\n  pointsOnSuccess: 30,\n  flavor: \"Fast reflexes prove prototype-ready energy.\"\n}, {\n  id: \"q5\",\n  type: \"mcq\",\n  title: \"Team vibe — pick your tribe\",\n  choices: [\"Chill coders\", \"All-nighters\", \"Balanced squad\", \"Solo hero\"],\n  points: {\n    \"Chill coders\": 10,\n    \"All-nighters\": 20,\n    \"Balanced squad\": 15,\n    \"Solo hero\": 5\n  },\n  flavor: \"Who will you ride the night with?\",\n  dependsOn: {\n    q1: \"Build something cool\"\n  }\n}, {\n  id: \"end\",\n  type: \"stage\",\n  title: \"Curtain Call\",\n  subtitle: \"Collect badges, revisit your pitch, and step back into the light.\"\n}];\nfunction lerp(a, b, n) {\n  return (1 - n) * a + n * b;\n}\nfunction hexToRgb(hex) {\n  const h = hex.replace(\"#\", \"\");\n  return [parseInt(h.substring(0, 2), 16), parseInt(h.substring(2, 4), 16), parseInt(h.substring(4, 6), 16)];\n}\n\n/* ---------- confetti (same as before) ---------- */\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  const ctx = canvas.getContext(\"2d\");\n  const W = canvas.width = window.innerWidth;\n  const H = canvas.height = window.innerHeight;\n  const palette = [THEME.purple, THEME.cyan, THEME.magenta, \"#ffd93d\", \"#6BCB77\"];\n  const pieces = [];\n  for (let i = 0; i < 100; i++) {\n    pieces.push({\n      x: W / 2 + (Math.random() - 0.5) * 120,\n      y: H / 3 + (Math.random() - 0.5) * 60,\n      vx: (Math.random() - 0.5) * 14,\n      vy: (Math.random() - 1.5) * 10,\n      r: Math.random() * 6 + 3,\n      color: palette[Math.floor(Math.random() * palette.length)],\n      rot: Math.random() * Math.PI * 2,\n      vr: (Math.random() - 0.5) * 0.2,\n      life: 160 + Math.random() * 120\n    });\n  }\n  function frame() {\n    ctx.clearRect(0, 0, W, H);\n    let alive = false;\n    for (let p of pieces) {\n      if (p.life > 0) {\n        alive = true;\n        p.vy += 0.2;\n        p.x += p.vx;\n        p.y += p.vy;\n        p.rot += p.vr;\n        ctx.save();\n        ctx.translate(p.x, p.y);\n        ctx.rotate(p.rot);\n        ctx.fillStyle = p.color;\n        ctx.fillRect(-p.r / 2, -p.r / 2, p.r, p.r * 0.6);\n        ctx.restore();\n        p.life -= 1;\n      }\n    }\n    if (alive) requestAnimationFrame(frame);else ctx.clearRect(0, 0, W, H);\n  }\n  frame();\n}\n\n/* ---------- VideoBackground component ---------- */\nfunction VideoBackground({\n  src,\n  videoRef,\n  onReady,\n  onError,\n  keyOverride\n}) {\n  _s();\n  const ref = videoRef || /*#__PURE__*/React.createRef();\n  useEffect(() => {\n    const v = ref.current;\n    if (!v) return;\n    v.muted = true;\n    v.playsInline = true;\n    v.preload = \"auto\";\n    const p = v.play && v.play();\n    if (p && p.catch) p.catch(() => {});\n    let fired = false;\n    const markReady = () => {\n      if (fired) return;\n      fired = true;\n      onReady && onReady();\n    };\n    const markError = e => {\n      if (fired) return;\n      fired = true;\n      onError && onError(e);\n    };\n    const onCanPlay = () => markReady();\n    const onErr = e => {\n      console.warn(\"video element error\", e);\n      markError(e);\n    };\n    v.addEventListener(\"canplaythrough\", onCanPlay);\n    v.addEventListener(\"canplay\", onCanPlay);\n    v.addEventListener(\"loadeddata\", onCanPlay);\n    v.addEventListener(\"loadedmetadata\", onCanPlay);\n    v.addEventListener(\"error\", onErr);\n    v.addEventListener(\"click\", onCanPlay);\n    const safety = setTimeout(() => {\n      if (!fired) markError(new Error(\"video-timeout\"));\n    }, 4500);\n    return () => {\n      v.removeEventListener(\"canplaythrough\", onCanPlay);\n      v.removeEventListener(\"canplay\", onCanPlay);\n      v.removeEventListener(\"loadeddata\", onCanPlay);\n      v.removeEventListener(\"loadedmetadata\", onCanPlay);\n      v.removeEventListener(\"error\", onErr);\n      v.removeEventListener(\"click\", onCanPlay);\n      clearTimeout(safety);\n    };\n  }, [src, onReady, onError, keyOverride, videoRef, ref]);\n  return /*#__PURE__*/_jsxDEV(\"video\", {\n    ref: videoRef,\n    src: src,\n    muted: true,\n    loop: true,\n    playsInline: true,\n    autoPlay: true,\n    preload: \"auto\",\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      zIndex: -50,\n      pointerEvents: \"auto\"\n    }\n  }, keyOverride, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n\n/* ---------- Animated gradient fallback ---------- */\n_s(VideoBackground, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = VideoBackground;\nfunction AnimatedGradientFallback() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"animated-gradient fixed inset-0 -z-60\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"fixed inset-0 w-full h-full -z-55 pointer-events-none\",\n      style: {\n        opacity: 0.05\n      },\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: [/*#__PURE__*/_jsxDEV(\"filter\", {\n        id: \"noise\",\n        children: /*#__PURE__*/_jsxDEV(\"feTurbulence\", {\n          baseFrequency: \"0.9\",\n          numOctaves: \"2\",\n          stitchTiles: \"stitch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 28\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        width: \"100%\",\n        height: \"100%\",\n        filter: \"url(#noise)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .animated-gradient {\n          background: linear-gradient(120deg, ${THEME.purple}, ${THEME.cyan}, ${THEME.magenta});\n          background-size: 200% 200%;\n          animation: gradientShift 12s ease infinite;\n        }\n        @keyframes gradientShift {\n          0% { background-position: 0% 50% }\n          50% { background-position: 100% 50% }\n          100% { background-position: 0% 50% }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n/* ---------- Loader, Cursor, MiniGame (same as previous) ---------- */\n_c2 = AnimatedGradientFallback;\nfunction LoadingOverlay({\n  progress\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-80 flex items-center justify-center pointer-events-none\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"min(880px,92%)\",\n        padding: 18,\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.text,\n          fontWeight: 700,\n          marginBottom: 10\n        },\n        children: \"Preparing the experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          height: 14,\n          width: \"100%\",\n          borderRadius: 12,\n          overflow: \"hidden\",\n          background: \"rgba(255,255,255,0.02)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader-fill\",\n          style: {\n            width: `${progress}%`,\n            height: \"100%\",\n            transition: \"width 300ms cubic-bezier(.2,.9,.2,1)\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader-shimmer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10,\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          color: THEME.muted,\n          fontSize: 13\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [Math.round(progress), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading assets\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .loader-fill { background: linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan}); box-shadow: inset 0 -6px 18px rgba(0,0,0,0.25), 0 12px 36px rgba(124,58,237,0.08); height:100%; border-radius:12px; }\n        .loader-shimmer { position:absolute; left:0; top:0; bottom:0; width:40%; transform:translateX(-100%); background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0), rgba(255,255,255,0.06)); mix-blend-mode: overlay; animation: shimmer 1.6s linear infinite; border-radius:12px; }\n        @keyframes shimmer { 0% { transform: translateX(-100%) } 50% { transform: translateX(30%) } 100% { transform: translateX(120%) } }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n}\n_c3 = LoadingOverlay;\nfunction CustomCursor() {\n  _s2();\n  const dotRef = useRef(null),\n    ringRef = useRef(null);\n  const pos = useRef({\n    x: typeof window !== \"undefined\" ? window.innerWidth / 2 : 0,\n    y: typeof window !== \"undefined\" ? window.innerHeight / 2 : 0\n  });\n  const hover = useRef(false),\n    raf = useRef(null);\n  useEffect(() => {\n    const dot = dotRef.current,\n      ring = ringRef.current;\n    if (!dot || !ring) return;\n    function mm(e) {\n      pos.current.x = e.clientX;\n      pos.current.y = e.clientY;\n    }\n    function hoverChange(e) {\n      const t = e.target;\n      hover.current = !!(t.closest && t.closest('button, a, [role=\"button\"], input, textarea'));\n    }\n    window.addEventListener(\"mousemove\", mm);\n    window.addEventListener(\"mouseover\", hoverChange);\n    let cx = pos.current.x,\n      cy = pos.current.y,\n      scale = 1;\n    function loop() {\n      cx = lerp(cx, pos.current.x, 0.18);\n      cy = lerp(cy, pos.current.y, 0.18);\n      dot.style.transform = `translate3d(${cx - 6}px, ${cy - 6}px, 0)`;\n      const rx = lerp(parseFloat(ring.dataset.x || cx), cx, 0.08);\n      const ry = lerp(parseFloat(ring.dataset.y || cy), cy, 0.08);\n      ring.dataset.x = rx;\n      ring.dataset.y = ry;\n      scale = lerp(scale, hover.current ? 1.9 : 1, 0.12);\n      ring.style.transform = `translate3d(${rx - 18}px, ${ry - 18}px, 0) scale(${scale})`;\n      raf.current = requestAnimationFrame(loop);\n    }\n    raf.current = requestAnimationFrame(loop);\n    return () => {\n      window.removeEventListener(\"mousemove\", mm);\n      window.removeEventListener(\"mouseover\", hoverChange);\n      cancelAnimationFrame(raf.current);\n    };\n  }, []);\n  useEffect(() => {\n    document.documentElement.classList.add(\"custom-cursor-hide\");\n    return () => document.documentElement.classList.remove(\"custom-cursor-hide\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ringRef,\n      style: {\n        position: \"fixed\",\n        left: 0,\n        top: 0,\n        width: 36,\n        height: 36,\n        borderRadius: 9999,\n        border: \"1.5px solid rgba(255,255,255,0.06)\",\n        pointerEvents: \"none\",\n        zIndex: 100000\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dotRef,\n      style: {\n        position: \"fixed\",\n        left: 0,\n        top: 0,\n        width: 12,\n        height: 12,\n        borderRadius: 9999,\n        background: \"radial-gradient(circle at 30% 30%, #fff, #ddd)\",\n        pointerEvents: \"none\",\n        zIndex: 100001\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s2(CustomCursor, \"SEJTqvNR1lvsq6C9E6lBv93RhsI=\");\n_c4 = CustomCursor;\nfunction MiniGame({\n  timeLimit = 6000,\n  onComplete,\n  flavor\n}) {\n  _s3();\n  const [charge, setCharge] = useState(0);\n  const startedAt = useRef(0),\n    running = useRef(false),\n    raf = useRef(null),\n    manual = useRef(0);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  function start() {\n    if (running.current) return;\n    running.current = true;\n    manual.current = 0;\n    startedAt.current = performance.now();\n    tick();\n  }\n  function tick() {\n    raf.current = requestAnimationFrame(() => {\n      const elapsed = performance.now() - startedAt.current;\n      const base = Math.min(100, Math.round(elapsed / timeLimit * 100));\n      const total = Math.min(100, base + manual.current);\n      setCharge(total);\n      if (total >= 100) {\n        running.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(true);\n        return;\n      }\n      if (elapsed >= timeLimit) {\n        running.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(total >= 60);\n        return;\n      }\n      tick();\n    });\n  }\n  function handleTap() {\n    if (!running.current) start();else {\n      manual.current = Math.min(100, manual.current + 12);\n      setCharge(c => Math.min(100, c + 12));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: THEME.muted\n      },\n      children: flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      onClick: handleTap,\n      whileTap: {\n        scale: 0.92\n      },\n      whileHover: {\n        scale: 1.03\n      },\n      style: {\n        width: 140,\n        height: 140,\n        borderRadius: 999,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        background: `linear-gradient(135deg, ${THEME.purple}, ${THEME.magenta})`,\n        boxShadow: \"0 14px 40px rgba(124,58,237,0.12)\",\n        cursor: \"pointer\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#fff\",\n          fontWeight: 800\n        },\n        children: \"TAP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"min(540px,100%)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.muted,\n          marginBottom: 6\n        },\n        children: [\"Charge: \", charge, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 12,\n          width: \"100%\",\n          borderRadius: 8,\n          background: \"rgba(255,255,255,0.02)\",\n          overflow: \"hidden\"\n        },\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          animate: {\n            width: `${charge}%`\n          },\n          transition: {\n            type: \"spring\",\n            stiffness: 140,\n            damping: 16\n          },\n          style: {\n            height: \"100%\",\n            background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n}\n\n/* ------------------ Main app ------------------ */\n_s3(MiniGame, \"GNGdbvpaZ2Q4EpeJyRJsPWjq4Vs=\");\n_c5 = MiniGame;\nexport default function GamifiedSurveyForm() {\n  _s4();\n  const [answers, setAnswers] = useState(() => {\n    try {\n      const r = localStorage.getItem(\"gamifiedSurveyAnswers\");\n      return r ? JSON.parse(r) : {};\n    } catch {\n      return {};\n    }\n  });\n  const [score, setScore] = useState(() => Number(localStorage.getItem(\"gamifiedSurveyScore\")) || 0);\n  const [openingDone, setOpeningDone] = useState(false);\n  const [loadProgress, setLoadProgress] = useState(0);\n  const [videoPhase, setVideoPhase] = useState(\"local\"); // local/remote/failed/ready\n  const [videoKey, setVideoKey] = useState(0);\n  const [showVideoNotice, setShowVideoNotice] = useState(false);\n  const [videoSrc, setVideoSrc] = useState(OPENING_VIDEO_SRC);\n  const [showResponses, setShowResponses] = useState(false);\n  const [showFinish, setShowFinish] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const bgCanvasRef = useRef(null);\n  useEffect(() => localStorage.setItem(\"gamifiedSurveyAnswers\", JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem(\"gamifiedSurveyScore\", String(score)), [score]);\n  const visible = QUESTIONS.filter(q => {\n    if (!q.dependsOn) return true;\n    return Object.keys(q.dependsOn).every(k => answers[k] === q.dependsOn[k]);\n  });\n\n  // layout\n  const [height, setHeight] = useState(typeof window !== \"undefined\" ? window.innerHeight : 800);\n  useEffect(() => {\n    function onResize() {\n      setHeight(window.innerHeight);\n    }\n    window.addEventListener(\"resize\", onResize);\n    return () => window.removeEventListener(\"resize\", onResize);\n  }, []);\n  useEffect(() => {\n    const prevOverflow = document.documentElement.style.overflow;\n    const prevTouch = document.body.style.touchAction;\n    document.documentElement.style.overflow = \"hidden\";\n    document.body.style.touchAction = \"none\";\n    return () => {\n      document.documentElement.style.overflow = prevOverflow;\n      document.body.style.touchAction = prevTouch;\n    };\n  }, []);\n\n  // container refs\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addChapterRef = el => {\n    if (el) chapterRefs.current.push(el);\n  };\n\n  // cinematic motion / transform\n  const targetY = useRef(0),\n    currentY = useRef(0),\n    rafRef = useRef(null);\n  const lastWheelAt = useRef(0),\n    isScrolling = useRef(false);\n  const SNAP_DELAY = 70,\n    LERP_FAST = 0.42,\n    LERP_SNAP = 0.62;\n  const cursor = useRef({\n    x: typeof window !== \"undefined\" ? window.innerWidth / 2 : 0,\n    y: typeof window !== \"undefined\" ? window.innerHeight / 2 : 0,\n    active: false\n  });\n  const lastCursorUpdate = useRef(0);\n  const bgRAF = useRef(null);\n  const activeIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  // pageIndex for snapping\n  const [pageIndex, setPageIndex] = useState(0);\n  const pageIndexRef = useRef(0);\n\n  // wheel accumulator / lock for page jumps\n  const wheelAccum = useRef(0);\n  const wheelLock = useRef(false);\n\n  // simulated loading\n  useEffect(() => {\n    let raf = null;\n    let sim = 0;\n    function tick() {\n      sim = Math.min(92, sim + (100 - sim) * 0.05 + 0.6);\n      setLoadProgress(prev => Math.max(prev, sim));\n      raf = requestAnimationFrame(tick);\n    }\n    raf = requestAnimationFrame(tick);\n    return () => cancelAnimationFrame(raf);\n  }, []);\n\n  // video checking (HEAD attempt -> fallback behavior)\n  useEffect(() => {\n    if (videoSrc && videoSrc.startsWith(\"blob:\")) {\n      setVideoPhase(\"local\");\n      setShowVideoNotice(false);\n      return;\n    }\n    let didCancel = false;\n    async function checkLocal() {\n      try {\n        const res = await fetch(videoSrc, {\n          method: \"HEAD\"\n        });\n        if (!didCancel && res && res.ok) {\n          console.log(\"Local video HEAD OK\");\n          setVideoPhase(\"local\");\n          setShowVideoNotice(false);\n          return;\n        }\n        console.warn(\"Local HEAD failed or not OK; attempting to mount video element\");\n        setVideoPhase(\"local\");\n        setShowVideoNotice(true);\n      } catch (err) {\n        console.warn(\"Local HEAD error (likely CORS or missing file)\", err);\n        setVideoPhase(\"remote\");\n        setVideoKey(k => k + 1);\n        setShowVideoNotice(true);\n        setVideoSrc(REMOTE_FALLBACK);\n      }\n    }\n    checkLocal();\n    return () => {\n      didCancel = true;\n    };\n  }, [videoKey, videoSrc]);\n  function handleVideoReady() {\n    setLoadProgress(100);\n    setTimeout(() => {\n      setOpeningDone(true);\n      setVideoPhase(\"ready\");\n      setShowVideoNotice(false);\n    }, 240);\n  }\n  function handleVideoError(err) {\n    console.warn(\"video reported error:\", err);\n    if (videoPhase === \"local\") {\n      setVideoPhase(\"remote\");\n      setVideoKey(k => k + 1);\n      setShowVideoNotice(true);\n      setVideoSrc(REMOTE_FALLBACK);\n      return;\n    }\n    if (videoPhase === \"remote\") {\n      setVideoPhase(\"failed\");\n      setShowVideoNotice(true);\n      setLoadProgress(100);\n      setTimeout(() => setOpeningDone(true), 300);\n      return;\n    }\n  }\n  function handleVideoUpload(e) {\n    const f = e.target.files && e.target.files[0];\n    if (!f) return;\n    const url = URL.createObjectURL(f);\n    setVideoSrc(url);\n    setVideoPhase(\"local\");\n    setVideoKey(k => k + 1);\n    setOpeningDone(false);\n    setLoadProgress(0);\n    setShowVideoNotice(false);\n    console.log(\"Using uploaded video:\", f.name);\n  }\n  function retryVideos() {\n    setVideoPhase(\"local\");\n    setVideoSrc(OPENING_VIDEO_SRC);\n    setVideoKey(k => k + 1);\n    setShowVideoNotice(false);\n    setOpeningDone(false);\n    setLoadProgress(0);\n  }\n\n  // pointer and keyboard input + improved wheel -> page-jump logic\n  useEffect(() => {\n    const isTouching = {\n      v: false\n    };\n    const touchStartY = {\n      v: 0\n    };\n    const touchStartTime = {\n      v: 0\n    };\n    function clampPageIndex(i) {\n      return Math.max(0, Math.min(i, visible.length - 1));\n    }\n    function setPage(i) {\n      const clamped = clampPageIndex(i);\n      pageIndexRef.current = clamped;\n      setPageIndex(clamped);\n      targetY.current = clamped * height;\n      lastWheelAt.current = performance.now();\n      isScrolling.current = true;\n    }\n\n    // Wheel behaviour: accumulate small deltas, trigger jump when accumulator exceeds threshold.\n    function onWheel(e) {\n      e.preventDefault();\n      // avoid reacting while wheelLock is active\n      if (wheelLock.current) return;\n      wheelAccum.current += e.deltaY;\n      // threshold tuned to work with mouse wheel & trackpad\n      const THRESH = 80;\n      if (Math.abs(wheelAccum.current) >= THRESH) {\n        const dir = wheelAccum.current > 0 ? 1 : -1;\n        setPage(pageIndexRef.current + dir);\n        wheelAccum.current = 0;\n        wheelLock.current = true;\n        // short lock to avoid double triggers on momentum (300ms)\n        setTimeout(() => {\n          wheelLock.current = false;\n        }, 300);\n      }\n      lastWheelAt.current = performance.now();\n    }\n\n    // Touch: capture start Y and on end compute delta and fling detection\n    function onTouchStart(e) {\n      touchStartY.v = e.touches[0].clientY;\n      touchStartTime.v = performance.now();\n      isTouching.v = true;\n    }\n    function onTouchMove(e) {\n      if (!isTouching.v) return;\n      const y = e.touches[0].clientY;\n      const delta = touchStartY.v - y;\n      touchStartY.v = y; /* allow small drag but don't update page until end */\n    }\n    function onTouchEnd(e) {\n      if (!isTouching.v) return;\n      const endTime = performance.now();\n      isTouching.v = false;\n      const touch = e.changedTouches && e.changedTouches[0] || null;\n      if (!touch) return;\n      // we need the starting Y — we saved it only at start; compute delta from center if possible\n      // Simpler: use changedTouches[0].clientY minus previous page center: get last stored start from 150ms earlier\n      // We'll use a simple heuristic: swipe distance = start - end (we stored last move in touchStartY.v)\n      // For reliability, we compute using screenY difference from page center\n      const deltaY = (touchStartY.v || 0) - touch.clientY;\n      const elapsed = endTime - touchStartTime.v;\n      const SWIPE_THRESHOLD = 40; // px\n      if (Math.abs(deltaY) > SWIPE_THRESHOLD) {\n        const dir = deltaY > 0 ? 1 : -1;\n        setPage(pageIndexRef.current + dir);\n      }\n    }\n    function onKey(e) {\n      if ([\"ArrowDown\", \"PageDown\", \" \"].includes(e.key)) {\n        e.preventDefault();\n        setPage(pageIndexRef.current + 1);\n      } else if ([\"ArrowUp\", \"PageUp\"].includes(e.key)) {\n        e.preventDefault();\n        setPage(pageIndexRef.current - 1);\n      }\n    }\n    const el = containerRef.current || window;\n    el.addEventListener(\"wheel\", onWheel, {\n      passive: false\n    });\n    window.addEventListener(\"touchstart\", onTouchStart, {\n      passive: false\n    });\n    window.addEventListener(\"touchmove\", onTouchMove, {\n      passive: false\n    });\n    window.addEventListener(\"touchend\", onTouchEnd);\n    window.addEventListener(\"keydown\", onKey);\n    function onPointer(e) {\n      const now = performance.now();\n      if (now - lastCursorUpdate.current > 12) {\n        cursor.current.x = e.clientX;\n        cursor.current.y = e.clientY;\n        cursor.current.active = true;\n        lastCursorUpdate.current = now;\n      }\n    }\n    function onPointerLeave() {\n      cursor.current.active = false;\n    }\n    function onPointerDown(e) {\n      const px = e.clientX;\n      const py = e.clientY;\n      cursor.current.x = px;\n      cursor.current.y = py;\n      if (bgCanvasRef.current && bgCanvasRef.current._triggerPop) bgCanvasRef.current._triggerPop(px, py);\n    }\n    window.addEventListener(\"pointermove\", onPointer);\n    window.addEventListener(\"pointerout\", onPointerLeave);\n    window.addEventListener(\"pointerdown\", onPointerDown);\n    return () => {\n      el.removeEventListener(\"wheel\", onWheel);\n      window.removeEventListener(\"touchstart\", onTouchStart);\n      window.removeEventListener(\"touchmove\", onTouchMove);\n      window.removeEventListener(\"touchend\", onTouchEnd);\n      window.removeEventListener(\"keydown\", onKey);\n      window.removeEventListener(\"pointermove\", onPointer);\n      window.removeEventListener(\"pointerout\", onPointerLeave);\n      window.removeEventListener(\"pointerdown\", onPointerDown);\n    };\n  }, [height, visible.length]);\n\n  /* ---------- bricks canvas (same neon gradient logic) ---------- */\n  useEffect(() => {\n    const canvas = bgCanvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    let W = canvas.width = window.innerWidth;\n    let H = canvas.height = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.5);\n    canvas.width = W * DPR;\n    canvas.height = H * DPR;\n    canvas.style.width = W + \"px\";\n    canvas.style.height = H + \"px\";\n    ctx.scale(DPR, DPR);\n    let BRICK_W = window.innerWidth < 640 ? 120 : 96;\n    let BRICK_H = window.innerWidth < 640 ? 56 : 44;\n    let cols = Math.ceil(W / BRICK_W),\n      rows = Math.ceil(H / BRICK_H);\n    const MAX = 900;\n    if (cols * rows > MAX) {\n      const scaleUp = Math.sqrt(cols * rows / MAX);\n      BRICK_W = Math.ceil(BRICK_W * scaleUp);\n      BRICK_H = Math.ceil(BRICK_H * scaleUp);\n      cols = Math.ceil(W / BRICK_W);\n      rows = Math.ceil(H / BRICK_H);\n    }\n    const bricks = [];\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const x = c * BRICK_W + (r % 2 ? BRICK_W / 2 : 0),\n          y = r * BRICK_H;\n        const cx = x + BRICK_W / 2,\n          cy = y + BRICK_H / 2;\n        bricks.push({\n          x,\n          y,\n          w: BRICK_W,\n          h: BRICK_H,\n          baseX: x,\n          baseY: y,\n          cx,\n          cy,\n          pop: 0,\n          vy: 0,\n          phase: Math.random() * Math.PI * 2,\n          falling: false,\n          fallY: 0,\n          fallVy: 0,\n          opacity: 1,\n          gone: false,\n          r,\n          c\n        });\n      }\n    }\n    canvas._triggerPop = function (px, py) {\n      let nearest = null;\n      let best = Infinity;\n      for (let b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        if (d < best) {\n          best = d;\n          nearest = b;\n        }\n      }\n      if (nearest && !nearest.falling && best < Math.max(120, Math.min(window.innerWidth, window.innerHeight) * 0.06)) {\n        nearest.falling = true;\n        nearest.fallVy = Math.random() * 4 + 2;\n        nearest.fallY = 0;\n      }\n      const R = 120;\n      for (let b of bricks) {\n        if (b.falling || b.gone) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        if (d < R) {\n          const norm = 1 - d / R;\n          b.pop = Math.max(b.pop, 0.3 * norm);\n          b.vy += 4 * norm + Math.random() * 2;\n        }\n      }\n    };\n    const palA = hexToRgb(THEME.purple);\n    const palB = hexToRgb(THEME.cyan);\n    const palC = hexToRgb(THEME.magenta);\n    let last = performance.now();\n    function draw(now) {\n      let dt = Math.min(40, now - last) * 0.001;\n      if (dt <= 0) {\n        bgRAF.current = requestAnimationFrame(draw);\n        return;\n      }\n      last = now;\n      ctx.clearRect(0, 0, W, H);\n      ctx.fillStyle = openingDone ? \"rgba(2,4,10,0.46)\" : \"rgba(2,4,10,0.08)\";\n      ctx.fillRect(0, 0, W, H);\n      const maxD = Math.max(W, H) * 0.65;\n      const time = now * 0.001;\n      const skipShadows = bricks.length > 700;\n      const panelCenterX = W / 2;\n      const activeIdx = activeIndexRef.current || 0;\n      const panelCenterY = activeIdx * height - currentY.current + height / 2;\n      const panelW = Math.min(1120, W * 0.86);\n      const panelH = Math.min(760, height * 0.78);\n      for (let b of bricks) {\n        if (b.gone) continue;\n        if (b.falling) {\n          b.fallVy += 900 * dt;\n          b.fallY += b.fallVy * dt;\n          b.opacity = Math.max(0, 1 - b.fallY / (H * 1.4));\n          if (b.fallY > H + 120) {\n            b.gone = true;\n            continue;\n          }\n        }\n        const dx = b.cx - cursor.current.x;\n        const dy = b.cy - cursor.current.y;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        let t = Math.max(0, 1 - d / maxD);\n        t = Math.pow(t, 0.9);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 18);\n        const wobble = b.falling ? 0 : Math.sin(b.phase + time * 1.2) * 3 * t;\n        if (!b.falling) {\n          b.vy -= 30 * dt;\n          b.vy *= 0.92 - Math.min(0.18, t * 0.12);\n          b.pop = Math.max(0, b.pop - 0.012);\n        }\n        const yOffset = b.falling ? b.fallY : -lift + b.vy * dt * 60;\n        const posFactor = b.r % 7 / 7 * 0.2 + b.c % 5 / 5 * 0.12;\n        const anim = 0.45 + 0.55 * Math.sin(b.phase * 1.2 + time * (0.45 + posFactor));\n        const mixFactor = Math.min(1, Math.max(0, t * 0.9 + anim * 0.25 + posFactor * 0.12));\n        function mix(a, bVal, n) {\n          return Math.round((1 - n) * a + n * bVal);\n        }\n        const rAB = mix(palA[0], palB[0], mixFactor);\n        const gAB = mix(palA[1], palB[1], mixFactor);\n        const bAB = mix(palA[2], palB[2], mixFactor);\n        const accent = 0.14 * (0.5 + 0.5 * Math.sin(time * 1.8 + b.phase + posFactor));\n        let baseR = Math.min(255, Math.round(rAB * (1 - accent) + palC[0] * accent));\n        let baseG = Math.min(255, Math.round(gAB * (1 - accent) + palC[1] * accent));\n        let baseB = Math.min(255, Math.round(bAB * (1 - accent) + palC[2] * accent));\n        const depthMul = 0.9 + 0.22 * (1 - b.cy / H);\n        baseR = Math.round(baseR * depthMul);\n        baseG = Math.round(baseG * depthMul);\n        baseB = Math.round(baseB * depthMul);\n        const dxPanel = Math.abs(b.cx - panelCenterX);\n        const dyPanel = Math.abs(b.cy - panelCenterY);\n        let panelDarkness = 0;\n        if (dxPanel < panelW / 2 && dyPanel < panelH / 2) {\n          const nx = 1 - dxPanel / (panelW / 2);\n          const ny = 1 - dyPanel / (panelH / 2);\n          panelDarkness = Math.pow(Math.max(0, Math.min(1, nx * ny)), 1.6) * 0.72;\n        }\n        const finalR = Math.max(8, Math.round(baseR * (1 - panelDarkness)));\n        const finalG = Math.max(8, Math.round(baseG * (1 - panelDarkness)));\n        const finalB = Math.max(8, Math.round(baseB * (1 - panelDarkness)));\n        const finalAlpha = Math.max(0.5, b.opacity - panelDarkness * 0.26);\n        const gx = b.baseX + 6,\n          gy = b.baseY + 6;\n        const grad = ctx.createLinearGradient(gx, gy, gx + b.w - 12, gy + b.h - 12);\n        const colorStart = `rgba(${Math.max(0, finalR - 18)}, ${Math.max(0, finalG - 18)}, ${Math.max(0, finalB - 18)}, ${finalAlpha})`;\n        const colorEnd = `rgba(${finalR}, ${finalG}, ${finalB}, ${finalAlpha})`;\n        grad.addColorStop(0, colorStart);\n        grad.addColorStop(1, colorEnd);\n        ctx.save();\n        ctx.globalAlpha = finalAlpha;\n        ctx.fillStyle = grad;\n        if (lift > 2 && !b.falling && !skipShadows) {\n          ctx.shadowBlur = Math.min(28, lift * 1.6);\n          ctx.shadowColor = `rgba(40,60,160,${Math.min(0.22, 0.06 * t + 0.06 * b.pop)})`;\n        } else ctx.shadowBlur = 0;\n        const px = b.baseX + wobble * 0.6;\n        const py = b.baseY + yOffset;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n        if ((t > 0.08 || b.pop > 0.02) && !b.falling && panelDarkness < 0.6) {\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = `rgba(255,255,255,${0.03 * t + 0.04 * b.pop})`;\n          ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(3, Math.min(8, 4 * t + 6 * b.pop)));\n        }\n        ctx.restore();\n      }\n      bgRAF.current = requestAnimationFrame(draw);\n    }\n    function roundRect(ctx, x, y, w, h, r) {\n      const minr = Math.min(r, w / 2, h / 2);\n      ctx.beginPath();\n      ctx.moveTo(x + minr, y);\n      ctx.arcTo(x + w, y, x + w, y + h, minr);\n      ctx.arcTo(x + w, y + h, x, y + h, minr);\n      ctx.arcTo(x, y + h, x, y, minr);\n      ctx.arcTo(x, y, x + w, y, minr);\n      ctx.closePath();\n    }\n    function onResize() {\n      W = canvas.width = window.innerWidth;\n      H = canvas.height = window.innerHeight;\n      canvas.width = W * DPR;\n      canvas.height = H * DPR;\n      canvas.style.width = W + \"px\";\n      canvas.style.height = H + \"px\";\n      ctx.scale(DPR, DPR);\n    }\n    window.addEventListener(\"resize\", onResize);\n    bgRAF.current = requestAnimationFrame(draw);\n    return () => {\n      window.removeEventListener(\"resize\", onResize);\n      cancelAnimationFrame(bgRAF.current);\n    };\n  }, [openingDone, height]);\n\n  // UI transform loop\n  useEffect(() => {\n    function frame() {\n      currentY.current = lerp(currentY.current, targetY.current, performance.now() - lastWheelAt.current > SNAP_DELAY ? LERP_SNAP : LERP_FAST);\n      const el = containerRef.current;\n      if (el) el.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n      chapterRefs.current.forEach((node, i) => {\n        if (!node) return;\n        const center = i * height;\n        const offset = (currentY.current - center) / height;\n        const abs = Math.abs(offset);\n        const translateY = offset * 34;\n        const rotate = offset * 3.6;\n        const scale = 1 - Math.min(0.08, abs * 0.08);\n        const opacity = 1 - Math.min(0.9, abs * 0.9);\n        node.style.transform = `translate3d(0px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`;\n        node.style.opacity = String(opacity);\n      });\n      const idx = Math.round(currentY.current / height);\n      if (activeIndexRef.current !== idx) {\n        activeIndexRef.current = idx;\n        setActiveIndex(idx);\n        pageIndexRef.current = idx;\n        setPageIndex(idx);\n      }\n      rafRef.current = requestAnimationFrame(frame);\n    }\n    rafRef.current = requestAnimationFrame(frame);\n    return () => cancelAnimationFrame(rafRef.current);\n  }, [height, visible.length]);\n  function scrollToIndex(i) {\n    const max = Math.max(0, (visible.length - 1) * height);\n    const dest = Math.max(0, Math.min(i * height, max));\n    targetY.current = dest;\n    lastWheelAt.current = performance.now();\n    isScrolling.current = true;\n    pageIndexRef.current = Math.round(dest / height);\n    setPageIndex(pageIndexRef.current);\n  }\n  const AUTO_ADVANCE_DELAY_MS = 240,\n    MINIGAME_ADVANCE_MS = 300;\n  function handleAnswer(qid, value) {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: value\n    }));\n    const questionDef = QUESTIONS.find(x => x.id === qid) || {};\n    let gained = 0;\n    if (questionDef.type === \"mcq\" && questionDef.points) gained = questionDef.points[value] || 0;else if (questionDef.type === \"rating\") gained = value * (questionDef.pointsPerStar || 1);else if (questionDef.type === \"text\") gained = questionDef.points || 0;\n    if (gained) {\n      setScore(s => s + gained);\n      pulseScore();\n    }\n    if (questionDef.type === \"mcq\" || questionDef.type === \"rating\") {\n      const next = Math.min(activeIndexRef.current + 1, visible.length - 1);\n      setTimeout(() => scrollToIndex(next), AUTO_ADVANCE_DELAY_MS);\n    }\n  }\n  function pulseScore() {\n    const el = document.getElementById(\"score-badge\");\n    if (!el) return;\n    el.animate([{\n      transform: 'translateY(0) scale(1)'\n    }, {\n      transform: 'translateY(-6px) scale(1.06)'\n    }, {\n      transform: 'translateY(0) scale(1)'\n    }], {\n      duration: 520,\n      easing: 'ease-out'\n    });\n  }\n  function onMiniGameComplete(success) {\n    if (success) {\n      setScore(s => s + 30);\n      pulseScore();\n    }\n    setAnswers(prev => ({\n      ...prev,\n      q4: success ? \"success\" : \"fail\"\n    }));\n    setTimeout(() => scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)), MINIGAME_ADVANCE_MS);\n  }\n  function finish() {\n    setShowFinish(true);\n    if (canvasRef.current) confettiBurst(canvasRef.current);\n  }\n  function resetAll() {\n    if (!window.confirm(\"Reset survey? This clears local progress.\")) return;\n    setAnswers({});\n    setScore(0);\n    setShowFinish(false);\n    targetY.current = 0;\n    currentY.current = 0;\n    pageIndexRef.current = 0;\n    setPageIndex(0);\n    if (containerRef.current) containerRef.current.style.transform = \"translate3d(0,0,0)\";\n  }\n  function ChapterContent({\n    item,\n    idx\n  }) {\n    if (item.type === \"stage\") {\n      const isFirst = idx === 0,\n        isLast = idx === Math.max(0, visible.length - 1);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          maxWidth: 720,\n          margin: \"0 auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(motion.h1, {\n          initial: {\n            y: 40,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 1\n          },\n          transition: {\n            duration: 0.8\n          },\n          style: {\n            fontSize: \"2.5rem\",\n            fontWeight: 800,\n            background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})`,\n            WebkitBackgroundClip: \"text\",\n            color: \"transparent\",\n            textShadow: \"0 10px 36px rgba(124,58,237,0.06)\"\n          },\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 11\n        }, this), item.subtitle && /*#__PURE__*/_jsxDEV(motion.p, {\n          initial: {\n            y: 20,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 0.95\n          },\n          transition: {\n            delay: 0.12\n          },\n          style: {\n            color: THEME.muted,\n            marginTop: 8\n          },\n          children: item.subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 18,\n            padding: 18,\n            borderRadius: 12,\n            background: THEME.panel,\n            border: \"1px solid rgba(255,255,255,0.03)\",\n            backdropFilter: \"blur(6px)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 12,\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"44\",\n              height: \"44\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 2l3 7h7l-5.5 4 2 7L12 17l-6.5 3 2-7L2 9h7l3-7z\",\n                stroke: THEME.purple,\n                strokeWidth: \"0.9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 75\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: THEME.text,\n                  fontWeight: 700\n                },\n                children: \"Experience\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: THEME.muted,\n                  fontSize: 13\n                },\n                children: \"A cinematic flow \\u2014 read the prompt, pick quickly, and earn points.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 16,\n              display: \"flex\",\n              gap: 12,\n              justifyContent: \"center\"\n            },\n            children: isLast ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => resetAll(),\n                className: \"btn btn-primary\",\n                children: \"Restart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowResponses(true),\n                className: \"btn btn-ghost\",\n                children: \"View responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => scrollToIndex(Math.min(idx + 1, visible.length - 1)),\n                className: \"btn btn-primary\",\n                children: \"Enter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 19\n              }, this), !isFirst && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => finish(),\n                className: \"btn btn-ghost\",\n                children: \"Skip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 719,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === \"mcq\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 980,\n          margin: \"0 auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginBottom: 12\n          },\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fit, minmax(240px, 1fr))\",\n            gap: 14\n          },\n          children: item.choices.map(c => /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.03\n            },\n            onClick: () => handleAnswer(item.id, c),\n            style: {\n              padding: 18,\n              borderRadius: 20,\n              border: answers[item.id] === c ? \"none\" : \"1px solid rgba(255,255,255,0.03)\",\n              background: answers[item.id] === c ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : \"rgba(255,255,255,0.02)\",\n              color: answers[item.id] === c ? \"black\" : THEME.text,\n              boxShadow: answers[item.id] === c ? \"0 12px 40px rgba(124,58,237,0.12)\" : \"none\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700,\n                fontSize: 18\n              },\n              children: c\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: THEME.muted,\n                marginTop: 6\n              },\n              children: item.points && item.points[c] ? `${item.points[c]} pts` : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 17\n            }, this)]\n          }, c, true, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === \"rating\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginBottom: 12\n          },\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 12,\n            justifyContent: \"center\"\n          },\n          children: Array.from({\n            length: item.scale\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(motion.button, {\n            onClick: () => handleAnswer(item.id, i + 1),\n            whileTap: {\n              scale: 0.96\n            },\n            style: {\n              width: 64,\n              height: 64,\n              borderRadius: 999,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              background: answers[item.id] === i + 1 ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : \"rgba(255,255,255,0.02)\",\n              color: answers[item.id] === i + 1 ? \"black\" : THEME.text,\n              border: \"1px solid rgba(255,255,255,0.03)\"\n            },\n            children: i + 1\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === \"text\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 980,\n          margin: \"0 auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginBottom: 12\n          },\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          maxLength: item.maxLength,\n          rows: 5,\n          value: answers[item.id] || \"\",\n          onChange: e => setAnswers(prev => ({\n            ...prev,\n            [item.id]: e.target.value\n          })),\n          placeholder: \"One-line pitch...\",\n          style: {\n            width: \"100%\",\n            padding: 16,\n            borderRadius: 12,\n            background: THEME.panel,\n            border: \"1px solid rgba(255,255,255,0.03)\",\n            color: THEME.text,\n            resize: \"vertical\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            marginTop: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: THEME.muted\n            },\n            children: [(answers[item.id] || \"\").length, \"/\", item.maxLength]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (item.points && (answers[item.id] || \"\").length > 0) {\n                  setScore(s => s + item.points);\n                  pulseScore();\n                }\n                scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1));\n              },\n              className: \"btn btn-primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setAnswers(prev => ({\n                ...prev,\n                [item.id]: \"\"\n              })),\n              className: \"btn btn-ghost\",\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 756,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === \"minigame\") return /*#__PURE__*/_jsxDEV(MiniGame, {\n      timeLimit: item.timeLimit,\n      onComplete: onMiniGameComplete,\n      flavor: item.flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 41\n    }, this);\n    return null;\n  }\n  useEffect(() => {\n    if (openingDone) setLoadProgress(100);\n  }, [openingDone]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: THEME.bg,\n      color: THEME.text\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        :root{\n          --purple: ${THEME.purple};\n          --cyan: ${THEME.cyan};\n          --magenta: ${THEME.magenta};\n          --text: ${THEME.text};\n          --muted: ${THEME.muted};\n        }\n        .btn { padding: 10px 14px; border-radius: 10px; font-weight:700; cursor:pointer; border: 1px solid rgba(255,255,255,0.03); }\n        .btn-primary { background: linear-gradient(90deg, var(--purple), var(--cyan)); color: black; box-shadow: 0 8px 32px rgba(124,58,237,0.08); }\n        .btn-ghost { background: rgba(255,255,255,0.02); color: var(--text); border: 1px solid rgba(255,255,255,0.03); }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomCursor, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 7\n    }, this), videoPhase !== \"failed\" && /*#__PURE__*/_jsxDEV(VideoBackground, {\n      keyOverride: videoKey + (videoSrc.startsWith(\"blob:\") ? \"-blob\" : videoPhase),\n      src: videoSrc,\n      videoRef: videoRef,\n      onReady: handleVideoReady,\n      onError: handleVideoError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 794,\n      columnNumber: 9\n    }, this), videoPhase === \"failed\" && /*#__PURE__*/_jsxDEV(AnimatedGradientFallback, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        left: 16,\n        top: 16,\n        zIndex: 120,\n        display: \"flex\",\n        gap: 10,\n        alignItems: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 8,\n          borderRadius: 10,\n          background: \"rgba(0,0,0,0.45)\",\n          border: \"1px solid rgba(255,255,255,0.03)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.text,\n            fontWeight: 700,\n            fontSize: 13\n          },\n          children: \"Background video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            fontSize: 12,\n            marginTop: 4\n          },\n          children: [videoPhase === \"local\" && \"Trying local video...\", videoPhase === \"remote\" && \"Local blocked / missing — trying remote\", videoPhase === \"failed\" && \"Video unavailable — using fallback\", videoPhase === \"ready\" && \"Video playing\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8,\n            display: \"flex\",\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"btn btn-ghost\",\n            style: {\n              padding: \"6px 8px\",\n              cursor: \"pointer\"\n            },\n            children: [\"Upload local video\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"video/*\",\n              onChange: handleVideoUpload,\n              style: {\n                display: \"none\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: retryVideos,\n            className: \"btn btn-primary\",\n            style: {\n              padding: \"6px 10px\"\n            },\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 799,\n      columnNumber: 7\n    }, this), showVideoNotice && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        left: 16,\n        bottom: 18,\n        zIndex: 120\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 10,\n          borderRadius: 10,\n          background: \"rgba(0,0,0,0.5)\",\n          border: \"1px solid rgba(255,255,255,0.03)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.text,\n            fontWeight: 700,\n            fontSize: 13\n          },\n          children: \"Video fallback active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            fontSize: 12,\n            marginTop: 6\n          },\n          children: \"If your local video doesn't load, upload an MP4 or ensure public/opening.mp4 exists and is H.264/AAC. Use a dev server (not file://).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 9\n    }, this), !openingDone && /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      progress: loadProgress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: bgCanvasRef,\n      className: \"fixed inset-0 z-0 pointer-events:none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 829,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"fixed inset-0 z-50 pointer-events:none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        right: 18,\n        top: 18,\n        zIndex: 100,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-end\",\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"score-badge\",\n        style: {\n          padding: \"10px 14px\",\n          borderRadius: 999,\n          background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})`,\n          color: \"#000\",\n          fontWeight: 800\n        },\n        children: [score, \" pts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 833,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.muted,\n          fontSize: 12\n        },\n        children: [\"Level \", Math.floor(score / 50) + 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      style: {\n        position: \"fixed\",\n        left: 18,\n        top: \"50%\",\n        transform: \"translateY(-50%)\",\n        zIndex: 100,\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 10\n      },\n      children: visible.map((_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          pageIndexRef.current = i;\n          setPageIndex(i);\n          scrollToIndex(i);\n        },\n        \"aria-label\": `Go to chapter ${i + 1}`,\n        style: {\n          width: 12,\n          height: 12,\n          borderRadius: 999,\n          background: i === activeIndex ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})` : \"rgba(255,255,255,0.03)\",\n          border: \"1px solid rgba(255,255,255,0.02)\"\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"fixed inset-0 top-0 left-0 w-full will-change-transform z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: `${visible.length * height}px`\n        },\n        children: visible.map((item, i) => /*#__PURE__*/_jsxDEV(\"section\", {\n          ref: addChapterRef,\n          style: {\n            height: `${height}px`\n          },\n          className: \"flex items-center justify-center px-6 md:px-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"100%\",\n              maxWidth: 1120,\n              margin: \"0 auto\",\n              display: \"grid\",\n              gridTemplateColumns: \"1fr 2fr\",\n              gap: 20,\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n              style: {\n                display: window.innerWidth >= 1024 ? \"flex\" : \"none\",\n                flexDirection: \"column\",\n                gap: 12,\n                alignItems: \"flex-start\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: THEME.muted,\n                  fontSize: 13\n                },\n                children: \"Chapter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  rotate: activeIndex === i ? 6 : 0\n                },\n                transition: {\n                  type: \"spring\"\n                },\n                style: {\n                  fontSize: 36,\n                  fontWeight: 900,\n                  color: THEME.text\n                },\n                children: String(i + 1).padStart(2, \"0\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: 6,\n                  height: \"100%\",\n                  background: `linear-gradient(180deg, ${THEME.purple}, ${THEME.magenta})`,\n                  opacity: 0.28,\n                  borderRadius: 4\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                borderRadius: 14,\n                padding: 28,\n                textAlign: \"center\",\n                background: THEME.panel,\n                border: \"1px solid rgba(255,255,255,0.03)\",\n                backdropFilter: \"blur(10px)\"\n              },\n              children: /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  y: 30\n                },\n                animate: {\n                  opacity: 1,\n                  y: 0\n                },\n                transition: {\n                  duration: 0.6\n                },\n                children: /*#__PURE__*/_jsxDEV(ChapterContent, {\n                  item: item,\n                  idx: i\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 15\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 843,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showFinish && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        style: {\n          position: \"fixed\",\n          inset: 0,\n          zIndex: 90,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"min(720px,92%)\",\n            padding: 28,\n            borderRadius: 18,\n            background: \"rgba(0,0,0,0.6)\",\n            border: \"1px solid rgba(255,255,255,0.04)\",\n            backdropFilter: \"blur(8px)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: THEME.text,\n              fontSize: 28,\n              fontWeight: 800\n            },\n            children: \"All done \\uD83C\\uDF89\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 868,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: THEME.muted,\n              marginTop: 10\n            },\n            children: [\"You earned \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: THEME.text\n              },\n              children: score\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 72\n            }, this), \" points. Thanks for playing!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 18,\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => resetAll(),\n              className: \"btn btn-primary\",\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 866,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 865,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showResponses && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        style: {\n          position: \"fixed\",\n          inset: 0,\n          zIndex: 95,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          padding: 22\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"min(820px,94%)\",\n            padding: 18,\n            borderRadius: 14,\n            background: \"rgba(0,0,0,0.6)\",\n            border: \"1px solid rgba(255,255,255,0.03)\",\n            backdropFilter: \"blur(8px)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                color: THEME.text,\n                margin: 0\n              },\n              children: \"Your Responses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowResponses(false),\n              className: \"btn btn-ghost\",\n              style: {\n                padding: \"8px 10px\"\n              },\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              marginTop: 12,\n              maxHeight: \"60vh\",\n              overflow: \"auto\",\n              background: \"rgba(255,255,255,0.02)\",\n              padding: 12,\n              borderRadius: 8,\n              color: THEME.text\n            },\n            children: JSON.stringify(answers, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12,\n              display: \"flex\",\n              justifyContent: \"flex-end\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowResponses(false);\n                resetAll();\n              },\n              className: \"btn btn-primary\",\n              children: \"Restart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 878,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 877,\n      columnNumber: 7\n    }, this), videoPhase === \"failed\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        left: 0,\n        right: 0,\n        bottom: 28,\n        display: \"flex\",\n        justifyContent: \"center\",\n        zIndex: 110\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 12,\n          borderRadius: 12,\n          background: \"rgba(0,0,0,0.45)\",\n          border: \"1px solid rgba(255,255,255,0.03)\",\n          display: \"flex\",\n          gap: 12,\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.text,\n            fontWeight: 700\n          },\n          children: \"Video unavailable \\u2014 using animated fallback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => retryVideos(),\n          className: \"btn btn-primary\",\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 894,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 893,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 776,\n    columnNumber: 5\n  }, this);\n}\n_s4(GamifiedSurveyForm, \"K2qZzDcQIutrZenBM1fdGkXKzzU=\");\n_c6 = GamifiedSurveyForm;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"VideoBackground\");\n$RefreshReg$(_c2, \"AnimatedGradientFallback\");\n$RefreshReg$(_c3, \"LoadingOverlay\");\n$RefreshReg$(_c4, \"CustomCursor\");\n$RefreshReg$(_c5, \"MiniGame\");\n$RefreshReg$(_c6, \"GamifiedSurveyForm\");","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","AnimatePresence","jsxDEV","_jsxDEV","Fragment","_Fragment","OPENING_VIDEO_SRC","REMOTE_FALLBACK","THEME","purple","cyan","magenta","bg","panel","text","muted","QUESTIONS","id","type","title","subtitle","choices","points","flavor","scale","pointsPerStar","maxLength","timeLimit","pointsOnSuccess","dependsOn","q1","lerp","a","b","n","hexToRgb","hex","h","replace","parseInt","substring","confettiBurst","canvas","ctx","getContext","W","width","window","innerWidth","H","height","innerHeight","palette","pieces","i","push","x","Math","random","y","vx","vy","r","color","floor","length","rot","PI","vr","life","frame","clearRect","alive","p","save","translate","rotate","fillStyle","fillRect","restore","requestAnimationFrame","VideoBackground","src","videoRef","onReady","onError","keyOverride","_s","ref","createRef","v","current","playsInline","preload","play","catch","fired","markReady","markError","e","onCanPlay","onErr","console","warn","addEventListener","safety","setTimeout","Error","removeEventListener","clearTimeout","loop","autoPlay","style","position","inset","objectFit","zIndex","pointerEvents","fileName","_jsxFileName","lineNumber","columnNumber","_c","AnimatedGradientFallback","children","className","opacity","xmlns","baseFrequency","numOctaves","stitchTiles","filter","_c2","LoadingOverlay","progress","padding","textAlign","fontWeight","marginBottom","borderRadius","overflow","background","transition","marginTop","display","justifyContent","fontSize","round","_c3","CustomCursor","_s2","dotRef","ringRef","pos","hover","raf","dot","ring","mm","clientX","clientY","hoverChange","t","target","closest","cx","cy","transform","rx","parseFloat","dataset","ry","cancelAnimationFrame","document","documentElement","classList","add","remove","left","top","border","_c4","MiniGame","onComplete","_s3","charge","setCharge","startedAt","running","manual","start","performance","now","tick","elapsed","base","min","total","handleTap","c","flexDirection","alignItems","gap","div","onClick","whileTap","whileHover","boxShadow","cursor","animate","stiffness","damping","_c5","GamifiedSurveyForm","_s4","answers","setAnswers","localStorage","getItem","JSON","parse","score","setScore","Number","openingDone","setOpeningDone","loadProgress","setLoadProgress","videoPhase","setVideoPhase","videoKey","setVideoKey","showVideoNotice","setShowVideoNotice","videoSrc","setVideoSrc","showResponses","setShowResponses","showFinish","setShowFinish","canvasRef","bgCanvasRef","setItem","stringify","String","visible","q","Object","keys","every","k","setHeight","onResize","prevOverflow","prevTouch","body","touchAction","containerRef","chapterRefs","addChapterRef","el","targetY","currentY","rafRef","lastWheelAt","isScrolling","SNAP_DELAY","LERP_FAST","LERP_SNAP","active","lastCursorUpdate","bgRAF","activeIndexRef","activeIndex","setActiveIndex","pageIndex","setPageIndex","pageIndexRef","wheelAccum","wheelLock","sim","prev","max","startsWith","didCancel","checkLocal","res","fetch","method","ok","log","err","handleVideoReady","handleVideoError","handleVideoUpload","f","files","url","URL","createObjectURL","name","retryVideos","isTouching","touchStartY","touchStartTime","clampPageIndex","setPage","clamped","onWheel","preventDefault","deltaY","THRESH","abs","dir","onTouchStart","touches","onTouchMove","delta","onTouchEnd","endTime","touch","changedTouches","SWIPE_THRESHOLD","onKey","includes","key","passive","onPointer","onPointerLeave","onPointerDown","px","py","_triggerPop","DPR","devicePixelRatio","BRICK_W","BRICK_H","cols","ceil","rows","MAX","scaleUp","sqrt","bricks","w","baseX","baseY","pop","phase","falling","fallY","fallVy","gone","nearest","best","Infinity","dx","dy","d","R","norm","palA","palB","palC","last","draw","dt","maxD","time","skipShadows","panelCenterX","activeIdx","panelCenterY","panelW","panelH","pow","lift","wobble","sin","yOffset","posFactor","anim","mixFactor","mix","bVal","rAB","gAB","bAB","accent","baseR","baseG","baseB","depthMul","dxPanel","dyPanel","panelDarkness","nx","ny","finalR","finalG","finalB","finalAlpha","gx","gy","grad","createLinearGradient","colorStart","colorEnd","addColorStop","globalAlpha","shadowBlur","shadowColor","roundRect","fill","minr","beginPath","moveTo","arcTo","closePath","forEach","node","center","offset","translateY","idx","scrollToIndex","dest","AUTO_ADVANCE_DELAY_MS","MINIGAME_ADVANCE_MS","handleAnswer","qid","value","questionDef","find","gained","s","pulseScore","next","getElementById","duration","easing","onMiniGameComplete","success","q4","finish","resetAll","confirm","ChapterContent","item","isFirst","isLast","maxWidth","margin","h1","initial","WebkitBackgroundClip","textShadow","delay","backdropFilter","viewBox","stroke","strokeWidth","gridTemplateColumns","map","button","Array","from","_","onChange","placeholder","resize","minHeight","accept","bottom","right","padStart","exit","maxHeight","_c6","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/App/gamified-survey/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/*\n  Full App.js — scroll snapping updated to page jumps:\n   - wheel -> accumulator => jump page when threshold reached, small lock to avoid repeat triggers\n   - touch swipe -> threshold on touchend\n   - keyboard -> page jumps\n  Keep previous features: video fallback + upload, bricks gradient, confetti, loader.\n*/\n\nconst OPENING_VIDEO_SRC = \"/opening.mp4\";\nconst REMOTE_FALLBACK = \"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4\";\n\nconst THEME = {\n  purple: \"#7c3aed\",\n  cyan: \"#06b6d4\",\n  magenta: \"#ff4791\",\n  bg: \"#04050a\",\n  panel: \"rgba(6,8,22,0.78)\",\n  text: \"#e6eef8\",\n  muted: \"#9aa6b2\",\n};\n\nconst QUESTIONS = [\n  { id: \"intro\", type: \"stage\", title: \"Nightfall at HackPlay\", subtitle: \"Step into a neon-lit hall. Your choices tune the journey.\" },\n  {\n    id: \"q1\",\n    type: \"mcq\",\n    title: \"Entrance — choose your mindset\",\n    choices: [\"Build something cool\", \"Learn fast\", \"Meet people\", \"Chase the prizes\"],\n    points: { \"Build something cool\": 20, \"Learn fast\": 10, \"Meet people\": 15, \"Chase the prizes\": 5 },\n    flavor: \"The doors close. A low bass. Pick the vibe that follows you.\",\n  },\n  {\n    id: \"q2\",\n    type: \"rating\",\n    title: \"Charge Meter — how hyped are you?\",\n    scale: 5,\n    pointsPerStar: 6,\n    flavor: \"The stage lights react to your energy.\",\n  },\n  {\n    id: \"q3\",\n    type: \"text\",\n    title: \"One-line pitch — what's the idea?\",\n    maxLength: 140,\n    points: 15,\n    flavor: \"A single line — the fragment your team will build around.\",\n  },\n  {\n    id: \"q4\",\n    type: \"minigame\",\n    title: \"Charge the core — tap to power your idea\",\n    timeLimit: 6000,\n    pointsOnSuccess: 30,\n    flavor: \"Fast reflexes prove prototype-ready energy.\",\n  },\n  {\n    id: \"q5\",\n    type: \"mcq\",\n    title: \"Team vibe — pick your tribe\",\n    choices: [\"Chill coders\", \"All-nighters\", \"Balanced squad\", \"Solo hero\"],\n    points: { \"Chill coders\": 10, \"All-nighters\": 20, \"Balanced squad\": 15, \"Solo hero\": 5 },\n    flavor: \"Who will you ride the night with?\",\n    dependsOn: { q1: \"Build something cool\" },\n  },\n  { id: \"end\", type: \"stage\", title: \"Curtain Call\", subtitle: \"Collect badges, revisit your pitch, and step back into the light.\" },\n];\n\nfunction lerp(a, b, n) { return (1 - n) * a + n * b; }\nfunction hexToRgb(hex) {\n  const h = hex.replace(\"#\", \"\");\n  return [parseInt(h.substring(0,2),16), parseInt(h.substring(2,4),16), parseInt(h.substring(4,6),16)];\n}\n\n/* ---------- confetti (same as before) ---------- */\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  const ctx = canvas.getContext(\"2d\");\n  const W = (canvas.width = window.innerWidth);\n  const H = (canvas.height = window.innerHeight);\n  const palette = [THEME.purple, THEME.cyan, THEME.magenta, \"#ffd93d\", \"#6BCB77\"];\n  const pieces = [];\n  for (let i = 0; i < 100; i++) {\n    pieces.push({\n      x: W/2 + (Math.random()-0.5)*120,\n      y: H/3 + (Math.random()-0.5)*60,\n      vx: (Math.random()-0.5)*14,\n      vy: (Math.random()-1.5)*10,\n      r: Math.random()*6+3,\n      color: palette[Math.floor(Math.random()*palette.length)],\n      rot: Math.random()*Math.PI*2,\n      vr: (Math.random()-0.5)*0.2,\n      life: 160 + Math.random()*120,\n    });\n  }\n  function frame() {\n    ctx.clearRect(0,0,W,H);\n    let alive = false;\n    for (let p of pieces) {\n      if (p.life > 0) {\n        alive = true;\n        p.vy += 0.2;\n        p.x += p.vx; p.y += p.vy; p.rot += p.vr;\n        ctx.save();\n        ctx.translate(p.x,p.y);\n        ctx.rotate(p.rot);\n        ctx.fillStyle = p.color;\n        ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r * 0.6);\n        ctx.restore();\n        p.life -= 1;\n      }\n    }\n    if (alive) requestAnimationFrame(frame); else ctx.clearRect(0,0,W,H);\n  }\n  frame();\n}\n\n/* ---------- VideoBackground component ---------- */\nfunction VideoBackground({ src, videoRef, onReady, onError, keyOverride }) {\n  const ref = videoRef || React.createRef();\n\n  useEffect(() => {\n    const v = ref.current;\n    if (!v) return;\n    v.muted = true;\n    v.playsInline = true;\n    v.preload = \"auto\";\n    const p = v.play && v.play();\n    if (p && p.catch) p.catch(() => {});\n    let fired = false;\n    const markReady = () => { if(fired) return; fired = true; onReady && onReady(); };\n    const markError = (e) => { if(fired) return; fired = true; onError && onError(e); };\n    const onCanPlay = () => markReady();\n    const onErr = (e) => { console.warn(\"video element error\", e); markError(e); };\n    v.addEventListener(\"canplaythrough\", onCanPlay);\n    v.addEventListener(\"canplay\", onCanPlay);\n    v.addEventListener(\"loadeddata\", onCanPlay);\n    v.addEventListener(\"loadedmetadata\", onCanPlay);\n    v.addEventListener(\"error\", onErr);\n    v.addEventListener(\"click\", onCanPlay);\n    const safety = setTimeout(() => { if(!fired) markError(new Error(\"video-timeout\")); }, 4500);\n    return () => {\n      v.removeEventListener(\"canplaythrough\", onCanPlay);\n      v.removeEventListener(\"canplay\", onCanPlay);\n      v.removeEventListener(\"loadeddata\", onCanPlay);\n      v.removeEventListener(\"loadedmetadata\", onCanPlay);\n      v.removeEventListener(\"error\", onErr);\n      v.removeEventListener(\"click\", onCanPlay);\n      clearTimeout(safety);\n    };\n  }, [src, onReady, onError, keyOverride, videoRef, ref]);\n\n  return (\n    <video\n      key={keyOverride}\n      ref={videoRef}\n      src={src}\n      muted\n      loop\n      playsInline\n      autoPlay\n      preload=\"auto\"\n      style={{ position: \"fixed\", inset: 0, width: \"100%\", height: \"100%\", objectFit: \"cover\", zIndex: -50, pointerEvents: \"auto\" }}\n    />\n  );\n}\n\n/* ---------- Animated gradient fallback ---------- */\nfunction AnimatedGradientFallback() {\n  return (\n    <>\n      <div className=\"animated-gradient fixed inset-0 -z-60\" />\n      <svg className=\"fixed inset-0 w-full h-full -z-55 pointer-events-none\" style={{ opacity: 0.05 }} xmlns=\"http://www.w3.org/2000/svg\">\n        <filter id=\"noise\"><feTurbulence baseFrequency=\"0.9\" numOctaves=\"2\" stitchTiles=\"stitch\" /></filter>\n        <rect width=\"100%\" height=\"100%\" filter=\"url(#noise)\" />\n      </svg>\n      <style>{`\n        .animated-gradient {\n          background: linear-gradient(120deg, ${THEME.purple}, ${THEME.cyan}, ${THEME.magenta});\n          background-size: 200% 200%;\n          animation: gradientShift 12s ease infinite;\n        }\n        @keyframes gradientShift {\n          0% { background-position: 0% 50% }\n          50% { background-position: 100% 50% }\n          100% { background-position: 0% 50% }\n        }\n      `}</style>\n    </>\n  );\n}\n\n/* ---------- Loader, Cursor, MiniGame (same as previous) ---------- */\nfunction LoadingOverlay({ progress }) {\n  return (\n    <div className=\"fixed inset-0 z-80 flex items-center justify-center pointer-events-none\">\n      <div style={{ width: \"min(880px,92%)\", padding: 18, textAlign: \"center\" }}>\n        <div style={{ color: THEME.text, fontWeight: 700, marginBottom: 10 }}>Preparing the experience</div>\n        <div style={{ position: \"relative\", height: 14, width: \"100%\", borderRadius: 12, overflow: \"hidden\", background: \"rgba(255,255,255,0.02)\" }}>\n          <div className=\"loader-fill\" style={{ width: `${progress}%`, height: \"100%\", transition: \"width 300ms cubic-bezier(.2,.9,.2,1)\" }} />\n          <div className=\"loader-shimmer\" />\n        </div>\n        <div style={{ marginTop: 10, display: \"flex\", justifyContent: \"space-between\", color: THEME.muted, fontSize: 13 }}>\n          <div>{Math.round(progress)}%</div>\n          <div>Loading assets…</div>\n        </div>\n      </div>\n      <style>{`\n        .loader-fill { background: linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan}); box-shadow: inset 0 -6px 18px rgba(0,0,0,0.25), 0 12px 36px rgba(124,58,237,0.08); height:100%; border-radius:12px; }\n        .loader-shimmer { position:absolute; left:0; top:0; bottom:0; width:40%; transform:translateX(-100%); background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0), rgba(255,255,255,0.06)); mix-blend-mode: overlay; animation: shimmer 1.6s linear infinite; border-radius:12px; }\n        @keyframes shimmer { 0% { transform: translateX(-100%) } 50% { transform: translateX(30%) } 100% { transform: translateX(120%) } }\n      `}</style>\n    </div>\n  );\n}\n\nfunction CustomCursor(){\n  const dotRef = useRef(null), ringRef = useRef(null);\n  const pos = useRef({ x: typeof window !== \"undefined\" ? window.innerWidth/2 : 0, y: typeof window !== \"undefined\" ? window.innerHeight/2 : 0});\n  const hover = useRef(false), raf = useRef(null);\n  useEffect(() => {\n    const dot = dotRef.current, ring = ringRef.current;\n    if(!dot || !ring) return;\n    function mm(e){ pos.current.x = e.clientX; pos.current.y = e.clientY; }\n    function hoverChange(e){ const t = e.target; hover.current = !!(t.closest && t.closest('button, a, [role=\"button\"], input, textarea')); }\n    window.addEventListener(\"mousemove\", mm); window.addEventListener(\"mouseover\", hoverChange);\n    let cx = pos.current.x, cy = pos.current.y, scale = 1;\n    function loop(){\n      cx = lerp(cx, pos.current.x, 0.18); cy = lerp(cy, pos.current.y, 0.18);\n      dot.style.transform = `translate3d(${cx-6}px, ${cy-6}px, 0)`;\n      const rx = lerp(parseFloat(ring.dataset.x || cx), cx, 0.08);\n      const ry = lerp(parseFloat(ring.dataset.y || cy), cy, 0.08);\n      ring.dataset.x = rx; ring.dataset.y = ry;\n      scale = lerp(scale, hover.current ? 1.9 : 1, 0.12);\n      ring.style.transform = `translate3d(${rx-18}px, ${ry-18}px, 0) scale(${scale})`;\n      raf.current = requestAnimationFrame(loop);\n    }\n    raf.current = requestAnimationFrame(loop);\n    return () => { window.removeEventListener(\"mousemove\", mm); window.removeEventListener(\"mouseover\", hoverChange); cancelAnimationFrame(raf.current); };\n  }, []);\n  useEffect(() => { document.documentElement.classList.add(\"custom-cursor-hide\"); return () => document.documentElement.classList.remove(\"custom-cursor-hide\"); }, []);\n  return <>\n    <div ref={ringRef} style={{ position:\"fixed\", left:0, top:0, width:36, height:36, borderRadius:9999, border:\"1.5px solid rgba(255,255,255,0.06)\", pointerEvents:\"none\", zIndex:100000 }} />\n    <div ref={dotRef} style={{ position:\"fixed\", left:0, top:0, width:12, height:12, borderRadius:9999, background:\"radial-gradient(circle at 30% 30%, #fff, #ddd)\", pointerEvents:\"none\", zIndex:100001 }} />\n    <style>{`.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`}</style>\n  </>;\n}\n\nfunction MiniGame({ timeLimit = 6000, onComplete, flavor }) {\n  const [charge, setCharge] = useState(0);\n  const startedAt = useRef(0), running = useRef(false), raf = useRef(null), manual = useRef(0);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  function start(){ if(running.current) return; running.current = true; manual.current = 0; startedAt.current = performance.now(); tick(); }\n  function tick(){ raf.current = requestAnimationFrame(()=>{ const elapsed = performance.now() - startedAt.current; const base = Math.min(100, Math.round((elapsed/timeLimit)*100)); const total = Math.min(100, base + manual.current); setCharge(total); if(total>=100){ running.current=false; cancelAnimationFrame(raf.current); onComplete(true); return; } if(elapsed>=timeLimit){ running.current=false; cancelAnimationFrame(raf.current); onComplete(total>=60); return; } tick(); }); }\n  function handleTap(){ if(!running.current) start(); else { manual.current = Math.min(100, manual.current+12); setCharge(c=>Math.min(100,c+12)); } }\n  return (\n    <div style={{ display:\"flex\", flexDirection:\"column\", alignItems:\"center\", gap:12 }}>\n      <div style={{ color: THEME.muted }}>{flavor}</div>\n      <motion.div onClick={handleTap} whileTap={{scale:0.92}} whileHover={{scale:1.03}} style={{ width:140, height:140, borderRadius:999, display:\"flex\", alignItems:\"center\", justifyContent:\"center\", background:`linear-gradient(135deg, ${THEME.purple}, ${THEME.magenta})`, boxShadow:\"0 14px 40px rgba(124,58,237,0.12)\", cursor:\"pointer\" }}>\n        <div style={{ color:\"#fff\", fontWeight:800 }}>TAP</div>\n      </motion.div>\n      <div style={{ width: \"min(540px,100%)\" }}>\n        <div style={{ color: THEME.muted, marginBottom:6 }}>Charge: {charge}%</div>\n        <div style={{ height:12, width:\"100%\", borderRadius:8, background:\"rgba(255,255,255,0.02)\", overflow:\"hidden\" }}>\n          <motion.div animate={{ width: `${charge}%` }} transition={{ type:\"spring\", stiffness:140, damping:16 }} style={{ height:\"100%\", background:`linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` }} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ------------------ Main app ------------------ */\nexport default function GamifiedSurveyForm() {\n  const [answers, setAnswers] = useState(() => { try { const r = localStorage.getItem(\"gamifiedSurveyAnswers\"); return r?JSON.parse(r):{} } catch { return {}; } });\n  const [score, setScore] = useState(() => Number(localStorage.getItem(\"gamifiedSurveyScore\")) || 0);\n  const [openingDone, setOpeningDone] = useState(false);\n  const [loadProgress, setLoadProgress] = useState(0);\n  const [videoPhase, setVideoPhase] = useState(\"local\"); // local/remote/failed/ready\n  const [videoKey, setVideoKey] = useState(0);\n  const [showVideoNotice, setShowVideoNotice] = useState(false);\n  const [videoSrc, setVideoSrc] = useState(OPENING_VIDEO_SRC);\n  const [showResponses, setShowResponses] = useState(false);\n  const [showFinish, setShowFinish] = useState(false);\n\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const bgCanvasRef = useRef(null);\n\n  useEffect(() => localStorage.setItem(\"gamifiedSurveyAnswers\", JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem(\"gamifiedSurveyScore\", String(score)), [score]);\n\n  const visible = QUESTIONS.filter(q => { if(!q.dependsOn) return true; return Object.keys(q.dependsOn).every(k => answers[k] === q.dependsOn[k]); });\n\n  // layout\n  const [height, setHeight] = useState(typeof window!==\"undefined\"?window.innerHeight:800);\n  useEffect(()=>{ function onResize(){ setHeight(window.innerHeight); } window.addEventListener(\"resize\", onResize); return ()=>window.removeEventListener(\"resize\", onResize); }, []);\n\n  useEffect(()=>{ const prevOverflow = document.documentElement.style.overflow; const prevTouch = document.body.style.touchAction; document.documentElement.style.overflow = \"hidden\"; document.body.style.touchAction = \"none\"; return ()=>{ document.documentElement.style.overflow = prevOverflow; document.body.style.touchAction = prevTouch; }; }, []);\n\n  // container refs\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addChapterRef = el => { if(el) chapterRefs.current.push(el); };\n\n  // cinematic motion / transform\n  const targetY = useRef(0), currentY = useRef(0), rafRef = useRef(null);\n  const lastWheelAt = useRef(0), isScrolling = useRef(false);\n  const SNAP_DELAY = 70, LERP_FAST = 0.42, LERP_SNAP = 0.62;\n  const cursor = useRef({ x: typeof window!==\"undefined\"?window.innerWidth/2:0, y: typeof window!==\"undefined\"?window.innerHeight/2:0, active:false });\n  const lastCursorUpdate = useRef(0);\n  const bgRAF = useRef(null);\n  const activeIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  // pageIndex for snapping\n  const [pageIndex, setPageIndex] = useState(0);\n  const pageIndexRef = useRef(0);\n\n  // wheel accumulator / lock for page jumps\n  const wheelAccum = useRef(0);\n  const wheelLock = useRef(false);\n\n  // simulated loading\n  useEffect(() => {\n    let raf=null; let sim=0;\n    function tick(){\n      sim = Math.min(92, sim + (100 - sim) * 0.05 + 0.6);\n      setLoadProgress(prev => Math.max(prev, sim));\n      raf = requestAnimationFrame(tick);\n    }\n    raf = requestAnimationFrame(tick);\n    return ()=> cancelAnimationFrame(raf);\n  }, []);\n\n  // video checking (HEAD attempt -> fallback behavior)\n  useEffect(() => {\n    if (videoSrc && videoSrc.startsWith(\"blob:\")) { setVideoPhase(\"local\"); setShowVideoNotice(false); return; }\n    let didCancel = false;\n    async function checkLocal() {\n      try {\n        const res = await fetch(videoSrc, { method: \"HEAD\" });\n        if (!didCancel && res && res.ok) {\n          console.log(\"Local video HEAD OK\");\n          setVideoPhase(\"local\"); setShowVideoNotice(false); return;\n        }\n        console.warn(\"Local HEAD failed or not OK; attempting to mount video element\");\n        setVideoPhase(\"local\"); setShowVideoNotice(true);\n      } catch (err) {\n        console.warn(\"Local HEAD error (likely CORS or missing file)\", err);\n        setVideoPhase(\"remote\"); setVideoKey(k => k+1); setShowVideoNotice(true); setVideoSrc(REMOTE_FALLBACK);\n      }\n    }\n    checkLocal();\n    return ()=> { didCancel = true; };\n  }, [videoKey, videoSrc]);\n\n  function handleVideoReady() {\n    setLoadProgress(100);\n    setTimeout(()=>{ setOpeningDone(true); setVideoPhase(\"ready\"); setShowVideoNotice(false); }, 240);\n  }\n  function handleVideoError(err) {\n    console.warn(\"video reported error:\", err);\n    if (videoPhase === \"local\") {\n      setVideoPhase(\"remote\");\n      setVideoKey(k => k + 1);\n      setShowVideoNotice(true);\n      setVideoSrc(REMOTE_FALLBACK);\n      return;\n    }\n    if (videoPhase === \"remote\") {\n      setVideoPhase(\"failed\");\n      setShowVideoNotice(true);\n      setLoadProgress(100);\n      setTimeout(()=>setOpeningDone(true), 300);\n      return;\n    }\n  }\n\n  function handleVideoUpload(e) {\n    const f = e.target.files && e.target.files[0];\n    if (!f) return;\n    const url = URL.createObjectURL(f);\n    setVideoSrc(url);\n    setVideoPhase(\"local\");\n    setVideoKey(k=>k+1);\n    setOpeningDone(false);\n    setLoadProgress(0);\n    setShowVideoNotice(false);\n    console.log(\"Using uploaded video:\", f.name);\n  }\n  function retryVideos() {\n    setVideoPhase(\"local\");\n    setVideoSrc(OPENING_VIDEO_SRC);\n    setVideoKey(k=>k+1);\n    setShowVideoNotice(false);\n    setOpeningDone(false);\n    setLoadProgress(0);\n  }\n\n  // pointer and keyboard input + improved wheel -> page-jump logic\n  useEffect(() => {\n    const isTouching = { v:false };\n    const touchStartY = { v:0 };\n    const touchStartTime = { v:0 };\n\n    function clampPageIndex(i){ return Math.max(0, Math.min(i, visible.length - 1)); }\n    function setPage(i){\n      const clamped = clampPageIndex(i);\n      pageIndexRef.current = clamped;\n      setPageIndex(clamped);\n      targetY.current = clamped * height;\n      lastWheelAt.current = performance.now();\n      isScrolling.current = true;\n    }\n\n    // Wheel behaviour: accumulate small deltas, trigger jump when accumulator exceeds threshold.\n    function onWheel(e){\n      e.preventDefault();\n      // avoid reacting while wheelLock is active\n      if (wheelLock.current) return;\n      wheelAccum.current += e.deltaY;\n      // threshold tuned to work with mouse wheel & trackpad\n      const THRESH = 80;\n      if (Math.abs(wheelAccum.current) >= THRESH) {\n        const dir = wheelAccum.current > 0 ? 1 : -1;\n        setPage(pageIndexRef.current + dir);\n        wheelAccum.current = 0;\n        wheelLock.current = true;\n        // short lock to avoid double triggers on momentum (300ms)\n        setTimeout(() => { wheelLock.current = false; }, 300);\n      }\n      lastWheelAt.current = performance.now();\n    }\n\n    // Touch: capture start Y and on end compute delta and fling detection\n    function onTouchStart(e){ touchStartY.v = e.touches[0].clientY; touchStartTime.v = performance.now(); isTouching.v = true; }\n    function onTouchMove(e){ if(!isTouching.v) return; const y = e.touches[0].clientY; const delta = touchStartY.v - y; touchStartY.v = y; /* allow small drag but don't update page until end */ }\n    function onTouchEnd(e){\n      if(!isTouching.v) return;\n      const endTime = performance.now();\n      isTouching.v = false;\n      const touch = (e.changedTouches && e.changedTouches[0]) || null;\n      if (!touch) return;\n      // we need the starting Y — we saved it only at start; compute delta from center if possible\n      // Simpler: use changedTouches[0].clientY minus previous page center: get last stored start from 150ms earlier\n      // We'll use a simple heuristic: swipe distance = start - end (we stored last move in touchStartY.v)\n      // For reliability, we compute using screenY difference from page center\n      const deltaY = (touchStartY.v || 0) - touch.clientY;\n      const elapsed = endTime - touchStartTime.v;\n      const SWIPE_THRESHOLD = 40; // px\n      if (Math.abs(deltaY) > SWIPE_THRESHOLD) {\n        const dir = deltaY > 0 ? 1 : -1;\n        setPage(pageIndexRef.current + dir);\n      }\n    }\n\n    function onKey(e){\n      if ([\"ArrowDown\",\"PageDown\",\" \"].includes(e.key)) {\n        e.preventDefault();\n        setPage(pageIndexRef.current + 1);\n      } else if ([\"ArrowUp\",\"PageUp\"].includes(e.key)) {\n        e.preventDefault();\n        setPage(pageIndexRef.current - 1);\n      }\n    }\n\n    const el = containerRef.current || window;\n    el.addEventListener(\"wheel\", onWheel, { passive:false });\n    window.addEventListener(\"touchstart\", onTouchStart, { passive:false });\n    window.addEventListener(\"touchmove\", onTouchMove, { passive:false });\n    window.addEventListener(\"touchend\", onTouchEnd);\n    window.addEventListener(\"keydown\", onKey);\n\n    function onPointer(e){ const now = performance.now(); if(now - lastCursorUpdate.current > 12){ cursor.current.x = e.clientX; cursor.current.y = e.clientY; cursor.current.active = true; lastCursorUpdate.current = now; } }\n    function onPointerLeave(){ cursor.current.active = false; }\n    function onPointerDown(e){ const px = e.clientX; const py = e.clientY; cursor.current.x = px; cursor.current.y = py; if (bgCanvasRef.current && bgCanvasRef.current._triggerPop) bgCanvasRef.current._triggerPop(px, py); }\n\n    window.addEventListener(\"pointermove\", onPointer);\n    window.addEventListener(\"pointerout\", onPointerLeave);\n    window.addEventListener(\"pointerdown\", onPointerDown);\n\n    return () => {\n      el.removeEventListener(\"wheel\", onWheel);\n      window.removeEventListener(\"touchstart\", onTouchStart);\n      window.removeEventListener(\"touchmove\", onTouchMove);\n      window.removeEventListener(\"touchend\", onTouchEnd);\n      window.removeEventListener(\"keydown\", onKey);\n      window.removeEventListener(\"pointermove\", onPointer);\n      window.removeEventListener(\"pointerout\", onPointerLeave);\n      window.removeEventListener(\"pointerdown\", onPointerDown);\n    };\n  }, [height, visible.length]);\n\n  /* ---------- bricks canvas (same neon gradient logic) ---------- */\n  useEffect(() => {\n    const canvas = bgCanvasRef.current; if(!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    let W = canvas.width = window.innerWidth;\n    let H = canvas.height = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.5);\n    canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = W + \"px\"; canvas.style.height = H + \"px\"; ctx.scale(DPR, DPR);\n\n    let BRICK_W = window.innerWidth < 640 ? 120 : 96;\n    let BRICK_H = window.innerWidth < 640 ? 56 : 44;\n    let cols = Math.ceil(W / BRICK_W), rows = Math.ceil(H / BRICK_H);\n    const MAX = 900;\n    if(cols * rows > MAX){\n      const scaleUp = Math.sqrt((cols*rows)/MAX);\n      BRICK_W = Math.ceil(BRICK_W * scaleUp); BRICK_H = Math.ceil(BRICK_H * scaleUp);\n      cols = Math.ceil(W / BRICK_W); rows = Math.ceil(H / BRICK_H);\n    }\n\n    const bricks = [];\n    for(let r=0;r<rows;r++){\n      for(let c=0;c<cols;c++){\n        const x = c * BRICK_W + (r%2 ? BRICK_W/2 : 0), y = r * BRICK_H;\n        const cx = x + BRICK_W/2, cy = y + BRICK_H/2;\n        bricks.push({ x, y, w: BRICK_W, h: BRICK_H, baseX: x, baseY: y, cx, cy, pop:0, vy:0, phase: Math.random()*Math.PI*2, falling:false, fallY:0, fallVy:0, opacity:1, gone:false, r, c });\n      }\n    }\n\n    canvas._triggerPop = function(px, py){\n      let nearest = null; let best = Infinity;\n      for (let b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - px; const dy = b.cy - py; const d = Math.sqrt(dx*dx + dy*dy);\n        if (d < best) { best = d; nearest = b; }\n      }\n      if (nearest && !nearest.falling && best < Math.max(120, Math.min(window.innerWidth, window.innerHeight) * 0.06)) {\n        nearest.falling = true; nearest.fallVy = Math.random()*4 + 2; nearest.fallY = 0;\n      }\n      const R = 120;\n      for (let b of bricks) {\n        if (b.falling || b.gone) continue;\n        const dx = b.cx - px; const dy = b.cy - py; const d = Math.sqrt(dx*dx + dy*dy);\n        if (d < R) {\n          const norm = 1 - d / R;\n          b.pop = Math.max(b.pop, 0.3 * norm);\n          b.vy += (4 * norm) + (Math.random() * 2);\n        }\n      }\n    };\n\n    const palA = hexToRgb(THEME.purple);\n    const palB = hexToRgb(THEME.cyan);\n    const palC = hexToRgb(THEME.magenta);\n\n    let last = performance.now();\n    function draw(now){\n      let dt = Math.min(40, now - last) * 0.001;\n      if(dt <= 0) { bgRAF.current = requestAnimationFrame(draw); return; }\n      last = now;\n      ctx.clearRect(0,0,W,H);\n\n      ctx.fillStyle = openingDone ? \"rgba(2,4,10,0.46)\" : \"rgba(2,4,10,0.08)\";\n      ctx.fillRect(0,0,W,H);\n\n      const maxD = Math.max(W, H) * 0.65;\n      const time = now * 0.001;\n      const skipShadows = bricks.length > 700;\n\n      const panelCenterX = W/2;\n      const activeIdx = activeIndexRef.current || 0;\n      const panelCenterY = (activeIdx * height - currentY.current) + (height / 2);\n      const panelW = Math.min(1120, W * 0.86);\n      const panelH = Math.min(760, height * 0.78);\n\n      for (let b of bricks) {\n        if (b.gone) continue;\n        if (b.falling){\n          b.fallVy += 900 * dt; b.fallY += b.fallVy * dt; b.opacity = Math.max(0, 1 - (b.fallY / (H * 1.4)));\n          if (b.fallY > H + 120) { b.gone = true; continue; }\n        }\n        const dx = b.cx - cursor.current.x; const dy = b.cy - cursor.current.y; const d = Math.sqrt(dx*dx + dy*dy);\n        let t = Math.max(0, 1 - d / maxD); t = Math.pow(t, 0.9);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 18);\n        const wobble = b.falling ? 0 : Math.sin(b.phase + time * 1.2) * 3 * t;\n        if (!b.falling){ b.vy -= 30 * dt; b.vy *= (0.92 - Math.min(0.18, t * 0.12)); b.pop = Math.max(0, b.pop - 0.012); }\n        const yOffset = b.falling ? b.fallY : (-lift + b.vy * dt * 60);\n\n        const posFactor = ((b.r % 7) / 7) * 0.2 + ((b.c % 5)/5) * 0.12;\n        const anim = 0.45 + 0.55 * Math.sin(b.phase * 1.2 + time * (0.45 + posFactor));\n        const mixFactor = Math.min(1, Math.max(0, t * 0.9 + anim * 0.25 + posFactor * 0.12));\n\n        function mix(a,bVal,n){ return Math.round((1-n)*a + n*bVal); }\n        const rAB = mix(palA[0], palB[0], mixFactor);\n        const gAB = mix(palA[1], palB[1], mixFactor);\n        const bAB = mix(palA[2], palB[2], mixFactor);\n        const accent = 0.14 * (0.5 + 0.5 * Math.sin(time * 1.8 + b.phase + posFactor));\n        let baseR = Math.min(255, Math.round(rAB * (1 - accent) + palC[0] * accent));\n        let baseG = Math.min(255, Math.round(gAB * (1 - accent) + palC[1] * accent));\n        let baseB = Math.min(255, Math.round(bAB * (1 - accent) + palC[2] * accent));\n        const depthMul = 0.9 + 0.22 * (1 - (b.cy / H));\n        baseR = Math.round(baseR * depthMul); baseG = Math.round(baseG * depthMul); baseB = Math.round(baseB * depthMul);\n\n        const dxPanel = Math.abs(b.cx - panelCenterX);\n        const dyPanel = Math.abs(b.cy - panelCenterY);\n        let panelDarkness = 0;\n        if (dxPanel < panelW/2 && dyPanel < panelH/2) {\n          const nx = 1 - (dxPanel / (panelW/2));\n          const ny = 1 - (dyPanel / (panelH/2));\n          panelDarkness = Math.pow(Math.max(0, Math.min(1, nx * ny)), 1.6) * 0.72;\n        }\n\n        const finalR = Math.max(8, Math.round(baseR * (1 - panelDarkness)));\n        const finalG = Math.max(8, Math.round(baseG * (1 - panelDarkness)));\n        const finalB = Math.max(8, Math.round(baseB * (1 - panelDarkness)));\n        const finalAlpha = Math.max(0.5, b.opacity - (panelDarkness * 0.26));\n\n        const gx = b.baseX + 6, gy = b.baseY + 6;\n        const grad = ctx.createLinearGradient(gx, gy, gx + b.w - 12, gy + b.h - 12);\n        const colorStart = `rgba(${Math.max(0,finalR-18)}, ${Math.max(0,finalG-18)}, ${Math.max(0,finalB-18)}, ${finalAlpha})`;\n        const colorEnd = `rgba(${finalR}, ${finalG}, ${finalB}, ${finalAlpha})`;\n        grad.addColorStop(0, colorStart);\n        grad.addColorStop(1, colorEnd);\n\n        ctx.save();\n        ctx.globalAlpha = finalAlpha;\n        ctx.fillStyle = grad;\n        if (lift > 2 && !b.falling && !skipShadows) {\n          ctx.shadowBlur = Math.min(28, lift * 1.6);\n          ctx.shadowColor = `rgba(40,60,160,${Math.min(0.22, 0.06 * t + 0.06 * b.pop)})`;\n        } else ctx.shadowBlur = 0;\n        const px = b.baseX + wobble * 0.6;\n        const py = b.baseY + yOffset;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n\n        if ((t > 0.08 || b.pop > 0.02) && !b.falling && panelDarkness < 0.6) {\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = `rgba(255,255,255,${0.03 * t + 0.04 * b.pop})`;\n          ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(3, Math.min(8, 4 * t + 6 * b.pop)));\n        }\n        ctx.restore();\n      }\n\n      bgRAF.current = requestAnimationFrame(draw);\n    }\n\n    function roundRect(ctx,x,y,w,h,r){ const minr = Math.min(r, w/2, h/2); ctx.beginPath(); ctx.moveTo(x+minr,y); ctx.arcTo(x+w,y,x+w,y+h,minr); ctx.arcTo(x+w,y+h,x,y+h,minr); ctx.arcTo(x,y+h,x,y,minr); ctx.arcTo(x,y,x+w,y,minr); ctx.closePath(); }\n\n    function onResize(){ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = W + \"px\"; canvas.style.height = H + \"px\"; ctx.scale(DPR, DPR); }\n    window.addEventListener(\"resize\", onResize);\n    bgRAF.current = requestAnimationFrame(draw);\n    return () => { window.removeEventListener(\"resize\", onResize); cancelAnimationFrame(bgRAF.current); };\n  }, [openingDone, height]);\n\n  // UI transform loop\n  useEffect(() => {\n    function frame(){\n      currentY.current = lerp(currentY.current, targetY.current, (performance.now() - lastWheelAt.current > SNAP_DELAY) ? LERP_SNAP : LERP_FAST);\n      const el = containerRef.current; if(el) el.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n      chapterRefs.current.forEach((node, i) => {\n        if(!node) return;\n        const center = i * height;\n        const offset = (currentY.current - center) / height;\n        const abs = Math.abs(offset);\n        const translateY = offset * 34;\n        const rotate = offset * 3.6;\n        const scale = 1 - Math.min(0.08, abs * 0.08);\n        const opacity = 1 - Math.min(0.9, abs * 0.9);\n        node.style.transform = `translate3d(0px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`;\n        node.style.opacity = String(opacity);\n      });\n      const idx = Math.round(currentY.current / height);\n      if (activeIndexRef.current !== idx) { activeIndexRef.current = idx; setActiveIndex(idx); pageIndexRef.current = idx; setPageIndex(idx); }\n      rafRef.current = requestAnimationFrame(frame);\n    }\n    rafRef.current = requestAnimationFrame(frame);\n    return ()=> cancelAnimationFrame(rafRef.current);\n  }, [height, visible.length]);\n\n  function scrollToIndex(i){ const max = Math.max(0, (visible.length - 1) * height); const dest = Math.max(0, Math.min(i * height, max)); targetY.current = dest; lastWheelAt.current = performance.now(); isScrolling.current = true; pageIndexRef.current = Math.round(dest / height); setPageIndex(pageIndexRef.current); }\n\n  const AUTO_ADVANCE_DELAY_MS = 240, MINIGAME_ADVANCE_MS = 300;\n  function handleAnswer(qid, value){\n    setAnswers(prev => ({ ...prev, [qid]: value }));\n    const questionDef = QUESTIONS.find(x => x.id === qid) || {};\n    let gained = 0;\n    if(questionDef.type === \"mcq\" && questionDef.points) gained = questionDef.points[value] || 0;\n    else if(questionDef.type === \"rating\") gained = value * (questionDef.pointsPerStar || 1);\n    else if(questionDef.type === \"text\") gained = questionDef.points || 0;\n    if(gained){ setScore(s => s + gained); pulseScore(); }\n    if(questionDef.type === \"mcq\" || questionDef.type === \"rating\"){ const next = Math.min(activeIndexRef.current + 1, visible.length - 1); setTimeout(()=>scrollToIndex(next), AUTO_ADVANCE_DELAY_MS); }\n  }\n  function pulseScore(){ const el = document.getElementById(\"score-badge\"); if(!el) return; el.animate([{ transform:'translateY(0) scale(1)' }, { transform:'translateY(-6px) scale(1.06)' }, { transform:'translateY(0) scale(1)' }], { duration:520, easing:'ease-out' }); }\n  function onMiniGameComplete(success){ if(success){ setScore(s => s + 30); pulseScore(); } setAnswers(prev=>({...prev, q4: success ? \"success\" : \"fail\"})); setTimeout(()=>scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)), MINIGAME_ADVANCE_MS); }\n  function finish(){ setShowFinish(true); if(canvasRef.current) confettiBurst(canvasRef.current); }\n  function resetAll(){ if(!window.confirm(\"Reset survey? This clears local progress.\")) return; setAnswers({}); setScore(0); setShowFinish(false); targetY.current = 0; currentY.current = 0; pageIndexRef.current = 0; setPageIndex(0); if(containerRef.current) containerRef.current.style.transform = \"translate3d(0,0,0)\"; }\n\n  function ChapterContent({ item, idx }){\n    if(item.type === \"stage\"){\n      const isFirst = idx === 0, isLast = idx === Math.max(0, visible.length - 1);\n      return (\n        <div style={{ textAlign:\"center\", maxWidth:720, margin:\"0 auto\" }}>\n          <motion.h1 initial={{ y:40, opacity:0 }} animate={{ y:0, opacity:1 }} transition={{ duration:0.8 }} style={{ fontSize:\"2.5rem\", fontWeight:800, background:`linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})`, WebkitBackgroundClip:\"text\", color:\"transparent\", textShadow: \"0 10px 36px rgba(124,58,237,0.06)\" }}>{item.title}</motion.h1>\n          {item.subtitle && <motion.p initial={{ y:20, opacity:0 }} animate={{ y:0, opacity:0.95 }} transition={{ delay:0.12 }} style={{ color: THEME.muted, marginTop:8 }}>{item.subtitle}</motion.p>}\n          <div style={{ marginTop:18, padding:18, borderRadius:12, background: THEME.panel, border:\"1px solid rgba(255,255,255,0.03)\", backdropFilter:\"blur(6px)\" }}>\n            <div style={{ display:\"flex\", gap:12, alignItems:\"center\", justifyContent:\"center\" }}>\n              <svg width=\"44\" height=\"44\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 2l3 7h7l-5.5 4 2 7L12 17l-6.5 3 2-7L2 9h7l3-7z\" stroke={THEME.purple} strokeWidth=\"0.9\"/></svg>\n              <div>\n                <div style={{ color: THEME.text, fontWeight:700 }}>Experience</div>\n                <div style={{ color: THEME.muted, fontSize:13 }}>A cinematic flow — read the prompt, pick quickly, and earn points.</div>\n              </div>\n            </div>\n            <div style={{ marginTop:16, display:\"flex\", gap:12, justifyContent:\"center\" }}>\n              {isLast ? (\n                <>\n                  <button onClick={() => resetAll()} className=\"btn btn-primary\">Restart</button>\n                  <button onClick={() => setShowResponses(true)} className=\"btn btn-ghost\">View responses</button>\n                </>\n              ) : (\n                <>\n                  <button onClick={() => scrollToIndex(Math.min(idx + 1, visible.length - 1))} className=\"btn btn-primary\">Enter</button>\n                  {!isFirst && <button onClick={() => finish()} className=\"btn btn-ghost\">Skip</button>}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n    if(item.type === \"mcq\"){\n      return (\n        <div style={{ maxWidth:980, margin:\"0 auto\" }}>\n          <div style={{ color: THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n          <div style={{ display:\"grid\", gridTemplateColumns:\"repeat(auto-fit, minmax(240px, 1fr))\", gap:14 }}>\n            {item.choices.map(c => (\n              <motion.button key={c} whileHover={{ scale:1.03 }} onClick={() => handleAnswer(item.id, c)} style={{ padding:18, borderRadius:20, border: answers[item.id] === c ? \"none\" : \"1px solid rgba(255,255,255,0.03)\", background: answers[item.id] === c ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : \"rgba(255,255,255,0.02)\", color: answers[item.id] === c ? \"black\" : THEME.text, boxShadow: answers[item.id] === c ? \"0 12px 40px rgba(124,58,237,0.12)\" : \"none\" }}>\n                <div style={{ fontWeight:700, fontSize:18 }}>{c}</div>\n                <div style={{ color: THEME.muted, marginTop:6 }}>{item.points && item.points[c] ? `${item.points[c]} pts` : \"\"}</div>\n              </motion.button>\n            ))}\n          </div>\n        </div>\n      );\n    }\n    if(item.type === \"rating\"){\n      return (\n        <div style={{ textAlign:\"center\" }}>\n          <div style={{ color: THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n          <div style={{ display:\"flex\", gap:12, justifyContent:\"center\" }}>\n            {Array.from({ length: item.scale }).map((_, i) => (\n              <motion.button key={i} onClick={() => handleAnswer(item.id, i+1)} whileTap={{ scale:0.96 }} style={{ width:64, height:64, borderRadius:999, display:\"flex\", alignItems:\"center\", justifyContent:\"center\", background: answers[item.id] === i+1 ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : \"rgba(255,255,255,0.02)\", color: answers[item.id] === i+1 ? \"black\" : THEME.text, border:\"1px solid rgba(255,255,255,0.03)\" }}>{i+1}</motion.button>\n            ))}\n          </div>\n        </div>\n      );\n    }\n    if(item.type === \"text\"){\n      return (\n        <div style={{ maxWidth:980, margin:\"0 auto\" }}>\n          <div style={{ color: THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n          <textarea maxLength={item.maxLength} rows={5} value={answers[item.id] || \"\"} onChange={(e) => setAnswers(prev => ({ ...prev, [item.id]: e.target.value }))} placeholder=\"One-line pitch...\" style={{ width:\"100%\", padding:16, borderRadius:12, background: THEME.panel, border:\"1px solid rgba(255,255,255,0.03)\", color: THEME.text, resize:\"vertical\" }} />\n          <div style={{ display:\"flex\", justifyContent:\"space-between\", marginTop:10 }}>\n            <div style={{ color: THEME.muted }}>{(answers[item.id] || \"\").length}/{item.maxLength}</div>\n            <div style={{ display:\"flex\", gap:10 }}>\n              <button onClick={() => { if(item.points && (answers[item.id] || \"\").length > 0) { setScore(s => s + item.points); pulseScore(); } scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)); }} className=\"btn btn-primary\">Submit</button>\n              <button onClick={() => setAnswers(prev => ({ ...prev, [item.id]: \"\" }))} className=\"btn btn-ghost\">Clear</button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    if(item.type === \"minigame\") return <MiniGame timeLimit={item.timeLimit} onComplete={onMiniGameComplete} flavor={item.flavor} />;\n    return null;\n  }\n\n  useEffect(()=>{ if(openingDone) setLoadProgress(100); }, [openingDone]);\n\n  return (\n    <div style={{ minHeight:\"100vh\", position:\"relative\", overflow:\"hidden\", background: THEME.bg, color: THEME.text }}>\n      <style>{`\n        :root{\n          --purple: ${THEME.purple};\n          --cyan: ${THEME.cyan};\n          --magenta: ${THEME.magenta};\n          --text: ${THEME.text};\n          --muted: ${THEME.muted};\n        }\n        .btn { padding: 10px 14px; border-radius: 10px; font-weight:700; cursor:pointer; border: 1px solid rgba(255,255,255,0.03); }\n        .btn-primary { background: linear-gradient(90deg, var(--purple), var(--cyan)); color: black; box-shadow: 0 8px 32px rgba(124,58,237,0.08); }\n        .btn-ghost { background: rgba(255,255,255,0.02); color: var(--text); border: 1px solid rgba(255,255,255,0.03); }\n      `}</style>\n\n      <CustomCursor />\n\n      {/* Video / fallback */}\n      {videoPhase !== \"failed\" && (\n        <VideoBackground keyOverride={videoKey + (videoSrc.startsWith(\"blob:\") ? \"-blob\" : videoPhase)} src={videoSrc} videoRef={videoRef} onReady={handleVideoReady} onError={handleVideoError} />\n      )}\n      {videoPhase === \"failed\" && <AnimatedGradientFallback />}\n\n      {/* video control + upload */}\n      <div style={{ position:\"fixed\", left:16, top:16, zIndex:120, display:\"flex\", gap:10, alignItems:\"center\" }}>\n        <div style={{ padding:8, borderRadius:10, background:\"rgba(0,0,0,0.45)\", border:\"1px solid rgba(255,255,255,0.03)\" }}>\n          <div style={{ color: THEME.text, fontWeight:700, fontSize:13 }}>Background video</div>\n          <div style={{ color: THEME.muted, fontSize:12, marginTop:4 }}>\n            {videoPhase === \"local\" && \"Trying local video...\"}\n            {videoPhase === \"remote\" && \"Local blocked / missing — trying remote\"}\n            {videoPhase === \"failed\" && \"Video unavailable — using fallback\"}\n            {videoPhase === \"ready\" && \"Video playing\"}\n          </div>\n          <div style={{ marginTop:8, display:\"flex\", gap:8 }}>\n            <label className=\"btn btn-ghost\" style={{ padding:\"6px 8px\", cursor:\"pointer\" }}>\n              Upload local video\n              <input type=\"file\" accept=\"video/*\" onChange={handleVideoUpload} style={{ display:\"none\" }} />\n            </label>\n            <button onClick={retryVideos} className=\"btn btn-primary\" style={{ padding:\"6px 10px\" }}>Retry</button>\n          </div>\n        </div>\n      </div>\n\n      {showVideoNotice && (\n        <div style={{ position:\"fixed\", left:16, bottom:18, zIndex:120 }}>\n          <div style={{ padding:10, borderRadius:10, background:\"rgba(0,0,0,0.5)\", border:\"1px solid rgba(255,255,255,0.03)\" }}>\n            <div style={{ color:THEME.text, fontWeight:700, fontSize:13 }}>Video fallback active</div>\n            <div style={{ color:THEME.muted, fontSize:12, marginTop:6 }}>If your local video doesn't load, upload an MP4 or ensure public/opening.mp4 exists and is H.264/AAC. Use a dev server (not file://).</div>\n          </div>\n        </div>\n      )}\n\n      {!openingDone && <LoadingOverlay progress={loadProgress} />}\n\n      <canvas ref={bgCanvasRef} className=\"fixed inset-0 z-0 pointer-events:none\" />\n      <canvas ref={canvasRef} className=\"fixed inset-0 z-50 pointer-events:none\" />\n\n      <div style={{ position:\"fixed\", right:18, top:18, zIndex:100, display:\"flex\", flexDirection:\"column\", alignItems:\"flex-end\", gap:8 }}>\n        <div id=\"score-badge\" style={{ padding:\"10px 14px\", borderRadius:999, background:`linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})`, color:\"#000\", fontWeight:800 }}>{score} pts</div>\n        <div style={{ color: THEME.muted, fontSize:12 }}>Level {Math.floor(score/50) + 1}</div>\n      </div>\n\n      <nav style={{ position:\"fixed\", left:18, top:\"50%\", transform:\"translateY(-50%)\", zIndex:100, display:\"flex\", flexDirection:\"column\", gap:10 }}>\n        {visible.map((_, i) => (\n          <button key={i} onClick={() => { pageIndexRef.current = i; setPageIndex(i); scrollToIndex(i); }} aria-label={`Go to chapter ${i+1}`} style={{ width:12, height:12, borderRadius:999, background: i === activeIndex ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})` : \"rgba(255,255,255,0.03)\", border:\"1px solid rgba(255,255,255,0.02)\" }} />\n        ))}\n      </nav>\n\n      <div ref={containerRef} className=\"fixed inset-0 top-0 left-0 w-full will-change-transform z-40\">\n        <div style={{ height: `${visible.length * height}px` }}>\n          {visible.map((item, i) => (\n            <section key={item.id} ref={addChapterRef} style={{ height: `${height}px` }} className=\"flex items-center justify-center px-6 md:px-12\">\n              <div style={{ width:\"100%\", maxWidth:1120, margin:\"0 auto\", display:\"grid\", gridTemplateColumns:\"1fr 2fr\", gap:20, alignItems:\"center\" }}>\n                <aside style={{ display: window.innerWidth >= 1024 ? \"flex\" : \"none\", flexDirection:\"column\", gap:12, alignItems:\"flex-start\" }}>\n                  <div style={{ color: THEME.muted, fontSize:13 }}>Chapter</div>\n                  <motion.div animate={{ rotate: activeIndex === i ? 6 : 0 }} transition={{ type:\"spring\" }} style={{ fontSize:36, fontWeight:900, color: THEME.text }}>{String(i+1).padStart(2, \"0\")}</motion.div>\n                  <div style={{ width:6, height:\"100%\", background:`linear-gradient(180deg, ${THEME.purple}, ${THEME.magenta})`, opacity:0.28, borderRadius:4 }} />\n                </aside>\n\n                <div style={{ borderRadius:14, padding:28, textAlign:\"center\", background: THEME.panel, border:\"1px solid rgba(255,255,255,0.03)\", backdropFilter:\"blur(10px)\" }}>\n                  <motion.div initial={{ opacity:0, y:30 }} animate={{ opacity:1, y:0 }} transition={{ duration:0.6 }}>\n                    <ChapterContent item={item} idx={i} />\n                  </motion.div>\n                </div>\n              </div>\n            </section>\n          ))}\n        </div>\n      </div>\n\n      <AnimatePresence>{showFinish && (\n        <motion.div initial={{ opacity:0 }} animate={{ opacity:1 }} exit={{ opacity:0 }} style={{ position:\"fixed\", inset:0, zIndex:90, display:\"flex\", alignItems:\"center\", justifyContent:\"center\" }}>\n          <div style={{ width:\"min(720px,92%)\", padding:28, borderRadius:18, background:\"rgba(0,0,0,0.6)\", border:\"1px solid rgba(255,255,255,0.04)\", backdropFilter:\"blur(8px)\" }}>\n            <h2 style={{ color: THEME.text, fontSize:28, fontWeight:800 }}>All done 🎉</h2>\n            <p style={{ color: THEME.muted, marginTop:10 }}>You earned <strong style={{ color: THEME.text }}>{score}</strong> points. Thanks for playing!</p>\n            <div style={{ marginTop:18, display:\"flex\", justifyContent:\"center\" }}>\n              <button onClick={() => resetAll()} className=\"btn btn-primary\">Reset</button>\n            </div>\n          </div>\n        </motion.div>\n      )}</AnimatePresence>\n\n      <AnimatePresence>{showResponses && (\n        <motion.div initial={{ opacity:0 }} animate={{ opacity:1 }} exit={{ opacity:0 }} style={{ position:\"fixed\", inset:0, zIndex:95, display:\"flex\", alignItems:\"center\", justifyContent:\"center\", padding:22 }}>\n          <div style={{ width:\"min(820px,94%)\", padding:18, borderRadius:14, background:\"rgba(0,0,0,0.6)\", border:\"1px solid rgba(255,255,255,0.03)\", backdropFilter:\"blur(8px)\" }}>\n            <div style={{ display:\"flex\", justifyContent:\"space-between\", alignItems:\"center\" }}>\n              <h3 style={{ color: THEME.text, margin:0 }}>Your Responses</h3>\n              <button onClick={() => setShowResponses(false)} className=\"btn btn-ghost\" style={{ padding:\"8px 10px\" }}>Close</button>\n            </div>\n            <pre style={{ marginTop:12, maxHeight:\"60vh\", overflow:\"auto\", background:\"rgba(255,255,255,0.02)\", padding:12, borderRadius:8, color: THEME.text }}>{JSON.stringify(answers, null, 2)}</pre>\n            <div style={{ marginTop:12, display:\"flex\", justifyContent:\"flex-end\" }}>\n              <button onClick={() => { setShowResponses(false); resetAll(); }} className=\"btn btn-primary\">Restart</button>\n            </div>\n          </div>\n        </motion.div>\n      )}</AnimatePresence>\n\n      {videoPhase === \"failed\" && (\n        <div style={{ position:\"fixed\", left:0, right:0, bottom:28, display:\"flex\", justifyContent:\"center\", zIndex:110 }}>\n          <div style={{ padding:12, borderRadius:12, background:\"rgba(0,0,0,0.45)\", border:\"1px solid rgba(255,255,255,0.03)\", display:\"flex\", gap:12, alignItems:\"center\" }}>\n            <div style={{ color: THEME.text, fontWeight:700 }}>Video unavailable — using animated fallback</div>\n            <button onClick={() => retryVideos()} className=\"btn btn-primary\">Retry</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;;;;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,MAAM,EAAEC,eAAe,QAAQ,eAAe;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AANA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAQA,MAAMC,iBAAiB,GAAG,cAAc;AACxC,MAAMC,eAAe,GAAG,0EAA0E;AAElG,MAAMC,KAAK,GAAG;EACZC,MAAM,EAAE,SAAS;EACjBC,IAAI,EAAE,SAAS;EACfC,OAAO,EAAE,SAAS;EAClBC,EAAE,EAAE,SAAS;EACbC,KAAK,EAAE,mBAAmB;EAC1BC,IAAI,EAAE,SAAS;EACfC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,SAAS,GAAG,CAChB;EAAEC,EAAE,EAAE,OAAO;EAAEC,IAAI,EAAE,OAAO;EAAEC,KAAK,EAAE,uBAAuB;EAAEC,QAAQ,EAAE;AAA4D,CAAC,EACrI;EACEH,EAAE,EAAE,IAAI;EACRC,IAAI,EAAE,KAAK;EACXC,KAAK,EAAE,gCAAgC;EACvCE,OAAO,EAAE,CAAC,sBAAsB,EAAE,YAAY,EAAE,aAAa,EAAE,kBAAkB,CAAC;EAClFC,MAAM,EAAE;IAAE,sBAAsB,EAAE,EAAE;IAAE,YAAY,EAAE,EAAE;IAAE,aAAa,EAAE,EAAE;IAAE,kBAAkB,EAAE;EAAE,CAAC;EAClGC,MAAM,EAAE;AACV,CAAC,EACD;EACEN,EAAE,EAAE,IAAI;EACRC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,mCAAmC;EAC1CK,KAAK,EAAE,CAAC;EACRC,aAAa,EAAE,CAAC;EAChBF,MAAM,EAAE;AACV,CAAC,EACD;EACEN,EAAE,EAAE,IAAI;EACRC,IAAI,EAAE,MAAM;EACZC,KAAK,EAAE,mCAAmC;EAC1CO,SAAS,EAAE,GAAG;EACdJ,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE;AACV,CAAC,EACD;EACEN,EAAE,EAAE,IAAI;EACRC,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE,0CAA0C;EACjDQ,SAAS,EAAE,IAAI;EACfC,eAAe,EAAE,EAAE;EACnBL,MAAM,EAAE;AACV,CAAC,EACD;EACEN,EAAE,EAAE,IAAI;EACRC,IAAI,EAAE,KAAK;EACXC,KAAK,EAAE,6BAA6B;EACpCE,OAAO,EAAE,CAAC,cAAc,EAAE,cAAc,EAAE,gBAAgB,EAAE,WAAW,CAAC;EACxEC,MAAM,EAAE;IAAE,cAAc,EAAE,EAAE;IAAE,cAAc,EAAE,EAAE;IAAE,gBAAgB,EAAE,EAAE;IAAE,WAAW,EAAE;EAAE,CAAC;EACxFC,MAAM,EAAE,mCAAmC;EAC3CM,SAAS,EAAE;IAAEC,EAAE,EAAE;EAAuB;AAC1C,CAAC,EACD;EAAEb,EAAE,EAAE,KAAK;EAAEC,IAAI,EAAE,OAAO;EAAEC,KAAK,EAAE,cAAc;EAAEC,QAAQ,EAAE;AAAoE,CAAC,CACnI;AAED,SAASW,IAAIA,CAACC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAAE,OAAO,CAAC,CAAC,GAAGA,CAAC,IAAIF,CAAC,GAAGE,CAAC,GAAGD,CAAC;AAAE;AACrD,SAASE,QAAQA,CAACC,GAAG,EAAE;EACrB,MAAMC,CAAC,GAAGD,GAAG,CAACE,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;EAC9B,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,EAAE,CAAC,EAAED,QAAQ,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,EAAE,CAAC,EAAED,QAAQ,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;AACtG;;AAEA;AACA,SAASC,aAAaA,CAACC,MAAM,EAAE;EAC7B,IAAI,CAACA,MAAM,EAAE;EACb,MAAMC,GAAG,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;EACnC,MAAMC,CAAC,GAAIH,MAAM,CAACI,KAAK,GAAGC,MAAM,CAACC,UAAW;EAC5C,MAAMC,CAAC,GAAIP,MAAM,CAACQ,MAAM,GAAGH,MAAM,CAACI,WAAY;EAC9C,MAAMC,OAAO,GAAG,CAAC5C,KAAK,CAACC,MAAM,EAAED,KAAK,CAACE,IAAI,EAAEF,KAAK,CAACG,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC;EAC/E,MAAM0C,MAAM,GAAG,EAAE;EACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAE;IAC5BD,MAAM,CAACE,IAAI,CAAC;MACVC,CAAC,EAAEX,CAAC,GAAC,CAAC,GAAG,CAACY,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC,GAAG,IAAE,GAAG;MAChCC,CAAC,EAAEV,CAAC,GAAC,CAAC,GAAG,CAACQ,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC,GAAG,IAAE,EAAE;MAC/BE,EAAE,EAAE,CAACH,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC,GAAG,IAAE,EAAE;MAC1BG,EAAE,EAAE,CAACJ,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC,GAAG,IAAE,EAAE;MAC1BI,CAAC,EAAEL,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC;MACpBK,KAAK,EAAEX,OAAO,CAACK,IAAI,CAACO,KAAK,CAACP,IAAI,CAACC,MAAM,CAAC,CAAC,GAACN,OAAO,CAACa,MAAM,CAAC,CAAC;MACxDC,GAAG,EAAET,IAAI,CAACC,MAAM,CAAC,CAAC,GAACD,IAAI,CAACU,EAAE,GAAC,CAAC;MAC5BC,EAAE,EAAE,CAACX,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC,GAAG,IAAE,GAAG;MAC3BW,IAAI,EAAE,GAAG,GAAGZ,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC;IAC5B,CAAC,CAAC;EACJ;EACA,SAASY,KAAKA,CAAA,EAAG;IACf3B,GAAG,CAAC4B,SAAS,CAAC,CAAC,EAAC,CAAC,EAAC1B,CAAC,EAACI,CAAC,CAAC;IACtB,IAAIuB,KAAK,GAAG,KAAK;IACjB,KAAK,IAAIC,CAAC,IAAIpB,MAAM,EAAE;MACpB,IAAIoB,CAAC,CAACJ,IAAI,GAAG,CAAC,EAAE;QACdG,KAAK,GAAG,IAAI;QACZC,CAAC,CAACZ,EAAE,IAAI,GAAG;QACXY,CAAC,CAACjB,CAAC,IAAIiB,CAAC,CAACb,EAAE;QAAEa,CAAC,CAACd,CAAC,IAAIc,CAAC,CAACZ,EAAE;QAAEY,CAAC,CAACP,GAAG,IAAIO,CAAC,CAACL,EAAE;QACvCzB,GAAG,CAAC+B,IAAI,CAAC,CAAC;QACV/B,GAAG,CAACgC,SAAS,CAACF,CAAC,CAACjB,CAAC,EAACiB,CAAC,CAACd,CAAC,CAAC;QACtBhB,GAAG,CAACiC,MAAM,CAACH,CAAC,CAACP,GAAG,CAAC;QACjBvB,GAAG,CAACkC,SAAS,GAAGJ,CAAC,CAACV,KAAK;QACvBpB,GAAG,CAACmC,QAAQ,CAAC,CAACL,CAAC,CAACX,CAAC,GAAC,CAAC,EAAE,CAACW,CAAC,CAACX,CAAC,GAAC,CAAC,EAAEW,CAAC,CAACX,CAAC,EAAEW,CAAC,CAACX,CAAC,GAAG,GAAG,CAAC;QAC5CnB,GAAG,CAACoC,OAAO,CAAC,CAAC;QACbN,CAAC,CAACJ,IAAI,IAAI,CAAC;MACb;IACF;IACA,IAAIG,KAAK,EAAEQ,qBAAqB,CAACV,KAAK,CAAC,CAAC,KAAM3B,GAAG,CAAC4B,SAAS,CAAC,CAAC,EAAC,CAAC,EAAC1B,CAAC,EAACI,CAAC,CAAC;EACtE;EACAqB,KAAK,CAAC,CAAC;AACT;;AAEA;AACA,SAASW,eAAeA,CAAC;EAAEC,GAAG;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,OAAO;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACzE,MAAMC,GAAG,GAAGL,QAAQ,iBAAIvF,KAAK,CAAC6F,SAAS,CAAC,CAAC;EAEzC5F,SAAS,CAAC,MAAM;IACd,MAAM6F,CAAC,GAAGF,GAAG,CAACG,OAAO;IACrB,IAAI,CAACD,CAAC,EAAE;IACRA,CAAC,CAAC3E,KAAK,GAAG,IAAI;IACd2E,CAAC,CAACE,WAAW,GAAG,IAAI;IACpBF,CAAC,CAACG,OAAO,GAAG,MAAM;IAClB,MAAMpB,CAAC,GAAGiB,CAAC,CAACI,IAAI,IAAIJ,CAAC,CAACI,IAAI,CAAC,CAAC;IAC5B,IAAIrB,CAAC,IAAIA,CAAC,CAACsB,KAAK,EAAEtB,CAAC,CAACsB,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IACnC,IAAIC,KAAK,GAAG,KAAK;IACjB,MAAMC,SAAS,GAAGA,CAAA,KAAM;MAAE,IAAGD,KAAK,EAAE;MAAQA,KAAK,GAAG,IAAI;MAAEZ,OAAO,IAAIA,OAAO,CAAC,CAAC;IAAE,CAAC;IACjF,MAAMc,SAAS,GAAIC,CAAC,IAAK;MAAE,IAAGH,KAAK,EAAE;MAAQA,KAAK,GAAG,IAAI;MAAEX,OAAO,IAAIA,OAAO,CAACc,CAAC,CAAC;IAAE,CAAC;IACnF,MAAMC,SAAS,GAAGA,CAAA,KAAMH,SAAS,CAAC,CAAC;IACnC,MAAMI,KAAK,GAAIF,CAAC,IAAK;MAAEG,OAAO,CAACC,IAAI,CAAC,qBAAqB,EAAEJ,CAAC,CAAC;MAAED,SAAS,CAACC,CAAC,CAAC;IAAE,CAAC;IAC9ET,CAAC,CAACc,gBAAgB,CAAC,gBAAgB,EAAEJ,SAAS,CAAC;IAC/CV,CAAC,CAACc,gBAAgB,CAAC,SAAS,EAAEJ,SAAS,CAAC;IACxCV,CAAC,CAACc,gBAAgB,CAAC,YAAY,EAAEJ,SAAS,CAAC;IAC3CV,CAAC,CAACc,gBAAgB,CAAC,gBAAgB,EAAEJ,SAAS,CAAC;IAC/CV,CAAC,CAACc,gBAAgB,CAAC,OAAO,EAAEH,KAAK,CAAC;IAClCX,CAAC,CAACc,gBAAgB,CAAC,OAAO,EAAEJ,SAAS,CAAC;IACtC,MAAMK,MAAM,GAAGC,UAAU,CAAC,MAAM;MAAE,IAAG,CAACV,KAAK,EAAEE,SAAS,CAAC,IAAIS,KAAK,CAAC,eAAe,CAAC,CAAC;IAAE,CAAC,EAAE,IAAI,CAAC;IAC5F,OAAO,MAAM;MACXjB,CAAC,CAACkB,mBAAmB,CAAC,gBAAgB,EAAER,SAAS,CAAC;MAClDV,CAAC,CAACkB,mBAAmB,CAAC,SAAS,EAAER,SAAS,CAAC;MAC3CV,CAAC,CAACkB,mBAAmB,CAAC,YAAY,EAAER,SAAS,CAAC;MAC9CV,CAAC,CAACkB,mBAAmB,CAAC,gBAAgB,EAAER,SAAS,CAAC;MAClDV,CAAC,CAACkB,mBAAmB,CAAC,OAAO,EAAEP,KAAK,CAAC;MACrCX,CAAC,CAACkB,mBAAmB,CAAC,OAAO,EAAER,SAAS,CAAC;MACzCS,YAAY,CAACJ,MAAM,CAAC;IACtB,CAAC;EACH,CAAC,EAAE,CAACvB,GAAG,EAAEE,OAAO,EAAEC,OAAO,EAAEC,WAAW,EAAEH,QAAQ,EAAEK,GAAG,CAAC,CAAC;EAEvD,oBACErF,OAAA;IAEEqF,GAAG,EAAEL,QAAS;IACdD,GAAG,EAAEA,GAAI;IACTnE,KAAK;IACL+F,IAAI;IACJlB,WAAW;IACXmB,QAAQ;IACRlB,OAAO,EAAC,MAAM;IACdmB,KAAK,EAAE;MAAEC,QAAQ,EAAE,OAAO;MAAEC,KAAK,EAAE,CAAC;MAAEpE,KAAK,EAAE,MAAM;MAAEI,MAAM,EAAE,MAAM;MAAEiE,SAAS,EAAE,OAAO;MAAEC,MAAM,EAAE,CAAC,EAAE;MAAEC,aAAa,EAAE;IAAO;EAAE,GARzH/B,WAAW;IAAAgC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OASjB,CAAC;AAEN;;AAEA;AAAAlC,EAAA,CAjDSN,eAAe;AAAAyC,EAAA,GAAfzC,eAAe;AAkDxB,SAAS0C,wBAAwBA,CAAA,EAAG;EAClC,oBACExH,OAAA,CAAAE,SAAA;IAAAuH,QAAA,gBACEzH,OAAA;MAAK0H,SAAS,EAAC;IAAuC;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACzDtH,OAAA;MAAK0H,SAAS,EAAC,uDAAuD;MAACb,KAAK,EAAE;QAAEc,OAAO,EAAE;MAAK,CAAE;MAACC,KAAK,EAAC,4BAA4B;MAAAH,QAAA,gBACjIzH,OAAA;QAAQc,EAAE,EAAC,OAAO;QAAA2G,QAAA,eAACzH,OAAA;UAAc6H,aAAa,EAAC,KAAK;UAACC,UAAU,EAAC,GAAG;UAACC,WAAW,EAAC;QAAQ;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACpGtH,OAAA;QAAM2C,KAAK,EAAC,MAAM;QAACI,MAAM,EAAC,MAAM;QAACiF,MAAM,EAAC;MAAa;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD,CAAC,eACNtH,OAAA;MAAAyH,QAAA,EAAQ;AACd;AACA,gDAAgDpH,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACE,IAAI,KAAKF,KAAK,CAACG,OAAO;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAA2G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA,eACV,CAAC;AAEP;;AAEA;AAAAW,GAAA,GAxBST,wBAAwB;AAyBjC,SAASU,cAAcA,CAAC;EAAEC;AAAS,CAAC,EAAE;EACpC,oBACEnI,OAAA;IAAK0H,SAAS,EAAC,yEAAyE;IAAAD,QAAA,gBACtFzH,OAAA;MAAK6G,KAAK,EAAE;QAAElE,KAAK,EAAE,gBAAgB;QAAEyF,OAAO,EAAE,EAAE;QAAEC,SAAS,EAAE;MAAS,CAAE;MAAAZ,QAAA,gBACxEzH,OAAA;QAAK6G,KAAK,EAAE;UAAEjD,KAAK,EAAEvD,KAAK,CAACM,IAAI;UAAE2H,UAAU,EAAE,GAAG;UAAEC,YAAY,EAAE;QAAG,CAAE;QAAAd,QAAA,EAAC;MAAwB;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACpGtH,OAAA;QAAK6G,KAAK,EAAE;UAAEC,QAAQ,EAAE,UAAU;UAAE/D,MAAM,EAAE,EAAE;UAAEJ,KAAK,EAAE,MAAM;UAAE6F,YAAY,EAAE,EAAE;UAAEC,QAAQ,EAAE,QAAQ;UAAEC,UAAU,EAAE;QAAyB,CAAE;QAAAjB,QAAA,gBAC1IzH,OAAA;UAAK0H,SAAS,EAAC,aAAa;UAACb,KAAK,EAAE;YAAElE,KAAK,EAAE,GAAGwF,QAAQ,GAAG;YAAEpF,MAAM,EAAE,MAAM;YAAE4F,UAAU,EAAE;UAAuC;QAAE;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACrItH,OAAA;UAAK0H,SAAS,EAAC;QAAgB;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC,eACNtH,OAAA;QAAK6G,KAAK,EAAE;UAAE+B,SAAS,EAAE,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,eAAe;UAAElF,KAAK,EAAEvD,KAAK,CAACO,KAAK;UAAEmI,QAAQ,EAAE;QAAG,CAAE;QAAAtB,QAAA,gBAChHzH,OAAA;UAAAyH,QAAA,GAAMnE,IAAI,CAAC0F,KAAK,CAACb,QAAQ,CAAC,EAAC,GAAC;QAAA;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAClCtH,OAAA;UAAAyH,QAAA,EAAK;QAAe;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNtH,OAAA;MAAAyH,QAAA,EAAQ;AACd,4DAA4DpH,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACE,IAAI;AACvF;AACA;AACA;IAAO;MAAA4G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAAC2B,GAAA,GArBQf,cAAc;AAuBvB,SAASgB,YAAYA,CAAA,EAAE;EAAAC,GAAA;EACrB,MAAMC,MAAM,GAAGxJ,MAAM,CAAC,IAAI,CAAC;IAAEyJ,OAAO,GAAGzJ,MAAM,CAAC,IAAI,CAAC;EACnD,MAAM0J,GAAG,GAAG1J,MAAM,CAAC;IAAEyD,CAAC,EAAE,OAAOT,MAAM,KAAK,WAAW,GAAGA,MAAM,CAACC,UAAU,GAAC,CAAC,GAAG,CAAC;IAAEW,CAAC,EAAE,OAAOZ,MAAM,KAAK,WAAW,GAAGA,MAAM,CAACI,WAAW,GAAC,CAAC,GAAG;EAAC,CAAC,CAAC;EAC9I,MAAMuG,KAAK,GAAG3J,MAAM,CAAC,KAAK,CAAC;IAAE4J,GAAG,GAAG5J,MAAM,CAAC,IAAI,CAAC;EAC/CF,SAAS,CAAC,MAAM;IACd,MAAM+J,GAAG,GAAGL,MAAM,CAAC5D,OAAO;MAAEkE,IAAI,GAAGL,OAAO,CAAC7D,OAAO;IAClD,IAAG,CAACiE,GAAG,IAAI,CAACC,IAAI,EAAE;IAClB,SAASC,EAAEA,CAAC3D,CAAC,EAAC;MAAEsD,GAAG,CAAC9D,OAAO,CAACnC,CAAC,GAAG2C,CAAC,CAAC4D,OAAO;MAAEN,GAAG,CAAC9D,OAAO,CAAChC,CAAC,GAAGwC,CAAC,CAAC6D,OAAO;IAAE;IACtE,SAASC,WAAWA,CAAC9D,CAAC,EAAC;MAAE,MAAM+D,CAAC,GAAG/D,CAAC,CAACgE,MAAM;MAAET,KAAK,CAAC/D,OAAO,GAAG,CAAC,EAAEuE,CAAC,CAACE,OAAO,IAAIF,CAAC,CAACE,OAAO,CAAC,6CAA6C,CAAC,CAAC;IAAE;IACxIrH,MAAM,CAACyD,gBAAgB,CAAC,WAAW,EAAEsD,EAAE,CAAC;IAAE/G,MAAM,CAACyD,gBAAgB,CAAC,WAAW,EAAEyD,WAAW,CAAC;IAC3F,IAAII,EAAE,GAAGZ,GAAG,CAAC9D,OAAO,CAACnC,CAAC;MAAE8G,EAAE,GAAGb,GAAG,CAAC9D,OAAO,CAAChC,CAAC;MAAEnC,KAAK,GAAG,CAAC;IACrD,SAASsF,IAAIA,CAAA,EAAE;MACbuD,EAAE,GAAGtI,IAAI,CAACsI,EAAE,EAAEZ,GAAG,CAAC9D,OAAO,CAACnC,CAAC,EAAE,IAAI,CAAC;MAAE8G,EAAE,GAAGvI,IAAI,CAACuI,EAAE,EAAEb,GAAG,CAAC9D,OAAO,CAAChC,CAAC,EAAE,IAAI,CAAC;MACtEiG,GAAG,CAAC5C,KAAK,CAACuD,SAAS,GAAG,eAAeF,EAAE,GAAC,CAAC,OAAOC,EAAE,GAAC,CAAC,QAAQ;MAC5D,MAAME,EAAE,GAAGzI,IAAI,CAAC0I,UAAU,CAACZ,IAAI,CAACa,OAAO,CAAClH,CAAC,IAAI6G,EAAE,CAAC,EAAEA,EAAE,EAAE,IAAI,CAAC;MAC3D,MAAMM,EAAE,GAAG5I,IAAI,CAAC0I,UAAU,CAACZ,IAAI,CAACa,OAAO,CAAC/G,CAAC,IAAI2G,EAAE,CAAC,EAAEA,EAAE,EAAE,IAAI,CAAC;MAC3DT,IAAI,CAACa,OAAO,CAAClH,CAAC,GAAGgH,EAAE;MAAEX,IAAI,CAACa,OAAO,CAAC/G,CAAC,GAAGgH,EAAE;MACxCnJ,KAAK,GAAGO,IAAI,CAACP,KAAK,EAAEkI,KAAK,CAAC/D,OAAO,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC;MAClDkE,IAAI,CAAC7C,KAAK,CAACuD,SAAS,GAAG,eAAeC,EAAE,GAAC,EAAE,OAAOG,EAAE,GAAC,EAAE,gBAAgBnJ,KAAK,GAAG;MAC/EmI,GAAG,CAAChE,OAAO,GAAGX,qBAAqB,CAAC8B,IAAI,CAAC;IAC3C;IACA6C,GAAG,CAAChE,OAAO,GAAGX,qBAAqB,CAAC8B,IAAI,CAAC;IACzC,OAAO,MAAM;MAAE/D,MAAM,CAAC6D,mBAAmB,CAAC,WAAW,EAAEkD,EAAE,CAAC;MAAE/G,MAAM,CAAC6D,mBAAmB,CAAC,WAAW,EAAEqD,WAAW,CAAC;MAAEW,oBAAoB,CAACjB,GAAG,CAAChE,OAAO,CAAC;IAAE,CAAC;EACxJ,CAAC,EAAE,EAAE,CAAC;EACN9F,SAAS,CAAC,MAAM;IAAEgL,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC;IAAE,OAAO,MAAMH,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,oBAAoB,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EACpK,oBAAO9K,OAAA,CAAAE,SAAA;IAAAuH,QAAA,gBACLzH,OAAA;MAAKqF,GAAG,EAAEgE,OAAQ;MAACxC,KAAK,EAAE;QAAEC,QAAQ,EAAC,OAAO;QAAEiE,IAAI,EAAC,CAAC;QAAEC,GAAG,EAAC,CAAC;QAAErI,KAAK,EAAC,EAAE;QAAEI,MAAM,EAAC,EAAE;QAAEyF,YAAY,EAAC,IAAI;QAAEyC,MAAM,EAAC,oCAAoC;QAAE/D,aAAa,EAAC,MAAM;QAAED,MAAM,EAAC;MAAO;IAAE;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3LtH,OAAA;MAAKqF,GAAG,EAAE+D,MAAO;MAACvC,KAAK,EAAE;QAAEC,QAAQ,EAAC,OAAO;QAAEiE,IAAI,EAAC,CAAC;QAAEC,GAAG,EAAC,CAAC;QAAErI,KAAK,EAAC,EAAE;QAAEI,MAAM,EAAC,EAAE;QAAEyF,YAAY,EAAC,IAAI;QAAEE,UAAU,EAAC,gDAAgD;QAAExB,aAAa,EAAC,MAAM;QAAED,MAAM,EAAC;MAAO;IAAE;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1MtH,OAAA;MAAAyH,QAAA,EAAQ;IAAyE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA,eAC1F,CAAC;AACL;AAAC6B,GAAA,CA9BQD,YAAY;AAAAgC,GAAA,GAAZhC,YAAY;AAgCrB,SAASiC,QAAQA,CAAC;EAAE3J,SAAS,GAAG,IAAI;EAAE4J,UAAU;EAAEhK;AAAO,CAAC,EAAE;EAAAiK,GAAA;EAC1D,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG5L,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM6L,SAAS,GAAG5L,MAAM,CAAC,CAAC,CAAC;IAAE6L,OAAO,GAAG7L,MAAM,CAAC,KAAK,CAAC;IAAE4J,GAAG,GAAG5J,MAAM,CAAC,IAAI,CAAC;IAAE8L,MAAM,GAAG9L,MAAM,CAAC,CAAC,CAAC;EAC5FF,SAAS,CAAC,MAAM,MAAM+K,oBAAoB,CAACjB,GAAG,CAAChE,OAAO,CAAC,EAAE,EAAE,CAAC;EAC5D,SAASmG,KAAKA,CAAA,EAAE;IAAE,IAAGF,OAAO,CAACjG,OAAO,EAAE;IAAQiG,OAAO,CAACjG,OAAO,GAAG,IAAI;IAAEkG,MAAM,CAAClG,OAAO,GAAG,CAAC;IAAEgG,SAAS,CAAChG,OAAO,GAAGoG,WAAW,CAACC,GAAG,CAAC,CAAC;IAAEC,IAAI,CAAC,CAAC;EAAE;EACzI,SAASA,IAAIA,CAAA,EAAE;IAAEtC,GAAG,CAAChE,OAAO,GAAGX,qBAAqB,CAAC,MAAI;MAAE,MAAMkH,OAAO,GAAGH,WAAW,CAACC,GAAG,CAAC,CAAC,GAAGL,SAAS,CAAChG,OAAO;MAAE,MAAMwG,IAAI,GAAG1I,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAE3I,IAAI,CAAC0F,KAAK,CAAE+C,OAAO,GAACvK,SAAS,GAAE,GAAG,CAAC,CAAC;MAAE,MAAM0K,KAAK,GAAG5I,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAED,IAAI,GAAGN,MAAM,CAAClG,OAAO,CAAC;MAAE+F,SAAS,CAACW,KAAK,CAAC;MAAE,IAAGA,KAAK,IAAE,GAAG,EAAC;QAAET,OAAO,CAACjG,OAAO,GAAC,KAAK;QAAEiF,oBAAoB,CAACjB,GAAG,CAAChE,OAAO,CAAC;QAAE4F,UAAU,CAAC,IAAI,CAAC;QAAE;MAAQ;MAAE,IAAGW,OAAO,IAAEvK,SAAS,EAAC;QAAEiK,OAAO,CAACjG,OAAO,GAAC,KAAK;QAAEiF,oBAAoB,CAACjB,GAAG,CAAChE,OAAO,CAAC;QAAE4F,UAAU,CAACc,KAAK,IAAE,EAAE,CAAC;QAAE;MAAQ;MAAEJ,IAAI,CAAC,CAAC;IAAE,CAAC,CAAC;EAAE;EAC9d,SAASK,SAASA,CAAA,EAAE;IAAE,IAAG,CAACV,OAAO,CAACjG,OAAO,EAAEmG,KAAK,CAAC,CAAC,CAAC,KAAM;MAAED,MAAM,CAAClG,OAAO,GAAGlC,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAEP,MAAM,CAAClG,OAAO,GAAC,EAAE,CAAC;MAAE+F,SAAS,CAACa,CAAC,IAAE9I,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAACG,CAAC,GAAC,EAAE,CAAC,CAAC;IAAE;EAAE;EAClJ,oBACEpM,OAAA;IAAK6G,KAAK,EAAE;MAAEgC,OAAO,EAAC,MAAM;MAAEwD,aAAa,EAAC,QAAQ;MAAEC,UAAU,EAAC,QAAQ;MAAEC,GAAG,EAAC;IAAG,CAAE;IAAA9E,QAAA,gBAClFzH,OAAA;MAAK6G,KAAK,EAAE;QAAEjD,KAAK,EAAEvD,KAAK,CAACO;MAAM,CAAE;MAAA6G,QAAA,EAAErG;IAAM;MAAA+F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAClDtH,OAAA,CAACH,MAAM,CAAC2M,GAAG;MAACC,OAAO,EAAEN,SAAU;MAACO,QAAQ,EAAE;QAACrL,KAAK,EAAC;MAAI,CAAE;MAACsL,UAAU,EAAE;QAACtL,KAAK,EAAC;MAAI,CAAE;MAACwF,KAAK,EAAE;QAAElE,KAAK,EAAC,GAAG;QAAEI,MAAM,EAAC,GAAG;QAAEyF,YAAY,EAAC,GAAG;QAAEK,OAAO,EAAC,MAAM;QAAEyD,UAAU,EAAC,QAAQ;QAAExD,cAAc,EAAC,QAAQ;QAAEJ,UAAU,EAAC,2BAA2BrI,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACG,OAAO,GAAG;QAAEoM,SAAS,EAAC,mCAAmC;QAAEC,MAAM,EAAC;MAAU,CAAE;MAAApF,QAAA,eAC3UzH,OAAA;QAAK6G,KAAK,EAAE;UAAEjD,KAAK,EAAC,MAAM;UAAE0E,UAAU,EAAC;QAAI,CAAE;QAAAb,QAAA,EAAC;MAAG;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C,CAAC,eACbtH,OAAA;MAAK6G,KAAK,EAAE;QAAElE,KAAK,EAAE;MAAkB,CAAE;MAAA8E,QAAA,gBACvCzH,OAAA;QAAK6G,KAAK,EAAE;UAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;UAAE2H,YAAY,EAAC;QAAE,CAAE;QAAAd,QAAA,GAAC,UAAQ,EAAC6D,MAAM,EAAC,GAAC;MAAA;QAAAnE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC3EtH,OAAA;QAAK6G,KAAK,EAAE;UAAE9D,MAAM,EAAC,EAAE;UAAEJ,KAAK,EAAC,MAAM;UAAE6F,YAAY,EAAC,CAAC;UAAEE,UAAU,EAAC,wBAAwB;UAAED,QAAQ,EAAC;QAAS,CAAE;QAAAhB,QAAA,eAC9GzH,OAAA,CAACH,MAAM,CAAC2M,GAAG;UAACM,OAAO,EAAE;YAAEnK,KAAK,EAAE,GAAG2I,MAAM;UAAI,CAAE;UAAC3C,UAAU,EAAE;YAAE5H,IAAI,EAAC,QAAQ;YAAEgM,SAAS,EAAC,GAAG;YAAEC,OAAO,EAAC;UAAG,CAAE;UAACnG,KAAK,EAAE;YAAE9D,MAAM,EAAC,MAAM;YAAE2F,UAAU,EAAC,0BAA0BrI,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACE,IAAI;UAAI;QAAE;UAAA4G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;;AAEA;AAAA+D,GAAA,CAvBSF,QAAQ;AAAA8B,GAAA,GAAR9B,QAAQ;AAwBjB,eAAe,SAAS+B,kBAAkBA,CAAA,EAAG;EAAAC,GAAA;EAC3C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG1N,QAAQ,CAAC,MAAM;IAAE,IAAI;MAAE,MAAMgE,CAAC,GAAG2J,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAAC;MAAE,OAAO5J,CAAC,GAAC6J,IAAI,CAACC,KAAK,CAAC9J,CAAC,CAAC,GAAC,CAAC,CAAC;IAAC,CAAC,CAAC,MAAM;MAAE,OAAO,CAAC,CAAC;IAAE;EAAE,CAAC,CAAC;EACjK,MAAM,CAAC+J,KAAK,EAAEC,QAAQ,CAAC,GAAGhO,QAAQ,CAAC,MAAMiO,MAAM,CAACN,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,CAAC;EAClG,MAAM,CAACM,WAAW,EAAEC,cAAc,CAAC,GAAGnO,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACoO,YAAY,EAAEC,eAAe,CAAC,GAAGrO,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACsO,UAAU,EAAEC,aAAa,CAAC,GAAGvO,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;EACvD,MAAM,CAACwO,QAAQ,EAAEC,WAAW,CAAC,GAAGzO,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAAC0O,eAAe,EAAEC,kBAAkB,CAAC,GAAG3O,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAAC4O,QAAQ,EAAEC,WAAW,CAAC,GAAG7O,QAAQ,CAACQ,iBAAiB,CAAC;EAC3D,MAAM,CAACsO,aAAa,EAAEC,gBAAgB,CAAC,GAAG/O,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACgP,UAAU,EAAEC,aAAa,CAAC,GAAGjP,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMqF,QAAQ,GAAGpF,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMiP,SAAS,GAAGjP,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMkP,WAAW,GAAGlP,MAAM,CAAC,IAAI,CAAC;EAEhCF,SAAS,CAAC,MAAM4N,YAAY,CAACyB,OAAO,CAAC,uBAAuB,EAAEvB,IAAI,CAACwB,SAAS,CAAC5B,OAAO,CAAC,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAClG1N,SAAS,CAAC,MAAM4N,YAAY,CAACyB,OAAO,CAAC,qBAAqB,EAAEE,MAAM,CAACvB,KAAK,CAAC,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEpF,MAAMwB,OAAO,GAAGrO,SAAS,CAACmH,MAAM,CAACmH,CAAC,IAAI;IAAE,IAAG,CAACA,CAAC,CAACzN,SAAS,EAAE,OAAO,IAAI;IAAE,OAAO0N,MAAM,CAACC,IAAI,CAACF,CAAC,CAACzN,SAAS,CAAC,CAAC4N,KAAK,CAACC,CAAC,IAAInC,OAAO,CAACmC,CAAC,CAAC,KAAKJ,CAAC,CAACzN,SAAS,CAAC6N,CAAC,CAAC,CAAC;EAAE,CAAC,CAAC;;EAEnJ;EACA,MAAM,CAACxM,MAAM,EAAEyM,SAAS,CAAC,GAAG7P,QAAQ,CAAC,OAAOiD,MAAM,KAAG,WAAW,GAACA,MAAM,CAACI,WAAW,GAAC,GAAG,CAAC;EACxFtD,SAAS,CAAC,MAAI;IAAE,SAAS+P,QAAQA,CAAA,EAAE;MAAED,SAAS,CAAC5M,MAAM,CAACI,WAAW,CAAC;IAAE;IAAEJ,MAAM,CAACyD,gBAAgB,CAAC,QAAQ,EAAEoJ,QAAQ,CAAC;IAAE,OAAO,MAAI7M,MAAM,CAAC6D,mBAAmB,CAAC,QAAQ,EAAEgJ,QAAQ,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EAEpL/P,SAAS,CAAC,MAAI;IAAE,MAAMgQ,YAAY,GAAGhF,QAAQ,CAACC,eAAe,CAAC9D,KAAK,CAAC4B,QAAQ;IAAE,MAAMkH,SAAS,GAAGjF,QAAQ,CAACkF,IAAI,CAAC/I,KAAK,CAACgJ,WAAW;IAAEnF,QAAQ,CAACC,eAAe,CAAC9D,KAAK,CAAC4B,QAAQ,GAAG,QAAQ;IAAEiC,QAAQ,CAACkF,IAAI,CAAC/I,KAAK,CAACgJ,WAAW,GAAG,MAAM;IAAE,OAAO,MAAI;MAAEnF,QAAQ,CAACC,eAAe,CAAC9D,KAAK,CAAC4B,QAAQ,GAAGiH,YAAY;MAAEhF,QAAQ,CAACkF,IAAI,CAAC/I,KAAK,CAACgJ,WAAW,GAAGF,SAAS;IAAE,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;;EAE1V;EACA,MAAMG,YAAY,GAAGlQ,MAAM,CAAC,IAAI,CAAC;EACjC,MAAMmQ,WAAW,GAAGnQ,MAAM,CAAC,EAAE,CAAC;EAC9BmQ,WAAW,CAACvK,OAAO,GAAG,EAAE;EACxB,MAAMwK,aAAa,GAAGC,EAAE,IAAI;IAAE,IAAGA,EAAE,EAAEF,WAAW,CAACvK,OAAO,CAACpC,IAAI,CAAC6M,EAAE,CAAC;EAAE,CAAC;;EAEpE;EACA,MAAMC,OAAO,GAAGtQ,MAAM,CAAC,CAAC,CAAC;IAAEuQ,QAAQ,GAAGvQ,MAAM,CAAC,CAAC,CAAC;IAAEwQ,MAAM,GAAGxQ,MAAM,CAAC,IAAI,CAAC;EACtE,MAAMyQ,WAAW,GAAGzQ,MAAM,CAAC,CAAC,CAAC;IAAE0Q,WAAW,GAAG1Q,MAAM,CAAC,KAAK,CAAC;EAC1D,MAAM2Q,UAAU,GAAG,EAAE;IAAEC,SAAS,GAAG,IAAI;IAAEC,SAAS,GAAG,IAAI;EACzD,MAAM5D,MAAM,GAAGjN,MAAM,CAAC;IAAEyD,CAAC,EAAE,OAAOT,MAAM,KAAG,WAAW,GAACA,MAAM,CAACC,UAAU,GAAC,CAAC,GAAC,CAAC;IAAEW,CAAC,EAAE,OAAOZ,MAAM,KAAG,WAAW,GAACA,MAAM,CAACI,WAAW,GAAC,CAAC,GAAC,CAAC;IAAE0N,MAAM,EAAC;EAAM,CAAC,CAAC;EACpJ,MAAMC,gBAAgB,GAAG/Q,MAAM,CAAC,CAAC,CAAC;EAClC,MAAMgR,KAAK,GAAGhR,MAAM,CAAC,IAAI,CAAC;EAC1B,MAAMiR,cAAc,GAAGjR,MAAM,CAAC,CAAC,CAAC;EAChC,MAAM,CAACkR,WAAW,EAAEC,cAAc,CAAC,GAAGpR,QAAQ,CAAC,CAAC,CAAC;;EAEjD;EACA,MAAM,CAACqR,SAAS,EAAEC,YAAY,CAAC,GAAGtR,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAMuR,YAAY,GAAGtR,MAAM,CAAC,CAAC,CAAC;;EAE9B;EACA,MAAMuR,UAAU,GAAGvR,MAAM,CAAC,CAAC,CAAC;EAC5B,MAAMwR,SAAS,GAAGxR,MAAM,CAAC,KAAK,CAAC;;EAE/B;EACAF,SAAS,CAAC,MAAM;IACd,IAAI8J,GAAG,GAAC,IAAI;IAAE,IAAI6H,GAAG,GAAC,CAAC;IACvB,SAASvF,IAAIA,CAAA,EAAE;MACbuF,GAAG,GAAG/N,IAAI,CAAC2I,GAAG,CAAC,EAAE,EAAEoF,GAAG,GAAG,CAAC,GAAG,GAAGA,GAAG,IAAI,IAAI,GAAG,GAAG,CAAC;MAClDrD,eAAe,CAACsD,IAAI,IAAIhO,IAAI,CAACiO,GAAG,CAACD,IAAI,EAAED,GAAG,CAAC,CAAC;MAC5C7H,GAAG,GAAG3E,qBAAqB,CAACiH,IAAI,CAAC;IACnC;IACAtC,GAAG,GAAG3E,qBAAqB,CAACiH,IAAI,CAAC;IACjC,OAAO,MAAKrB,oBAAoB,CAACjB,GAAG,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA9J,SAAS,CAAC,MAAM;IACd,IAAI6O,QAAQ,IAAIA,QAAQ,CAACiD,UAAU,CAAC,OAAO,CAAC,EAAE;MAAEtD,aAAa,CAAC,OAAO,CAAC;MAAEI,kBAAkB,CAAC,KAAK,CAAC;MAAE;IAAQ;IAC3G,IAAImD,SAAS,GAAG,KAAK;IACrB,eAAeC,UAAUA,CAAA,EAAG;MAC1B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACrD,QAAQ,EAAE;UAAEsD,MAAM,EAAE;QAAO,CAAC,CAAC;QACrD,IAAI,CAACJ,SAAS,IAAIE,GAAG,IAAIA,GAAG,CAACG,EAAE,EAAE;UAC/B3L,OAAO,CAAC4L,GAAG,CAAC,qBAAqB,CAAC;UAClC7D,aAAa,CAAC,OAAO,CAAC;UAAEI,kBAAkB,CAAC,KAAK,CAAC;UAAE;QACrD;QACAnI,OAAO,CAACC,IAAI,CAAC,gEAAgE,CAAC;QAC9E8H,aAAa,CAAC,OAAO,CAAC;QAAEI,kBAAkB,CAAC,IAAI,CAAC;MAClD,CAAC,CAAC,OAAO0D,GAAG,EAAE;QACZ7L,OAAO,CAACC,IAAI,CAAC,gDAAgD,EAAE4L,GAAG,CAAC;QACnE9D,aAAa,CAAC,QAAQ,CAAC;QAAEE,WAAW,CAACmB,CAAC,IAAIA,CAAC,GAAC,CAAC,CAAC;QAAEjB,kBAAkB,CAAC,IAAI,CAAC;QAAEE,WAAW,CAACpO,eAAe,CAAC;MACxG;IACF;IACAsR,UAAU,CAAC,CAAC;IACZ,OAAO,MAAK;MAAED,SAAS,GAAG,IAAI;IAAE,CAAC;EACnC,CAAC,EAAE,CAACtD,QAAQ,EAAEI,QAAQ,CAAC,CAAC;EAExB,SAAS0D,gBAAgBA,CAAA,EAAG;IAC1BjE,eAAe,CAAC,GAAG,CAAC;IACpBzH,UAAU,CAAC,MAAI;MAAEuH,cAAc,CAAC,IAAI,CAAC;MAAEI,aAAa,CAAC,OAAO,CAAC;MAAEI,kBAAkB,CAAC,KAAK,CAAC;IAAE,CAAC,EAAE,GAAG,CAAC;EACnG;EACA,SAAS4D,gBAAgBA,CAACF,GAAG,EAAE;IAC7B7L,OAAO,CAACC,IAAI,CAAC,uBAAuB,EAAE4L,GAAG,CAAC;IAC1C,IAAI/D,UAAU,KAAK,OAAO,EAAE;MAC1BC,aAAa,CAAC,QAAQ,CAAC;MACvBE,WAAW,CAACmB,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC;MACvBjB,kBAAkB,CAAC,IAAI,CAAC;MACxBE,WAAW,CAACpO,eAAe,CAAC;MAC5B;IACF;IACA,IAAI6N,UAAU,KAAK,QAAQ,EAAE;MAC3BC,aAAa,CAAC,QAAQ,CAAC;MACvBI,kBAAkB,CAAC,IAAI,CAAC;MACxBN,eAAe,CAAC,GAAG,CAAC;MACpBzH,UAAU,CAAC,MAAIuH,cAAc,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC;MACzC;IACF;EACF;EAEA,SAASqE,iBAAiBA,CAACnM,CAAC,EAAE;IAC5B,MAAMoM,CAAC,GAAGpM,CAAC,CAACgE,MAAM,CAACqI,KAAK,IAAIrM,CAAC,CAACgE,MAAM,CAACqI,KAAK,CAAC,CAAC,CAAC;IAC7C,IAAI,CAACD,CAAC,EAAE;IACR,MAAME,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACJ,CAAC,CAAC;IAClC5D,WAAW,CAAC8D,GAAG,CAAC;IAChBpE,aAAa,CAAC,OAAO,CAAC;IACtBE,WAAW,CAACmB,CAAC,IAAEA,CAAC,GAAC,CAAC,CAAC;IACnBzB,cAAc,CAAC,KAAK,CAAC;IACrBE,eAAe,CAAC,CAAC,CAAC;IAClBM,kBAAkB,CAAC,KAAK,CAAC;IACzBnI,OAAO,CAAC4L,GAAG,CAAC,uBAAuB,EAAEK,CAAC,CAACK,IAAI,CAAC;EAC9C;EACA,SAASC,WAAWA,CAAA,EAAG;IACrBxE,aAAa,CAAC,OAAO,CAAC;IACtBM,WAAW,CAACrO,iBAAiB,CAAC;IAC9BiO,WAAW,CAACmB,CAAC,IAAEA,CAAC,GAAC,CAAC,CAAC;IACnBjB,kBAAkB,CAAC,KAAK,CAAC;IACzBR,cAAc,CAAC,KAAK,CAAC;IACrBE,eAAe,CAAC,CAAC,CAAC;EACpB;;EAEA;EACAtO,SAAS,CAAC,MAAM;IACd,MAAMiT,UAAU,GAAG;MAAEpN,CAAC,EAAC;IAAM,CAAC;IAC9B,MAAMqN,WAAW,GAAG;MAAErN,CAAC,EAAC;IAAE,CAAC;IAC3B,MAAMsN,cAAc,GAAG;MAAEtN,CAAC,EAAC;IAAE,CAAC;IAE9B,SAASuN,cAAcA,CAAC3P,CAAC,EAAC;MAAE,OAAOG,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEjO,IAAI,CAAC2I,GAAG,CAAC9I,CAAC,EAAE+L,OAAO,CAACpL,MAAM,GAAG,CAAC,CAAC,CAAC;IAAE;IACjF,SAASiP,OAAOA,CAAC5P,CAAC,EAAC;MACjB,MAAM6P,OAAO,GAAGF,cAAc,CAAC3P,CAAC,CAAC;MACjC+N,YAAY,CAAC1L,OAAO,GAAGwN,OAAO;MAC9B/B,YAAY,CAAC+B,OAAO,CAAC;MACrB9C,OAAO,CAAC1K,OAAO,GAAGwN,OAAO,GAAGjQ,MAAM;MAClCsN,WAAW,CAAC7K,OAAO,GAAGoG,WAAW,CAACC,GAAG,CAAC,CAAC;MACvCyE,WAAW,CAAC9K,OAAO,GAAG,IAAI;IAC5B;;IAEA;IACA,SAASyN,OAAOA,CAACjN,CAAC,EAAC;MACjBA,CAAC,CAACkN,cAAc,CAAC,CAAC;MAClB;MACA,IAAI9B,SAAS,CAAC5L,OAAO,EAAE;MACvB2L,UAAU,CAAC3L,OAAO,IAAIQ,CAAC,CAACmN,MAAM;MAC9B;MACA,MAAMC,MAAM,GAAG,EAAE;MACjB,IAAI9P,IAAI,CAAC+P,GAAG,CAAClC,UAAU,CAAC3L,OAAO,CAAC,IAAI4N,MAAM,EAAE;QAC1C,MAAME,GAAG,GAAGnC,UAAU,CAAC3L,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC3CuN,OAAO,CAAC7B,YAAY,CAAC1L,OAAO,GAAG8N,GAAG,CAAC;QACnCnC,UAAU,CAAC3L,OAAO,GAAG,CAAC;QACtB4L,SAAS,CAAC5L,OAAO,GAAG,IAAI;QACxB;QACAe,UAAU,CAAC,MAAM;UAAE6K,SAAS,CAAC5L,OAAO,GAAG,KAAK;QAAE,CAAC,EAAE,GAAG,CAAC;MACvD;MACA6K,WAAW,CAAC7K,OAAO,GAAGoG,WAAW,CAACC,GAAG,CAAC,CAAC;IACzC;;IAEA;IACA,SAAS0H,YAAYA,CAACvN,CAAC,EAAC;MAAE4M,WAAW,CAACrN,CAAC,GAAGS,CAAC,CAACwN,OAAO,CAAC,CAAC,CAAC,CAAC3J,OAAO;MAAEgJ,cAAc,CAACtN,CAAC,GAAGqG,WAAW,CAACC,GAAG,CAAC,CAAC;MAAE8G,UAAU,CAACpN,CAAC,GAAG,IAAI;IAAE;IAC3H,SAASkO,WAAWA,CAACzN,CAAC,EAAC;MAAE,IAAG,CAAC2M,UAAU,CAACpN,CAAC,EAAE;MAAQ,MAAM/B,CAAC,GAAGwC,CAAC,CAACwN,OAAO,CAAC,CAAC,CAAC,CAAC3J,OAAO;MAAE,MAAM6J,KAAK,GAAGd,WAAW,CAACrN,CAAC,GAAG/B,CAAC;MAAEoP,WAAW,CAACrN,CAAC,GAAG/B,CAAC,CAAC,CAAC;IAAuD;IAC9L,SAASmQ,UAAUA,CAAC3N,CAAC,EAAC;MACpB,IAAG,CAAC2M,UAAU,CAACpN,CAAC,EAAE;MAClB,MAAMqO,OAAO,GAAGhI,WAAW,CAACC,GAAG,CAAC,CAAC;MACjC8G,UAAU,CAACpN,CAAC,GAAG,KAAK;MACpB,MAAMsO,KAAK,GAAI7N,CAAC,CAAC8N,cAAc,IAAI9N,CAAC,CAAC8N,cAAc,CAAC,CAAC,CAAC,IAAK,IAAI;MAC/D,IAAI,CAACD,KAAK,EAAE;MACZ;MACA;MACA;MACA;MACA,MAAMV,MAAM,GAAG,CAACP,WAAW,CAACrN,CAAC,IAAI,CAAC,IAAIsO,KAAK,CAAChK,OAAO;MACnD,MAAMkC,OAAO,GAAG6H,OAAO,GAAGf,cAAc,CAACtN,CAAC;MAC1C,MAAMwO,eAAe,GAAG,EAAE,CAAC,CAAC;MAC5B,IAAIzQ,IAAI,CAAC+P,GAAG,CAACF,MAAM,CAAC,GAAGY,eAAe,EAAE;QACtC,MAAMT,GAAG,GAAGH,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/BJ,OAAO,CAAC7B,YAAY,CAAC1L,OAAO,GAAG8N,GAAG,CAAC;MACrC;IACF;IAEA,SAASU,KAAKA,CAAChO,CAAC,EAAC;MACf,IAAI,CAAC,WAAW,EAAC,UAAU,EAAC,GAAG,CAAC,CAACiO,QAAQ,CAACjO,CAAC,CAACkO,GAAG,CAAC,EAAE;QAChDlO,CAAC,CAACkN,cAAc,CAAC,CAAC;QAClBH,OAAO,CAAC7B,YAAY,CAAC1L,OAAO,GAAG,CAAC,CAAC;MACnC,CAAC,MAAM,IAAI,CAAC,SAAS,EAAC,QAAQ,CAAC,CAACyO,QAAQ,CAACjO,CAAC,CAACkO,GAAG,CAAC,EAAE;QAC/ClO,CAAC,CAACkN,cAAc,CAAC,CAAC;QAClBH,OAAO,CAAC7B,YAAY,CAAC1L,OAAO,GAAG,CAAC,CAAC;MACnC;IACF;IAEA,MAAMyK,EAAE,GAAGH,YAAY,CAACtK,OAAO,IAAI5C,MAAM;IACzCqN,EAAE,CAAC5J,gBAAgB,CAAC,OAAO,EAAE4M,OAAO,EAAE;MAAEkB,OAAO,EAAC;IAAM,CAAC,CAAC;IACxDvR,MAAM,CAACyD,gBAAgB,CAAC,YAAY,EAAEkN,YAAY,EAAE;MAAEY,OAAO,EAAC;IAAM,CAAC,CAAC;IACtEvR,MAAM,CAACyD,gBAAgB,CAAC,WAAW,EAAEoN,WAAW,EAAE;MAAEU,OAAO,EAAC;IAAM,CAAC,CAAC;IACpEvR,MAAM,CAACyD,gBAAgB,CAAC,UAAU,EAAEsN,UAAU,CAAC;IAC/C/Q,MAAM,CAACyD,gBAAgB,CAAC,SAAS,EAAE2N,KAAK,CAAC;IAEzC,SAASI,SAASA,CAACpO,CAAC,EAAC;MAAE,MAAM6F,GAAG,GAAGD,WAAW,CAACC,GAAG,CAAC,CAAC;MAAE,IAAGA,GAAG,GAAG8E,gBAAgB,CAACnL,OAAO,GAAG,EAAE,EAAC;QAAEqH,MAAM,CAACrH,OAAO,CAACnC,CAAC,GAAG2C,CAAC,CAAC4D,OAAO;QAAEiD,MAAM,CAACrH,OAAO,CAAChC,CAAC,GAAGwC,CAAC,CAAC6D,OAAO;QAAEgD,MAAM,CAACrH,OAAO,CAACkL,MAAM,GAAG,IAAI;QAAEC,gBAAgB,CAACnL,OAAO,GAAGqG,GAAG;MAAE;IAAE;IAC3N,SAASwI,cAAcA,CAAA,EAAE;MAAExH,MAAM,CAACrH,OAAO,CAACkL,MAAM,GAAG,KAAK;IAAE;IAC1D,SAAS4D,aAAaA,CAACtO,CAAC,EAAC;MAAE,MAAMuO,EAAE,GAAGvO,CAAC,CAAC4D,OAAO;MAAE,MAAM4K,EAAE,GAAGxO,CAAC,CAAC6D,OAAO;MAAEgD,MAAM,CAACrH,OAAO,CAACnC,CAAC,GAAGkR,EAAE;MAAE1H,MAAM,CAACrH,OAAO,CAAChC,CAAC,GAAGgR,EAAE;MAAE,IAAI1F,WAAW,CAACtJ,OAAO,IAAIsJ,WAAW,CAACtJ,OAAO,CAACiP,WAAW,EAAE3F,WAAW,CAACtJ,OAAO,CAACiP,WAAW,CAACF,EAAE,EAAEC,EAAE,CAAC;IAAE;IAE1N5R,MAAM,CAACyD,gBAAgB,CAAC,aAAa,EAAE+N,SAAS,CAAC;IACjDxR,MAAM,CAACyD,gBAAgB,CAAC,YAAY,EAAEgO,cAAc,CAAC;IACrDzR,MAAM,CAACyD,gBAAgB,CAAC,aAAa,EAAEiO,aAAa,CAAC;IAErD,OAAO,MAAM;MACXrE,EAAE,CAACxJ,mBAAmB,CAAC,OAAO,EAAEwM,OAAO,CAAC;MACxCrQ,MAAM,CAAC6D,mBAAmB,CAAC,YAAY,EAAE8M,YAAY,CAAC;MACtD3Q,MAAM,CAAC6D,mBAAmB,CAAC,WAAW,EAAEgN,WAAW,CAAC;MACpD7Q,MAAM,CAAC6D,mBAAmB,CAAC,UAAU,EAAEkN,UAAU,CAAC;MAClD/Q,MAAM,CAAC6D,mBAAmB,CAAC,SAAS,EAAEuN,KAAK,CAAC;MAC5CpR,MAAM,CAAC6D,mBAAmB,CAAC,aAAa,EAAE2N,SAAS,CAAC;MACpDxR,MAAM,CAAC6D,mBAAmB,CAAC,YAAY,EAAE4N,cAAc,CAAC;MACxDzR,MAAM,CAAC6D,mBAAmB,CAAC,aAAa,EAAE6N,aAAa,CAAC;IAC1D,CAAC;EACH,CAAC,EAAE,CAACvR,MAAM,EAAEmM,OAAO,CAACpL,MAAM,CAAC,CAAC;;EAE5B;EACApE,SAAS,CAAC,MAAM;IACd,MAAM6C,MAAM,GAAGuM,WAAW,CAACtJ,OAAO;IAAE,IAAG,CAACjD,MAAM,EAAE;IAChD,MAAMC,GAAG,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;IACnC,IAAIC,CAAC,GAAGH,MAAM,CAACI,KAAK,GAAGC,MAAM,CAACC,UAAU;IACxC,IAAIC,CAAC,GAAGP,MAAM,CAACQ,MAAM,GAAGH,MAAM,CAACI,WAAW;IAC1C,MAAM0R,GAAG,GAAGpR,IAAI,CAAC2I,GAAG,CAACrJ,MAAM,CAAC+R,gBAAgB,IAAI,CAAC,EAAE,GAAG,CAAC;IACvDpS,MAAM,CAACI,KAAK,GAAGD,CAAC,GAAGgS,GAAG;IAAEnS,MAAM,CAACQ,MAAM,GAAGD,CAAC,GAAG4R,GAAG;IAAEnS,MAAM,CAACsE,KAAK,CAAClE,KAAK,GAAGD,CAAC,GAAG,IAAI;IAAEH,MAAM,CAACsE,KAAK,CAAC9D,MAAM,GAAGD,CAAC,GAAG,IAAI;IAAEN,GAAG,CAACnB,KAAK,CAACqT,GAAG,EAAEA,GAAG,CAAC;IAEnI,IAAIE,OAAO,GAAGhS,MAAM,CAACC,UAAU,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE;IAChD,IAAIgS,OAAO,GAAGjS,MAAM,CAACC,UAAU,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE;IAC/C,IAAIiS,IAAI,GAAGxR,IAAI,CAACyR,IAAI,CAACrS,CAAC,GAAGkS,OAAO,CAAC;MAAEI,IAAI,GAAG1R,IAAI,CAACyR,IAAI,CAACjS,CAAC,GAAG+R,OAAO,CAAC;IAChE,MAAMI,GAAG,GAAG,GAAG;IACf,IAAGH,IAAI,GAAGE,IAAI,GAAGC,GAAG,EAAC;MACnB,MAAMC,OAAO,GAAG5R,IAAI,CAAC6R,IAAI,CAAEL,IAAI,GAACE,IAAI,GAAEC,GAAG,CAAC;MAC1CL,OAAO,GAAGtR,IAAI,CAACyR,IAAI,CAACH,OAAO,GAAGM,OAAO,CAAC;MAAEL,OAAO,GAAGvR,IAAI,CAACyR,IAAI,CAACF,OAAO,GAAGK,OAAO,CAAC;MAC9EJ,IAAI,GAAGxR,IAAI,CAACyR,IAAI,CAACrS,CAAC,GAAGkS,OAAO,CAAC;MAAEI,IAAI,GAAG1R,IAAI,CAACyR,IAAI,CAACjS,CAAC,GAAG+R,OAAO,CAAC;IAC9D;IAEA,MAAMO,MAAM,GAAG,EAAE;IACjB,KAAI,IAAIzR,CAAC,GAAC,CAAC,EAACA,CAAC,GAACqR,IAAI,EAACrR,CAAC,EAAE,EAAC;MACrB,KAAI,IAAIyI,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC0I,IAAI,EAAC1I,CAAC,EAAE,EAAC;QACrB,MAAM/I,CAAC,GAAG+I,CAAC,GAAGwI,OAAO,IAAIjR,CAAC,GAAC,CAAC,GAAGiR,OAAO,GAAC,CAAC,GAAG,CAAC,CAAC;UAAEpR,CAAC,GAAGG,CAAC,GAAGkR,OAAO;QAC9D,MAAM3K,EAAE,GAAG7G,CAAC,GAAGuR,OAAO,GAAC,CAAC;UAAEzK,EAAE,GAAG3G,CAAC,GAAGqR,OAAO,GAAC,CAAC;QAC5CO,MAAM,CAAChS,IAAI,CAAC;UAAEC,CAAC;UAAEG,CAAC;UAAE6R,CAAC,EAAET,OAAO;UAAE1S,CAAC,EAAE2S,OAAO;UAAES,KAAK,EAAEjS,CAAC;UAAEkS,KAAK,EAAE/R,CAAC;UAAE0G,EAAE;UAAEC,EAAE;UAAEqL,GAAG,EAAC,CAAC;UAAE9R,EAAE,EAAC,CAAC;UAAE+R,KAAK,EAAEnS,IAAI,CAACC,MAAM,CAAC,CAAC,GAACD,IAAI,CAACU,EAAE,GAAC,CAAC;UAAE0R,OAAO,EAAC,KAAK;UAAEC,KAAK,EAAC,CAAC;UAAEC,MAAM,EAAC,CAAC;UAAEjO,OAAO,EAAC,CAAC;UAAEkO,IAAI,EAAC,KAAK;UAAElS,CAAC;UAAEyI;QAAE,CAAC,CAAC;MACvL;IACF;IAEA7J,MAAM,CAACkS,WAAW,GAAG,UAASF,EAAE,EAAEC,EAAE,EAAC;MACnC,IAAIsB,OAAO,GAAG,IAAI;MAAE,IAAIC,IAAI,GAAGC,QAAQ;MACvC,KAAK,IAAIlU,CAAC,IAAIsT,MAAM,EAAE;QACpB,IAAItT,CAAC,CAAC+T,IAAI,EAAE;QACZ,MAAMI,EAAE,GAAGnU,CAAC,CAACoI,EAAE,GAAGqK,EAAE;QAAE,MAAM2B,EAAE,GAAGpU,CAAC,CAACqI,EAAE,GAAGqK,EAAE;QAAE,MAAM2B,CAAC,GAAG7S,IAAI,CAAC6R,IAAI,CAACc,EAAE,GAACA,EAAE,GAAGC,EAAE,GAACA,EAAE,CAAC;QAC9E,IAAIC,CAAC,GAAGJ,IAAI,EAAE;UAAEA,IAAI,GAAGI,CAAC;UAAEL,OAAO,GAAGhU,CAAC;QAAE;MACzC;MACA,IAAIgU,OAAO,IAAI,CAACA,OAAO,CAACJ,OAAO,IAAIK,IAAI,GAAGzS,IAAI,CAACiO,GAAG,CAAC,GAAG,EAAEjO,IAAI,CAAC2I,GAAG,CAACrJ,MAAM,CAACC,UAAU,EAAED,MAAM,CAACI,WAAW,CAAC,GAAG,IAAI,CAAC,EAAE;QAC/G8S,OAAO,CAACJ,OAAO,GAAG,IAAI;QAAEI,OAAO,CAACF,MAAM,GAAGtS,IAAI,CAACC,MAAM,CAAC,CAAC,GAAC,CAAC,GAAG,CAAC;QAAEuS,OAAO,CAACH,KAAK,GAAG,CAAC;MACjF;MACA,MAAMS,CAAC,GAAG,GAAG;MACb,KAAK,IAAItU,CAAC,IAAIsT,MAAM,EAAE;QACpB,IAAItT,CAAC,CAAC4T,OAAO,IAAI5T,CAAC,CAAC+T,IAAI,EAAE;QACzB,MAAMI,EAAE,GAAGnU,CAAC,CAACoI,EAAE,GAAGqK,EAAE;QAAE,MAAM2B,EAAE,GAAGpU,CAAC,CAACqI,EAAE,GAAGqK,EAAE;QAAE,MAAM2B,CAAC,GAAG7S,IAAI,CAAC6R,IAAI,CAACc,EAAE,GAACA,EAAE,GAAGC,EAAE,GAACA,EAAE,CAAC;QAC9E,IAAIC,CAAC,GAAGC,CAAC,EAAE;UACT,MAAMC,IAAI,GAAG,CAAC,GAAGF,CAAC,GAAGC,CAAC;UACtBtU,CAAC,CAAC0T,GAAG,GAAGlS,IAAI,CAACiO,GAAG,CAACzP,CAAC,CAAC0T,GAAG,EAAE,GAAG,GAAGa,IAAI,CAAC;UACnCvU,CAAC,CAAC4B,EAAE,IAAK,CAAC,GAAG2S,IAAI,GAAK/S,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAE;QAC1C;MACF;IACF,CAAC;IAED,MAAM+S,IAAI,GAAGtU,QAAQ,CAAC3B,KAAK,CAACC,MAAM,CAAC;IACnC,MAAMiW,IAAI,GAAGvU,QAAQ,CAAC3B,KAAK,CAACE,IAAI,CAAC;IACjC,MAAMiW,IAAI,GAAGxU,QAAQ,CAAC3B,KAAK,CAACG,OAAO,CAAC;IAEpC,IAAIiW,IAAI,GAAG7K,WAAW,CAACC,GAAG,CAAC,CAAC;IAC5B,SAAS6K,IAAIA,CAAC7K,GAAG,EAAC;MAChB,IAAI8K,EAAE,GAAGrT,IAAI,CAAC2I,GAAG,CAAC,EAAE,EAAEJ,GAAG,GAAG4K,IAAI,CAAC,GAAG,KAAK;MACzC,IAAGE,EAAE,IAAI,CAAC,EAAE;QAAE/F,KAAK,CAACpL,OAAO,GAAGX,qBAAqB,CAAC6R,IAAI,CAAC;QAAE;MAAQ;MACnED,IAAI,GAAG5K,GAAG;MACVrJ,GAAG,CAAC4B,SAAS,CAAC,CAAC,EAAC,CAAC,EAAC1B,CAAC,EAACI,CAAC,CAAC;MAEtBN,GAAG,CAACkC,SAAS,GAAGmJ,WAAW,GAAG,mBAAmB,GAAG,mBAAmB;MACvErL,GAAG,CAACmC,QAAQ,CAAC,CAAC,EAAC,CAAC,EAACjC,CAAC,EAACI,CAAC,CAAC;MAErB,MAAM8T,IAAI,GAAGtT,IAAI,CAACiO,GAAG,CAAC7O,CAAC,EAAEI,CAAC,CAAC,GAAG,IAAI;MAClC,MAAM+T,IAAI,GAAGhL,GAAG,GAAG,KAAK;MACxB,MAAMiL,WAAW,GAAG1B,MAAM,CAACtR,MAAM,GAAG,GAAG;MAEvC,MAAMiT,YAAY,GAAGrU,CAAC,GAAC,CAAC;MACxB,MAAMsU,SAAS,GAAGnG,cAAc,CAACrL,OAAO,IAAI,CAAC;MAC7C,MAAMyR,YAAY,GAAID,SAAS,GAAGjU,MAAM,GAAGoN,QAAQ,CAAC3K,OAAO,GAAKzC,MAAM,GAAG,CAAE;MAC3E,MAAMmU,MAAM,GAAG5T,IAAI,CAAC2I,GAAG,CAAC,IAAI,EAAEvJ,CAAC,GAAG,IAAI,CAAC;MACvC,MAAMyU,MAAM,GAAG7T,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAElJ,MAAM,GAAG,IAAI,CAAC;MAE3C,KAAK,IAAIjB,CAAC,IAAIsT,MAAM,EAAE;QACpB,IAAItT,CAAC,CAAC+T,IAAI,EAAE;QACZ,IAAI/T,CAAC,CAAC4T,OAAO,EAAC;UACZ5T,CAAC,CAAC8T,MAAM,IAAI,GAAG,GAAGe,EAAE;UAAE7U,CAAC,CAAC6T,KAAK,IAAI7T,CAAC,CAAC8T,MAAM,GAAGe,EAAE;UAAE7U,CAAC,CAAC6F,OAAO,GAAGrE,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAE,CAAC,GAAIzP,CAAC,CAAC6T,KAAK,IAAI7S,CAAC,GAAG,GAAG,CAAE,CAAC;UAClG,IAAIhB,CAAC,CAAC6T,KAAK,GAAG7S,CAAC,GAAG,GAAG,EAAE;YAAEhB,CAAC,CAAC+T,IAAI,GAAG,IAAI;YAAE;UAAU;QACpD;QACA,MAAMI,EAAE,GAAGnU,CAAC,CAACoI,EAAE,GAAG2C,MAAM,CAACrH,OAAO,CAACnC,CAAC;QAAE,MAAM6S,EAAE,GAAGpU,CAAC,CAACqI,EAAE,GAAG0C,MAAM,CAACrH,OAAO,CAAChC,CAAC;QAAE,MAAM2S,CAAC,GAAG7S,IAAI,CAAC6R,IAAI,CAACc,EAAE,GAACA,EAAE,GAAGC,EAAE,GAACA,EAAE,CAAC;QAC1G,IAAInM,CAAC,GAAGzG,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG4E,CAAC,GAAGS,IAAI,CAAC;QAAE7M,CAAC,GAAGzG,IAAI,CAAC8T,GAAG,CAACrN,CAAC,EAAE,GAAG,CAAC;QACvD,MAAMsN,IAAI,GAAGvV,CAAC,CAAC4T,OAAO,GAAG,CAAC,GAAGpS,IAAI,CAAC2I,GAAG,CAAC,EAAE,EAAE,EAAE,GAAGlC,CAAC,GAAGjI,CAAC,CAAC0T,GAAG,GAAG,EAAE,CAAC;QAC9D,MAAM8B,MAAM,GAAGxV,CAAC,CAAC4T,OAAO,GAAG,CAAC,GAAGpS,IAAI,CAACiU,GAAG,CAACzV,CAAC,CAAC2T,KAAK,GAAGoB,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG9M,CAAC;QACrE,IAAI,CAACjI,CAAC,CAAC4T,OAAO,EAAC;UAAE5T,CAAC,CAAC4B,EAAE,IAAI,EAAE,GAAGiT,EAAE;UAAE7U,CAAC,CAAC4B,EAAE,IAAK,IAAI,GAAGJ,IAAI,CAAC2I,GAAG,CAAC,IAAI,EAAElC,CAAC,GAAG,IAAI,CAAE;UAAEjI,CAAC,CAAC0T,GAAG,GAAGlS,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEzP,CAAC,CAAC0T,GAAG,GAAG,KAAK,CAAC;QAAE;QACjH,MAAMgC,OAAO,GAAG1V,CAAC,CAAC4T,OAAO,GAAG5T,CAAC,CAAC6T,KAAK,GAAI,CAAC0B,IAAI,GAAGvV,CAAC,CAAC4B,EAAE,GAAGiT,EAAE,GAAG,EAAG;QAE9D,MAAMc,SAAS,GAAK3V,CAAC,CAAC6B,CAAC,GAAG,CAAC,GAAI,CAAC,GAAI,GAAG,GAAK7B,CAAC,CAACsK,CAAC,GAAG,CAAC,GAAE,CAAC,GAAI,IAAI;QAC9D,MAAMsL,IAAI,GAAG,IAAI,GAAG,IAAI,GAAGpU,IAAI,CAACiU,GAAG,CAACzV,CAAC,CAAC2T,KAAK,GAAG,GAAG,GAAGoB,IAAI,IAAI,IAAI,GAAGY,SAAS,CAAC,CAAC;QAC9E,MAAME,SAAS,GAAGrU,IAAI,CAAC2I,GAAG,CAAC,CAAC,EAAE3I,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAExH,CAAC,GAAG,GAAG,GAAG2N,IAAI,GAAG,IAAI,GAAGD,SAAS,GAAG,IAAI,CAAC,CAAC;QAEpF,SAASG,GAAGA,CAAC/V,CAAC,EAACgW,IAAI,EAAC9V,CAAC,EAAC;UAAE,OAAOuB,IAAI,CAAC0F,KAAK,CAAC,CAAC,CAAC,GAACjH,CAAC,IAAEF,CAAC,GAAGE,CAAC,GAAC8V,IAAI,CAAC;QAAE;QAC7D,MAAMC,GAAG,GAAGF,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC,EAAEC,IAAI,CAAC,CAAC,CAAC,EAAEoB,SAAS,CAAC;QAC5C,MAAMI,GAAG,GAAGH,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC,EAAEC,IAAI,CAAC,CAAC,CAAC,EAAEoB,SAAS,CAAC;QAC5C,MAAMK,GAAG,GAAGJ,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC,EAAEC,IAAI,CAAC,CAAC,CAAC,EAAEoB,SAAS,CAAC;QAC5C,MAAMM,MAAM,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG3U,IAAI,CAACiU,GAAG,CAACV,IAAI,GAAG,GAAG,GAAG/U,CAAC,CAAC2T,KAAK,GAAGgC,SAAS,CAAC,CAAC;QAC9E,IAAIS,KAAK,GAAG5U,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAE3I,IAAI,CAAC0F,KAAK,CAAC8O,GAAG,IAAI,CAAC,GAAGG,MAAM,CAAC,GAAGzB,IAAI,CAAC,CAAC,CAAC,GAAGyB,MAAM,CAAC,CAAC;QAC5E,IAAIE,KAAK,GAAG7U,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAE3I,IAAI,CAAC0F,KAAK,CAAC+O,GAAG,IAAI,CAAC,GAAGE,MAAM,CAAC,GAAGzB,IAAI,CAAC,CAAC,CAAC,GAAGyB,MAAM,CAAC,CAAC;QAC5E,IAAIG,KAAK,GAAG9U,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAE3I,IAAI,CAAC0F,KAAK,CAACgP,GAAG,IAAI,CAAC,GAAGC,MAAM,CAAC,GAAGzB,IAAI,CAAC,CAAC,CAAC,GAAGyB,MAAM,CAAC,CAAC;QAC5E,MAAMI,QAAQ,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,GAAIvW,CAAC,CAACqI,EAAE,GAAGrH,CAAE,CAAC;QAC9CoV,KAAK,GAAG5U,IAAI,CAAC0F,KAAK,CAACkP,KAAK,GAAGG,QAAQ,CAAC;QAAEF,KAAK,GAAG7U,IAAI,CAAC0F,KAAK,CAACmP,KAAK,GAAGE,QAAQ,CAAC;QAAED,KAAK,GAAG9U,IAAI,CAAC0F,KAAK,CAACoP,KAAK,GAAGC,QAAQ,CAAC;QAEhH,MAAMC,OAAO,GAAGhV,IAAI,CAAC+P,GAAG,CAACvR,CAAC,CAACoI,EAAE,GAAG6M,YAAY,CAAC;QAC7C,MAAMwB,OAAO,GAAGjV,IAAI,CAAC+P,GAAG,CAACvR,CAAC,CAACqI,EAAE,GAAG8M,YAAY,CAAC;QAC7C,IAAIuB,aAAa,GAAG,CAAC;QACrB,IAAIF,OAAO,GAAGpB,MAAM,GAAC,CAAC,IAAIqB,OAAO,GAAGpB,MAAM,GAAC,CAAC,EAAE;UAC5C,MAAMsB,EAAE,GAAG,CAAC,GAAIH,OAAO,IAAIpB,MAAM,GAAC,CAAC,CAAE;UACrC,MAAMwB,EAAE,GAAG,CAAC,GAAIH,OAAO,IAAIpB,MAAM,GAAC,CAAC,CAAE;UACrCqB,aAAa,GAAGlV,IAAI,CAAC8T,GAAG,CAAC9T,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEjO,IAAI,CAAC2I,GAAG,CAAC,CAAC,EAAEwM,EAAE,GAAGC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI;QACzE;QAEA,MAAMC,MAAM,GAAGrV,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEjO,IAAI,CAAC0F,KAAK,CAACkP,KAAK,IAAI,CAAC,GAAGM,aAAa,CAAC,CAAC,CAAC;QACnE,MAAMI,MAAM,GAAGtV,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEjO,IAAI,CAAC0F,KAAK,CAACmP,KAAK,IAAI,CAAC,GAAGK,aAAa,CAAC,CAAC,CAAC;QACnE,MAAMK,MAAM,GAAGvV,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEjO,IAAI,CAAC0F,KAAK,CAACoP,KAAK,IAAI,CAAC,GAAGI,aAAa,CAAC,CAAC,CAAC;QACnE,MAAMM,UAAU,GAAGxV,IAAI,CAACiO,GAAG,CAAC,GAAG,EAAEzP,CAAC,CAAC6F,OAAO,GAAI6Q,aAAa,GAAG,IAAK,CAAC;QAEpE,MAAMO,EAAE,GAAGjX,CAAC,CAACwT,KAAK,GAAG,CAAC;UAAE0D,EAAE,GAAGlX,CAAC,CAACyT,KAAK,GAAG,CAAC;QACxC,MAAM0D,IAAI,GAAGzW,GAAG,CAAC0W,oBAAoB,CAACH,EAAE,EAAEC,EAAE,EAAED,EAAE,GAAGjX,CAAC,CAACuT,CAAC,GAAG,EAAE,EAAE2D,EAAE,GAAGlX,CAAC,CAACI,CAAC,GAAG,EAAE,CAAC;QAC3E,MAAMiX,UAAU,GAAG,QAAQ7V,IAAI,CAACiO,GAAG,CAAC,CAAC,EAACoH,MAAM,GAAC,EAAE,CAAC,KAAKrV,IAAI,CAACiO,GAAG,CAAC,CAAC,EAACqH,MAAM,GAAC,EAAE,CAAC,KAAKtV,IAAI,CAACiO,GAAG,CAAC,CAAC,EAACsH,MAAM,GAAC,EAAE,CAAC,KAAKC,UAAU,GAAG;QACtH,MAAMM,QAAQ,GAAG,QAAQT,MAAM,KAAKC,MAAM,KAAKC,MAAM,KAAKC,UAAU,GAAG;QACvEG,IAAI,CAACI,YAAY,CAAC,CAAC,EAAEF,UAAU,CAAC;QAChCF,IAAI,CAACI,YAAY,CAAC,CAAC,EAAED,QAAQ,CAAC;QAE9B5W,GAAG,CAAC+B,IAAI,CAAC,CAAC;QACV/B,GAAG,CAAC8W,WAAW,GAAGR,UAAU;QAC5BtW,GAAG,CAACkC,SAAS,GAAGuU,IAAI;QACpB,IAAI5B,IAAI,GAAG,CAAC,IAAI,CAACvV,CAAC,CAAC4T,OAAO,IAAI,CAACoB,WAAW,EAAE;UAC1CtU,GAAG,CAAC+W,UAAU,GAAGjW,IAAI,CAAC2I,GAAG,CAAC,EAAE,EAAEoL,IAAI,GAAG,GAAG,CAAC;UACzC7U,GAAG,CAACgX,WAAW,GAAG,kBAAkBlW,IAAI,CAAC2I,GAAG,CAAC,IAAI,EAAE,IAAI,GAAGlC,CAAC,GAAG,IAAI,GAAGjI,CAAC,CAAC0T,GAAG,CAAC,GAAG;QAChF,CAAC,MAAMhT,GAAG,CAAC+W,UAAU,GAAG,CAAC;QACzB,MAAMhF,EAAE,GAAGzS,CAAC,CAACwT,KAAK,GAAGgC,MAAM,GAAG,GAAG;QACjC,MAAM9C,EAAE,GAAG1S,CAAC,CAACyT,KAAK,GAAGiC,OAAO;QAC5BiC,SAAS,CAACjX,GAAG,EAAE+R,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAE1S,CAAC,CAACuT,CAAC,GAAG,EAAE,EAAEvT,CAAC,CAACI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;QACrDM,GAAG,CAACkX,IAAI,CAAC,CAAC;QAEV,IAAI,CAAC3P,CAAC,GAAG,IAAI,IAAIjI,CAAC,CAAC0T,GAAG,GAAG,IAAI,KAAK,CAAC1T,CAAC,CAAC4T,OAAO,IAAI8C,aAAa,GAAG,GAAG,EAAE;UACnEhW,GAAG,CAAC+W,UAAU,GAAG,CAAC;UAClB/W,GAAG,CAACkC,SAAS,GAAG,oBAAoB,IAAI,GAAGqF,CAAC,GAAG,IAAI,GAAGjI,CAAC,CAAC0T,GAAG,GAAG;UAC9DhT,GAAG,CAACmC,QAAQ,CAAC4P,EAAE,GAAG,EAAE,EAAEC,EAAE,GAAG,EAAE,EAAE1S,CAAC,CAACuT,CAAC,GAAG,EAAE,EAAE/R,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEjO,IAAI,CAAC2I,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGlC,CAAC,GAAG,CAAC,GAAGjI,CAAC,CAAC0T,GAAG,CAAC,CAAC,CAAC;QACvF;QACAhT,GAAG,CAACoC,OAAO,CAAC,CAAC;MACf;MAEAgM,KAAK,CAACpL,OAAO,GAAGX,qBAAqB,CAAC6R,IAAI,CAAC;IAC7C;IAEA,SAAS+C,SAASA,CAACjX,GAAG,EAACa,CAAC,EAACG,CAAC,EAAC6R,CAAC,EAACnT,CAAC,EAACyB,CAAC,EAAC;MAAE,MAAMgW,IAAI,GAAGrW,IAAI,CAAC2I,GAAG,CAACtI,CAAC,EAAE0R,CAAC,GAAC,CAAC,EAAEnT,CAAC,GAAC,CAAC,CAAC;MAAEM,GAAG,CAACoX,SAAS,CAAC,CAAC;MAAEpX,GAAG,CAACqX,MAAM,CAACxW,CAAC,GAACsW,IAAI,EAACnW,CAAC,CAAC;MAAEhB,GAAG,CAACsX,KAAK,CAACzW,CAAC,GAACgS,CAAC,EAAC7R,CAAC,EAACH,CAAC,GAACgS,CAAC,EAAC7R,CAAC,GAACtB,CAAC,EAACyX,IAAI,CAAC;MAAEnX,GAAG,CAACsX,KAAK,CAACzW,CAAC,GAACgS,CAAC,EAAC7R,CAAC,GAACtB,CAAC,EAACmB,CAAC,EAACG,CAAC,GAACtB,CAAC,EAACyX,IAAI,CAAC;MAAEnX,GAAG,CAACsX,KAAK,CAACzW,CAAC,EAACG,CAAC,GAACtB,CAAC,EAACmB,CAAC,EAACG,CAAC,EAACmW,IAAI,CAAC;MAAEnX,GAAG,CAACsX,KAAK,CAACzW,CAAC,EAACG,CAAC,EAACH,CAAC,GAACgS,CAAC,EAAC7R,CAAC,EAACmW,IAAI,CAAC;MAAEnX,GAAG,CAACuX,SAAS,CAAC,CAAC;IAAE;IAEnP,SAAStK,QAAQA,CAAA,EAAE;MAAE/M,CAAC,GAAGH,MAAM,CAACI,KAAK,GAAGC,MAAM,CAACC,UAAU;MAAEC,CAAC,GAAGP,MAAM,CAACQ,MAAM,GAAGH,MAAM,CAACI,WAAW;MAAET,MAAM,CAACI,KAAK,GAAGD,CAAC,GAAGgS,GAAG;MAAEnS,MAAM,CAACQ,MAAM,GAAGD,CAAC,GAAG4R,GAAG;MAAEnS,MAAM,CAACsE,KAAK,CAAClE,KAAK,GAAGD,CAAC,GAAG,IAAI;MAAEH,MAAM,CAACsE,KAAK,CAAC9D,MAAM,GAAGD,CAAC,GAAG,IAAI;MAAEN,GAAG,CAACnB,KAAK,CAACqT,GAAG,EAAEA,GAAG,CAAC;IAAE;IACxO9R,MAAM,CAACyD,gBAAgB,CAAC,QAAQ,EAAEoJ,QAAQ,CAAC;IAC3CmB,KAAK,CAACpL,OAAO,GAAGX,qBAAqB,CAAC6R,IAAI,CAAC;IAC3C,OAAO,MAAM;MAAE9T,MAAM,CAAC6D,mBAAmB,CAAC,QAAQ,EAAEgJ,QAAQ,CAAC;MAAEhF,oBAAoB,CAACmG,KAAK,CAACpL,OAAO,CAAC;IAAE,CAAC;EACvG,CAAC,EAAE,CAACqI,WAAW,EAAE9K,MAAM,CAAC,CAAC;;EAEzB;EACArD,SAAS,CAAC,MAAM;IACd,SAASyE,KAAKA,CAAA,EAAE;MACdgM,QAAQ,CAAC3K,OAAO,GAAG5D,IAAI,CAACuO,QAAQ,CAAC3K,OAAO,EAAE0K,OAAO,CAAC1K,OAAO,EAAGoG,WAAW,CAACC,GAAG,CAAC,CAAC,GAAGwE,WAAW,CAAC7K,OAAO,GAAG+K,UAAU,GAAIE,SAAS,GAAGD,SAAS,CAAC;MAC1I,MAAMP,EAAE,GAAGH,YAAY,CAACtK,OAAO;MAAE,IAAGyK,EAAE,EAAEA,EAAE,CAACpJ,KAAK,CAACuD,SAAS,GAAG,kBAAkB,CAAC+F,QAAQ,CAAC3K,OAAO,QAAQ;MACxGuK,WAAW,CAACvK,OAAO,CAACwU,OAAO,CAAC,CAACC,IAAI,EAAE9W,CAAC,KAAK;QACvC,IAAG,CAAC8W,IAAI,EAAE;QACV,MAAMC,MAAM,GAAG/W,CAAC,GAAGJ,MAAM;QACzB,MAAMoX,MAAM,GAAG,CAAChK,QAAQ,CAAC3K,OAAO,GAAG0U,MAAM,IAAInX,MAAM;QACnD,MAAMsQ,GAAG,GAAG/P,IAAI,CAAC+P,GAAG,CAAC8G,MAAM,CAAC;QAC5B,MAAMC,UAAU,GAAGD,MAAM,GAAG,EAAE;QAC9B,MAAM1V,MAAM,GAAG0V,MAAM,GAAG,GAAG;QAC3B,MAAM9Y,KAAK,GAAG,CAAC,GAAGiC,IAAI,CAAC2I,GAAG,CAAC,IAAI,EAAEoH,GAAG,GAAG,IAAI,CAAC;QAC5C,MAAM1L,OAAO,GAAG,CAAC,GAAGrE,IAAI,CAAC2I,GAAG,CAAC,GAAG,EAAEoH,GAAG,GAAG,GAAG,CAAC;QAC5C4G,IAAI,CAACpT,KAAK,CAACuD,SAAS,GAAG,oBAAoBgQ,UAAU,iBAAiB3V,MAAM,cAAcpD,KAAK,GAAG;QAClG4Y,IAAI,CAACpT,KAAK,CAACc,OAAO,GAAGsH,MAAM,CAACtH,OAAO,CAAC;MACtC,CAAC,CAAC;MACF,MAAM0S,GAAG,GAAG/W,IAAI,CAAC0F,KAAK,CAACmH,QAAQ,CAAC3K,OAAO,GAAGzC,MAAM,CAAC;MACjD,IAAI8N,cAAc,CAACrL,OAAO,KAAK6U,GAAG,EAAE;QAAExJ,cAAc,CAACrL,OAAO,GAAG6U,GAAG;QAAEtJ,cAAc,CAACsJ,GAAG,CAAC;QAAEnJ,YAAY,CAAC1L,OAAO,GAAG6U,GAAG;QAAEpJ,YAAY,CAACoJ,GAAG,CAAC;MAAE;MACxIjK,MAAM,CAAC5K,OAAO,GAAGX,qBAAqB,CAACV,KAAK,CAAC;IAC/C;IACAiM,MAAM,CAAC5K,OAAO,GAAGX,qBAAqB,CAACV,KAAK,CAAC;IAC7C,OAAO,MAAKsG,oBAAoB,CAAC2F,MAAM,CAAC5K,OAAO,CAAC;EAClD,CAAC,EAAE,CAACzC,MAAM,EAAEmM,OAAO,CAACpL,MAAM,CAAC,CAAC;EAE5B,SAASwW,aAAaA,CAACnX,CAAC,EAAC;IAAE,MAAMoO,GAAG,GAAGjO,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAE,CAACrC,OAAO,CAACpL,MAAM,GAAG,CAAC,IAAIf,MAAM,CAAC;IAAE,MAAMwX,IAAI,GAAGjX,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAEjO,IAAI,CAAC2I,GAAG,CAAC9I,CAAC,GAAGJ,MAAM,EAAEwO,GAAG,CAAC,CAAC;IAAErB,OAAO,CAAC1K,OAAO,GAAG+U,IAAI;IAAElK,WAAW,CAAC7K,OAAO,GAAGoG,WAAW,CAACC,GAAG,CAAC,CAAC;IAAEyE,WAAW,CAAC9K,OAAO,GAAG,IAAI;IAAE0L,YAAY,CAAC1L,OAAO,GAAGlC,IAAI,CAAC0F,KAAK,CAACuR,IAAI,GAAGxX,MAAM,CAAC;IAAEkO,YAAY,CAACC,YAAY,CAAC1L,OAAO,CAAC;EAAE;EAE3T,MAAMgV,qBAAqB,GAAG,GAAG;IAAEC,mBAAmB,GAAG,GAAG;EAC5D,SAASC,YAAYA,CAACC,GAAG,EAAEC,KAAK,EAAC;IAC/BvN,UAAU,CAACiE,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACqJ,GAAG,GAAGC;IAAM,CAAC,CAAC,CAAC;IAC/C,MAAMC,WAAW,GAAGha,SAAS,CAACia,IAAI,CAACzX,CAAC,IAAIA,CAAC,CAACvC,EAAE,KAAK6Z,GAAG,CAAC,IAAI,CAAC,CAAC;IAC3D,IAAII,MAAM,GAAG,CAAC;IACd,IAAGF,WAAW,CAAC9Z,IAAI,KAAK,KAAK,IAAI8Z,WAAW,CAAC1Z,MAAM,EAAE4Z,MAAM,GAAGF,WAAW,CAAC1Z,MAAM,CAACyZ,KAAK,CAAC,IAAI,CAAC,CAAC,KACxF,IAAGC,WAAW,CAAC9Z,IAAI,KAAK,QAAQ,EAAEga,MAAM,GAAGH,KAAK,IAAIC,WAAW,CAACvZ,aAAa,IAAI,CAAC,CAAC,CAAC,KACpF,IAAGuZ,WAAW,CAAC9Z,IAAI,KAAK,MAAM,EAAEga,MAAM,GAAGF,WAAW,CAAC1Z,MAAM,IAAI,CAAC;IACrE,IAAG4Z,MAAM,EAAC;MAAEpN,QAAQ,CAACqN,CAAC,IAAIA,CAAC,GAAGD,MAAM,CAAC;MAAEE,UAAU,CAAC,CAAC;IAAE;IACrD,IAAGJ,WAAW,CAAC9Z,IAAI,KAAK,KAAK,IAAI8Z,WAAW,CAAC9Z,IAAI,KAAK,QAAQ,EAAC;MAAE,MAAMma,IAAI,GAAG5X,IAAI,CAAC2I,GAAG,CAAC4E,cAAc,CAACrL,OAAO,GAAG,CAAC,EAAE0J,OAAO,CAACpL,MAAM,GAAG,CAAC,CAAC;MAAEyC,UAAU,CAAC,MAAI+T,aAAa,CAACY,IAAI,CAAC,EAAEV,qBAAqB,CAAC;IAAE;EACtM;EACA,SAASS,UAAUA,CAAA,EAAE;IAAE,MAAMhL,EAAE,GAAGvF,QAAQ,CAACyQ,cAAc,CAAC,aAAa,CAAC;IAAE,IAAG,CAAClL,EAAE,EAAE;IAAQA,EAAE,CAACnD,OAAO,CAAC,CAAC;MAAE1C,SAAS,EAAC;IAAyB,CAAC,EAAE;MAAEA,SAAS,EAAC;IAA+B,CAAC,EAAE;MAAEA,SAAS,EAAC;IAAyB,CAAC,CAAC,EAAE;MAAEgR,QAAQ,EAAC,GAAG;MAAEC,MAAM,EAAC;IAAW,CAAC,CAAC;EAAE;EAC3Q,SAASC,kBAAkBA,CAACC,OAAO,EAAC;IAAE,IAAGA,OAAO,EAAC;MAAE5N,QAAQ,CAACqN,CAAC,IAAIA,CAAC,GAAG,EAAE,CAAC;MAAEC,UAAU,CAAC,CAAC;IAAE;IAAE5N,UAAU,CAACiE,IAAI,KAAG;MAAC,GAAGA,IAAI;MAAEkK,EAAE,EAAED,OAAO,GAAG,SAAS,GAAG;IAAM,CAAC,CAAC,CAAC;IAAEhV,UAAU,CAAC,MAAI+T,aAAa,CAAChX,IAAI,CAAC2I,GAAG,CAAC4E,cAAc,CAACrL,OAAO,GAAG,CAAC,EAAE0J,OAAO,CAACpL,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE2W,mBAAmB,CAAC;EAAE;EACzQ,SAASgB,MAAMA,CAAA,EAAE;IAAE7M,aAAa,CAAC,IAAI,CAAC;IAAE,IAAGC,SAAS,CAACrJ,OAAO,EAAElD,aAAa,CAACuM,SAAS,CAACrJ,OAAO,CAAC;EAAE;EAChG,SAASkW,QAAQA,CAAA,EAAE;IAAE,IAAG,CAAC9Y,MAAM,CAAC+Y,OAAO,CAAC,2CAA2C,CAAC,EAAE;IAAQtO,UAAU,CAAC,CAAC,CAAC,CAAC;IAAEM,QAAQ,CAAC,CAAC,CAAC;IAAEiB,aAAa,CAAC,KAAK,CAAC;IAAEsB,OAAO,CAAC1K,OAAO,GAAG,CAAC;IAAE2K,QAAQ,CAAC3K,OAAO,GAAG,CAAC;IAAE0L,YAAY,CAAC1L,OAAO,GAAG,CAAC;IAAEyL,YAAY,CAAC,CAAC,CAAC;IAAE,IAAGnB,YAAY,CAACtK,OAAO,EAAEsK,YAAY,CAACtK,OAAO,CAACqB,KAAK,CAACuD,SAAS,GAAG,oBAAoB;EAAE;EAE7T,SAASwR,cAAcA,CAAC;IAAEC,IAAI;IAAExB;EAAI,CAAC,EAAC;IACpC,IAAGwB,IAAI,CAAC9a,IAAI,KAAK,OAAO,EAAC;MACvB,MAAM+a,OAAO,GAAGzB,GAAG,KAAK,CAAC;QAAE0B,MAAM,GAAG1B,GAAG,KAAK/W,IAAI,CAACiO,GAAG,CAAC,CAAC,EAAErC,OAAO,CAACpL,MAAM,GAAG,CAAC,CAAC;MAC3E,oBACE9D,OAAA;QAAK6G,KAAK,EAAE;UAAEwB,SAAS,EAAC,QAAQ;UAAE2T,QAAQ,EAAC,GAAG;UAAEC,MAAM,EAAC;QAAS,CAAE;QAAAxU,QAAA,gBAChEzH,OAAA,CAACH,MAAM,CAACqc,EAAE;UAACC,OAAO,EAAE;YAAE3Y,CAAC,EAAC,EAAE;YAAEmE,OAAO,EAAC;UAAE,CAAE;UAACmF,OAAO,EAAE;YAAEtJ,CAAC,EAAC,CAAC;YAAEmE,OAAO,EAAC;UAAE,CAAE;UAACgB,UAAU,EAAE;YAAEyS,QAAQ,EAAC;UAAI,CAAE;UAACvU,KAAK,EAAE;YAAEkC,QAAQ,EAAC,QAAQ;YAAET,UAAU,EAAC,GAAG;YAAEI,UAAU,EAAC,0BAA0BrI,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACE,IAAI,GAAG;YAAE6b,oBAAoB,EAAC,MAAM;YAAExY,KAAK,EAAC,aAAa;YAAEyY,UAAU,EAAE;UAAoC,CAAE;UAAA5U,QAAA,EAAEoU,IAAI,CAAC7a;QAAK;UAAAmG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,EACjVuU,IAAI,CAAC5a,QAAQ,iBAAIjB,OAAA,CAACH,MAAM,CAACyE,CAAC;UAAC6X,OAAO,EAAE;YAAE3Y,CAAC,EAAC,EAAE;YAAEmE,OAAO,EAAC;UAAE,CAAE;UAACmF,OAAO,EAAE;YAAEtJ,CAAC,EAAC,CAAC;YAAEmE,OAAO,EAAC;UAAK,CAAE;UAACgB,UAAU,EAAE;YAAE2T,KAAK,EAAC;UAAK,CAAE;UAACzV,KAAK,EAAE;YAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;YAAEgI,SAAS,EAAC;UAAE,CAAE;UAAAnB,QAAA,EAAEoU,IAAI,CAAC5a;QAAQ;UAAAkG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAW,CAAC,eAC5LtH,OAAA;UAAK6G,KAAK,EAAE;YAAE+B,SAAS,EAAC,EAAE;YAAER,OAAO,EAAC,EAAE;YAAEI,YAAY,EAAC,EAAE;YAAEE,UAAU,EAAErI,KAAK,CAACK,KAAK;YAAEuK,MAAM,EAAC,kCAAkC;YAAEsR,cAAc,EAAC;UAAY,CAAE;UAAA9U,QAAA,gBACxJzH,OAAA;YAAK6G,KAAK,EAAE;cAAEgC,OAAO,EAAC,MAAM;cAAE0D,GAAG,EAAC,EAAE;cAAED,UAAU,EAAC,QAAQ;cAAExD,cAAc,EAAC;YAAS,CAAE;YAAArB,QAAA,gBACnFzH,OAAA;cAAK2C,KAAK,EAAC,IAAI;cAACI,MAAM,EAAC,IAAI;cAACyZ,OAAO,EAAC,WAAW;cAAC9C,IAAI,EAAC,MAAM;cAAAjS,QAAA,eAACzH,OAAA;gBAAMmW,CAAC,EAAC,oDAAoD;gBAACsG,MAAM,EAAEpc,KAAK,CAACC,MAAO;gBAACoc,WAAW,EAAC;cAAK;gBAAAvV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACxKtH,OAAA;cAAAyH,QAAA,gBACEzH,OAAA;gBAAK6G,KAAK,EAAE;kBAAEjD,KAAK,EAAEvD,KAAK,CAACM,IAAI;kBAAE2H,UAAU,EAAC;gBAAI,CAAE;gBAAAb,QAAA,EAAC;cAAU;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACnEtH,OAAA;gBAAK6G,KAAK,EAAE;kBAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;kBAAEmI,QAAQ,EAAC;gBAAG,CAAE;gBAAAtB,QAAA,EAAC;cAAkE;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNtH,OAAA;YAAK6G,KAAK,EAAE;cAAE+B,SAAS,EAAC,EAAE;cAAEC,OAAO,EAAC,MAAM;cAAE0D,GAAG,EAAC,EAAE;cAAEzD,cAAc,EAAC;YAAS,CAAE;YAAArB,QAAA,EAC3EsU,MAAM,gBACL/b,OAAA,CAAAE,SAAA;cAAAuH,QAAA,gBACEzH,OAAA;gBAAQyM,OAAO,EAAEA,CAAA,KAAMiP,QAAQ,CAAC,CAAE;gBAAChU,SAAS,EAAC,iBAAiB;gBAAAD,QAAA,EAAC;cAAO;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC/EtH,OAAA;gBAAQyM,OAAO,EAAEA,CAAA,KAAMiC,gBAAgB,CAAC,IAAI,CAAE;gBAAChH,SAAS,EAAC,eAAe;gBAAAD,QAAA,EAAC;cAAc;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eAChG,CAAC,gBAEHtH,OAAA,CAAAE,SAAA;cAAAuH,QAAA,gBACEzH,OAAA;gBAAQyM,OAAO,EAAEA,CAAA,KAAM6N,aAAa,CAAChX,IAAI,CAAC2I,GAAG,CAACoO,GAAG,GAAG,CAAC,EAAEnL,OAAO,CAACpL,MAAM,GAAG,CAAC,CAAC,CAAE;gBAAC4D,SAAS,EAAC,iBAAiB;gBAAAD,QAAA,EAAC;cAAK;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EACtH,CAACwU,OAAO,iBAAI9b,OAAA;gBAAQyM,OAAO,EAAEA,CAAA,KAAMgP,MAAM,CAAC,CAAE;gBAAC/T,SAAS,EAAC,eAAe;gBAAAD,QAAA,EAAC;cAAI;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eACrF;UACH;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAEV;IACA,IAAGuU,IAAI,CAAC9a,IAAI,KAAK,KAAK,EAAC;MACrB,oBACEf,OAAA;QAAK6G,KAAK,EAAE;UAAEmV,QAAQ,EAAC,GAAG;UAAEC,MAAM,EAAC;QAAS,CAAE;QAAAxU,QAAA,gBAC5CzH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;YAAE2H,YAAY,EAAC;UAAG,CAAE;UAAAd,QAAA,EAAEoU,IAAI,CAACza;QAAM;UAAA+F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACxEtH,OAAA;UAAK6G,KAAK,EAAE;YAAEgC,OAAO,EAAC,MAAM;YAAE8T,mBAAmB,EAAC,sCAAsC;YAAEpQ,GAAG,EAAC;UAAG,CAAE;UAAA9E,QAAA,EAChGoU,IAAI,CAAC3a,OAAO,CAAC0b,GAAG,CAACxQ,CAAC,iBACjBpM,OAAA,CAACH,MAAM,CAACgd,MAAM;YAASlQ,UAAU,EAAE;cAAEtL,KAAK,EAAC;YAAK,CAAE;YAACoL,OAAO,EAAEA,CAAA,KAAMiO,YAAY,CAACmB,IAAI,CAAC/a,EAAE,EAAEsL,CAAC,CAAE;YAACvF,KAAK,EAAE;cAAEuB,OAAO,EAAC,EAAE;cAAEI,YAAY,EAAC,EAAE;cAAEyC,MAAM,EAAEmC,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,KAAKsL,CAAC,GAAG,MAAM,GAAG,kCAAkC;cAAE1D,UAAU,EAAE0E,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,KAAKsL,CAAC,GAAG,0BAA0B/L,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACE,IAAI,GAAG,GAAG,wBAAwB;cAAEqD,KAAK,EAAEwJ,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,KAAKsL,CAAC,GAAG,OAAO,GAAG/L,KAAK,CAACM,IAAI;cAAEiM,SAAS,EAAEQ,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,KAAKsL,CAAC,GAAG,mCAAmC,GAAG;YAAO,CAAE;YAAA3E,QAAA,gBACjdzH,OAAA;cAAK6G,KAAK,EAAE;gBAAEyB,UAAU,EAAC,GAAG;gBAAES,QAAQ,EAAC;cAAG,CAAE;cAAAtB,QAAA,EAAE2E;YAAC;cAAAjF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtDtH,OAAA;cAAK6G,KAAK,EAAE;gBAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;gBAAEgI,SAAS,EAAC;cAAE,CAAE;cAAAnB,QAAA,EAAEoU,IAAI,CAAC1a,MAAM,IAAI0a,IAAI,CAAC1a,MAAM,CAACiL,CAAC,CAAC,GAAG,GAAGyP,IAAI,CAAC1a,MAAM,CAACiL,CAAC,CAAC,MAAM,GAAG;YAAE;cAAAjF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,GAFnG8E,CAAC;YAAAjF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGN,CAChB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAEV;IACA,IAAGuU,IAAI,CAAC9a,IAAI,KAAK,QAAQ,EAAC;MACxB,oBACEf,OAAA;QAAK6G,KAAK,EAAE;UAAEwB,SAAS,EAAC;QAAS,CAAE;QAAAZ,QAAA,gBACjCzH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;YAAE2H,YAAY,EAAC;UAAG,CAAE;UAAAd,QAAA,EAAEoU,IAAI,CAACza;QAAM;UAAA+F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACxEtH,OAAA;UAAK6G,KAAK,EAAE;YAAEgC,OAAO,EAAC,MAAM;YAAE0D,GAAG,EAAC,EAAE;YAAEzD,cAAc,EAAC;UAAS,CAAE;UAAArB,QAAA,EAC7DqV,KAAK,CAACC,IAAI,CAAC;YAAEjZ,MAAM,EAAE+X,IAAI,CAACxa;UAAM,CAAC,CAAC,CAACub,GAAG,CAAC,CAACI,CAAC,EAAE7Z,CAAC,kBAC3CnD,OAAA,CAACH,MAAM,CAACgd,MAAM;YAASpQ,OAAO,EAAEA,CAAA,KAAMiO,YAAY,CAACmB,IAAI,CAAC/a,EAAE,EAAEqC,CAAC,GAAC,CAAC,CAAE;YAACuJ,QAAQ,EAAE;cAAErL,KAAK,EAAC;YAAK,CAAE;YAACwF,KAAK,EAAE;cAAElE,KAAK,EAAC,EAAE;cAAEI,MAAM,EAAC,EAAE;cAAEyF,YAAY,EAAC,GAAG;cAAEK,OAAO,EAAC,MAAM;cAAEyD,UAAU,EAAC,QAAQ;cAAExD,cAAc,EAAC,QAAQ;cAAEJ,UAAU,EAAE0E,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,KAAKqC,CAAC,GAAC,CAAC,GAAG,0BAA0B9C,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACE,IAAI,GAAG,GAAG,wBAAwB;cAAEqD,KAAK,EAAEwJ,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,KAAKqC,CAAC,GAAC,CAAC,GAAG,OAAO,GAAG9C,KAAK,CAACM,IAAI;cAAEsK,MAAM,EAAC;YAAmC,CAAE;YAAAxD,QAAA,EAAEtE,CAAC,GAAC;UAAC,GAA3ZA,CAAC;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA0a,CAChc;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAEV;IACA,IAAGuU,IAAI,CAAC9a,IAAI,KAAK,MAAM,EAAC;MACtB,oBACEf,OAAA;QAAK6G,KAAK,EAAE;UAAEmV,QAAQ,EAAC,GAAG;UAAEC,MAAM,EAAC;QAAS,CAAE;QAAAxU,QAAA,gBAC5CzH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;YAAE2H,YAAY,EAAC;UAAG,CAAE;UAAAd,QAAA,EAAEoU,IAAI,CAACza;QAAM;UAAA+F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACxEtH,OAAA;UAAUuB,SAAS,EAAEsa,IAAI,CAACta,SAAU;UAACyT,IAAI,EAAE,CAAE;UAAC4F,KAAK,EAAExN,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,IAAI,EAAG;UAACmc,QAAQ,EAAGjX,CAAC,IAAKqH,UAAU,CAACiE,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAE,CAACuK,IAAI,CAAC/a,EAAE,GAAGkF,CAAC,CAACgE,MAAM,CAAC4Q;UAAM,CAAC,CAAC,CAAE;UAACsC,WAAW,EAAC,mBAAmB;UAACrW,KAAK,EAAE;YAAElE,KAAK,EAAC,MAAM;YAAEyF,OAAO,EAAC,EAAE;YAAEI,YAAY,EAAC,EAAE;YAAEE,UAAU,EAAErI,KAAK,CAACK,KAAK;YAAEuK,MAAM,EAAC,kCAAkC;YAAErH,KAAK,EAAEvD,KAAK,CAACM,IAAI;YAAEwc,MAAM,EAAC;UAAW;QAAE;UAAAhW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC9VtH,OAAA;UAAK6G,KAAK,EAAE;YAAEgC,OAAO,EAAC,MAAM;YAAEC,cAAc,EAAC,eAAe;YAAEF,SAAS,EAAC;UAAG,CAAE;UAAAnB,QAAA,gBAC3EzH,OAAA;YAAK6G,KAAK,EAAE;cAAEjD,KAAK,EAAEvD,KAAK,CAACO;YAAM,CAAE;YAAA6G,QAAA,GAAE,CAAC2F,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,IAAI,EAAE,EAAEgD,MAAM,EAAC,GAAC,EAAC+X,IAAI,CAACta,SAAS;UAAA;YAAA4F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC5FtH,OAAA;YAAK6G,KAAK,EAAE;cAAEgC,OAAO,EAAC,MAAM;cAAE0D,GAAG,EAAC;YAAG,CAAE;YAAA9E,QAAA,gBACrCzH,OAAA;cAAQyM,OAAO,EAAEA,CAAA,KAAM;gBAAE,IAAGoP,IAAI,CAAC1a,MAAM,IAAI,CAACiM,OAAO,CAACyO,IAAI,CAAC/a,EAAE,CAAC,IAAI,EAAE,EAAEgD,MAAM,GAAG,CAAC,EAAE;kBAAE6J,QAAQ,CAACqN,CAAC,IAAIA,CAAC,GAAGa,IAAI,CAAC1a,MAAM,CAAC;kBAAE8Z,UAAU,CAAC,CAAC;gBAAE;gBAAEX,aAAa,CAAChX,IAAI,CAAC2I,GAAG,CAAC4E,cAAc,CAACrL,OAAO,GAAG,CAAC,EAAE0J,OAAO,CAACpL,MAAM,GAAG,CAAC,CAAC,CAAC;cAAE,CAAE;cAAC4D,SAAS,EAAC,iBAAiB;cAAAD,QAAA,EAAC;YAAM;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACzPtH,OAAA;cAAQyM,OAAO,EAAEA,CAAA,KAAMY,UAAU,CAACiE,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE,CAACuK,IAAI,CAAC/a,EAAE,GAAG;cAAG,CAAC,CAAC,CAAE;cAAC4G,SAAS,EAAC,eAAe;cAAAD,QAAA,EAAC;YAAK;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9G,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAEV;IACA,IAAGuU,IAAI,CAAC9a,IAAI,KAAK,UAAU,EAAE,oBAAOf,OAAA,CAACmL,QAAQ;MAAC3J,SAAS,EAAEqa,IAAI,CAACra,SAAU;MAAC4J,UAAU,EAAEkQ,kBAAmB;MAACla,MAAM,EAAEya,IAAI,CAACza;IAAO;MAAA+F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAChI,OAAO,IAAI;EACb;EAEA5H,SAAS,CAAC,MAAI;IAAE,IAAGmO,WAAW,EAAEG,eAAe,CAAC,GAAG,CAAC;EAAE,CAAC,EAAE,CAACH,WAAW,CAAC,CAAC;EAEvE,oBACE7N,OAAA;IAAK6G,KAAK,EAAE;MAAEuW,SAAS,EAAC,OAAO;MAAEtW,QAAQ,EAAC,UAAU;MAAE2B,QAAQ,EAAC,QAAQ;MAAEC,UAAU,EAAErI,KAAK,CAACI,EAAE;MAAEmD,KAAK,EAAEvD,KAAK,CAACM;IAAK,CAAE;IAAA8G,QAAA,gBACjHzH,OAAA;MAAAyH,QAAA,EAAQ;AACd;AACA,sBAAsBpH,KAAK,CAACC,MAAM;AAClC,oBAAoBD,KAAK,CAACE,IAAI;AAC9B,uBAAuBF,KAAK,CAACG,OAAO;AACpC,oBAAoBH,KAAK,CAACM,IAAI;AAC9B,qBAAqBN,KAAK,CAACO,KAAK;AAChC;AACA;AACA;AACA;AACA;IAAO;MAAAuG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEVtH,OAAA,CAACkJ,YAAY;MAAA/B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAGf2G,UAAU,KAAK,QAAQ,iBACtBjO,OAAA,CAAC8E,eAAe;MAACK,WAAW,EAAEgJ,QAAQ,IAAII,QAAQ,CAACiD,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,GAAGvD,UAAU,CAAE;MAAClJ,GAAG,EAAEwJ,QAAS;MAACvJ,QAAQ,EAAEA,QAAS;MAACC,OAAO,EAAEgN,gBAAiB;MAAC/M,OAAO,EAAEgN;IAAiB;MAAA/K,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAC3L,EACA2G,UAAU,KAAK,QAAQ,iBAAIjO,OAAA,CAACwH,wBAAwB;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAGxDtH,OAAA;MAAK6G,KAAK,EAAE;QAAEC,QAAQ,EAAC,OAAO;QAAEiE,IAAI,EAAC,EAAE;QAAEC,GAAG,EAAC,EAAE;QAAE/D,MAAM,EAAC,GAAG;QAAE4B,OAAO,EAAC,MAAM;QAAE0D,GAAG,EAAC,EAAE;QAAED,UAAU,EAAC;MAAS,CAAE;MAAA7E,QAAA,eACzGzH,OAAA;QAAK6G,KAAK,EAAE;UAAEuB,OAAO,EAAC,CAAC;UAAEI,YAAY,EAAC,EAAE;UAAEE,UAAU,EAAC,kBAAkB;UAAEuC,MAAM,EAAC;QAAmC,CAAE;QAAAxD,QAAA,gBACnHzH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAAEvD,KAAK,CAACM,IAAI;YAAE2H,UAAU,EAAC,GAAG;YAAES,QAAQ,EAAC;UAAG,CAAE;UAAAtB,QAAA,EAAC;QAAgB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACtFtH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;YAAEmI,QAAQ,EAAC,EAAE;YAAEH,SAAS,EAAC;UAAE,CAAE;UAAAnB,QAAA,GAC1DwG,UAAU,KAAK,OAAO,IAAI,uBAAuB,EACjDA,UAAU,KAAK,QAAQ,IAAI,yCAAyC,EACpEA,UAAU,KAAK,QAAQ,IAAI,oCAAoC,EAC/DA,UAAU,KAAK,OAAO,IAAI,eAAe;QAAA;UAAA9G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACNtH,OAAA;UAAK6G,KAAK,EAAE;YAAE+B,SAAS,EAAC,CAAC;YAAEC,OAAO,EAAC,MAAM;YAAE0D,GAAG,EAAC;UAAE,CAAE;UAAA9E,QAAA,gBACjDzH,OAAA;YAAO0H,SAAS,EAAC,eAAe;YAACb,KAAK,EAAE;cAAEuB,OAAO,EAAC,SAAS;cAAEyE,MAAM,EAAC;YAAU,CAAE;YAAApF,QAAA,GAAC,oBAE/E,eAAAzH,OAAA;cAAOe,IAAI,EAAC,MAAM;cAACsc,MAAM,EAAC,SAAS;cAACJ,QAAQ,EAAE9K,iBAAkB;cAACtL,KAAK,EAAE;gBAAEgC,OAAO,EAAC;cAAO;YAAE;cAAA1B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzF,CAAC,eACRtH,OAAA;YAAQyM,OAAO,EAAEiG,WAAY;YAAChL,SAAS,EAAC,iBAAiB;YAACb,KAAK,EAAE;cAAEuB,OAAO,EAAC;YAAW,CAAE;YAAAX,QAAA,EAAC;UAAK;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEL+G,eAAe,iBACdrO,OAAA;MAAK6G,KAAK,EAAE;QAAEC,QAAQ,EAAC,OAAO;QAAEiE,IAAI,EAAC,EAAE;QAAEuS,MAAM,EAAC,EAAE;QAAErW,MAAM,EAAC;MAAI,CAAE;MAAAQ,QAAA,eAC/DzH,OAAA;QAAK6G,KAAK,EAAE;UAAEuB,OAAO,EAAC,EAAE;UAAEI,YAAY,EAAC,EAAE;UAAEE,UAAU,EAAC,iBAAiB;UAAEuC,MAAM,EAAC;QAAmC,CAAE;QAAAxD,QAAA,gBACnHzH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAACvD,KAAK,CAACM,IAAI;YAAE2H,UAAU,EAAC,GAAG;YAAES,QAAQ,EAAC;UAAG,CAAE;UAAAtB,QAAA,EAAC;QAAqB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC1FtH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAACvD,KAAK,CAACO,KAAK;YAAEmI,QAAQ,EAAC,EAAE;YAAEH,SAAS,EAAC;UAAE,CAAE;UAAAnB,QAAA,EAAC;QAAqI;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEA,CAACuG,WAAW,iBAAI7N,OAAA,CAACkI,cAAc;MAACC,QAAQ,EAAE4F;IAAa;MAAA5G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE3DtH,OAAA;MAAQqF,GAAG,EAAEyJ,WAAY;MAACpH,SAAS,EAAC;IAAuC;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9EtH,OAAA;MAAQqF,GAAG,EAAEwJ,SAAU;MAACnH,SAAS,EAAC;IAAwC;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE7EtH,OAAA;MAAK6G,KAAK,EAAE;QAAEC,QAAQ,EAAC,OAAO;QAAEyW,KAAK,EAAC,EAAE;QAAEvS,GAAG,EAAC,EAAE;QAAE/D,MAAM,EAAC,GAAG;QAAE4B,OAAO,EAAC,MAAM;QAAEwD,aAAa,EAAC,QAAQ;QAAEC,UAAU,EAAC,UAAU;QAAEC,GAAG,EAAC;MAAE,CAAE;MAAA9E,QAAA,gBACnIzH,OAAA;QAAKc,EAAE,EAAC,aAAa;QAAC+F,KAAK,EAAE;UAAEuB,OAAO,EAAC,WAAW;UAAEI,YAAY,EAAC,GAAG;UAAEE,UAAU,EAAC,0BAA0BrI,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACG,OAAO,GAAG;UAAEoD,KAAK,EAAC,MAAM;UAAE0E,UAAU,EAAC;QAAI,CAAE;QAAAb,QAAA,GAAEiG,KAAK,EAAC,MAAI;MAAA;QAAAvG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/LtH,OAAA;QAAK6G,KAAK,EAAE;UAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;UAAEmI,QAAQ,EAAC;QAAG,CAAE;QAAAtB,QAAA,GAAC,QAAM,EAACnE,IAAI,CAACO,KAAK,CAAC6J,KAAK,GAAC,EAAE,CAAC,GAAG,CAAC;MAAA;QAAAvG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpF,CAAC,eAENtH,OAAA;MAAK6G,KAAK,EAAE;QAAEC,QAAQ,EAAC,OAAO;QAAEiE,IAAI,EAAC,EAAE;QAAEC,GAAG,EAAC,KAAK;QAAEZ,SAAS,EAAC,kBAAkB;QAAEnD,MAAM,EAAC,GAAG;QAAE4B,OAAO,EAAC,MAAM;QAAEwD,aAAa,EAAC,QAAQ;QAAEE,GAAG,EAAC;MAAG,CAAE;MAAA9E,QAAA,EAC5IyH,OAAO,CAAC0N,GAAG,CAAC,CAACI,CAAC,EAAE7Z,CAAC,kBAChBnD,OAAA;QAAgByM,OAAO,EAAEA,CAAA,KAAM;UAAEyE,YAAY,CAAC1L,OAAO,GAAGrC,CAAC;UAAE8N,YAAY,CAAC9N,CAAC,CAAC;UAAEmX,aAAa,CAACnX,CAAC,CAAC;QAAE,CAAE;QAAC,cAAY,iBAAiBA,CAAC,GAAC,CAAC,EAAG;QAAC0D,KAAK,EAAE;UAAElE,KAAK,EAAC,EAAE;UAAEI,MAAM,EAAC,EAAE;UAAEyF,YAAY,EAAC,GAAG;UAAEE,UAAU,EAAEvF,CAAC,KAAK2N,WAAW,GAAG,0BAA0BzQ,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACG,OAAO,GAAG,GAAG,wBAAwB;UAAEyK,MAAM,EAAC;QAAmC;MAAE,GAA5U9H,CAAC;QAAAgE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA6U,CAC5V;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENtH,OAAA;MAAKqF,GAAG,EAAEyK,YAAa;MAACpI,SAAS,EAAC,8DAA8D;MAAAD,QAAA,eAC9FzH,OAAA;QAAK6G,KAAK,EAAE;UAAE9D,MAAM,EAAE,GAAGmM,OAAO,CAACpL,MAAM,GAAGf,MAAM;QAAK,CAAE;QAAA0E,QAAA,EACpDyH,OAAO,CAAC0N,GAAG,CAAC,CAACf,IAAI,EAAE1Y,CAAC,kBACnBnD,OAAA;UAAuBqF,GAAG,EAAE2K,aAAc;UAACnJ,KAAK,EAAE;YAAE9D,MAAM,EAAE,GAAGA,MAAM;UAAK,CAAE;UAAC2E,SAAS,EAAC,gDAAgD;UAAAD,QAAA,eACrIzH,OAAA;YAAK6G,KAAK,EAAE;cAAElE,KAAK,EAAC,MAAM;cAAEqZ,QAAQ,EAAC,IAAI;cAAEC,MAAM,EAAC,QAAQ;cAAEpT,OAAO,EAAC,MAAM;cAAE8T,mBAAmB,EAAC,SAAS;cAAEpQ,GAAG,EAAC,EAAE;cAAED,UAAU,EAAC;YAAS,CAAE;YAAA7E,QAAA,gBACvIzH,OAAA;cAAO6G,KAAK,EAAE;gBAAEgC,OAAO,EAAEjG,MAAM,CAACC,UAAU,IAAI,IAAI,GAAG,MAAM,GAAG,MAAM;gBAAEwJ,aAAa,EAAC,QAAQ;gBAAEE,GAAG,EAAC,EAAE;gBAAED,UAAU,EAAC;cAAa,CAAE;cAAA7E,QAAA,gBAC9HzH,OAAA;gBAAK6G,KAAK,EAAE;kBAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;kBAAEmI,QAAQ,EAAC;gBAAG,CAAE;gBAAAtB,QAAA,EAAC;cAAO;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC9DtH,OAAA,CAACH,MAAM,CAAC2M,GAAG;gBAACM,OAAO,EAAE;kBAAErI,MAAM,EAAEqM,WAAW,KAAK3N,CAAC,GAAG,CAAC,GAAG;gBAAE,CAAE;gBAACwF,UAAU,EAAE;kBAAE5H,IAAI,EAAC;gBAAS,CAAE;gBAAC8F,KAAK,EAAE;kBAAEkC,QAAQ,EAAC,EAAE;kBAAET,UAAU,EAAC,GAAG;kBAAE1E,KAAK,EAAEvD,KAAK,CAACM;gBAAK,CAAE;gBAAA8G,QAAA,EAAEwH,MAAM,CAAC9L,CAAC,GAAC,CAAC,CAAC,CAACqa,QAAQ,CAAC,CAAC,EAAE,GAAG;cAAC;gBAAArW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAa,CAAC,eACjMtH,OAAA;gBAAK6G,KAAK,EAAE;kBAAElE,KAAK,EAAC,CAAC;kBAAEI,MAAM,EAAC,MAAM;kBAAE2F,UAAU,EAAC,2BAA2BrI,KAAK,CAACC,MAAM,KAAKD,KAAK,CAACG,OAAO,GAAG;kBAAEmH,OAAO,EAAC,IAAI;kBAAEa,YAAY,EAAC;gBAAE;cAAE;gBAAArB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5I,CAAC,eAERtH,OAAA;cAAK6G,KAAK,EAAE;gBAAE2B,YAAY,EAAC,EAAE;gBAAEJ,OAAO,EAAC,EAAE;gBAAEC,SAAS,EAAC,QAAQ;gBAAEK,UAAU,EAAErI,KAAK,CAACK,KAAK;gBAAEuK,MAAM,EAAC,kCAAkC;gBAAEsR,cAAc,EAAC;cAAa,CAAE;cAAA9U,QAAA,eAC/JzH,OAAA,CAACH,MAAM,CAAC2M,GAAG;gBAAC2P,OAAO,EAAE;kBAAExU,OAAO,EAAC,CAAC;kBAAEnE,CAAC,EAAC;gBAAG,CAAE;gBAACsJ,OAAO,EAAE;kBAAEnF,OAAO,EAAC,CAAC;kBAAEnE,CAAC,EAAC;gBAAE,CAAE;gBAACmF,UAAU,EAAE;kBAAEyS,QAAQ,EAAC;gBAAI,CAAE;gBAAA3T,QAAA,eAClGzH,OAAA,CAAC4b,cAAc;kBAACC,IAAI,EAAEA,IAAK;kBAACxB,GAAG,EAAElX;gBAAE;kBAAAgE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5B;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GAbMuU,IAAI,CAAC/a,EAAE;UAAAqG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcZ,CACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENtH,OAAA,CAACF,eAAe;MAAA2H,QAAA,EAAEkH,UAAU,iBAC1B3O,OAAA,CAACH,MAAM,CAAC2M,GAAG;QAAC2P,OAAO,EAAE;UAAExU,OAAO,EAAC;QAAE,CAAE;QAACmF,OAAO,EAAE;UAAEnF,OAAO,EAAC;QAAE,CAAE;QAAC8V,IAAI,EAAE;UAAE9V,OAAO,EAAC;QAAE,CAAE;QAACd,KAAK,EAAE;UAAEC,QAAQ,EAAC,OAAO;UAAEC,KAAK,EAAC,CAAC;UAAEE,MAAM,EAAC,EAAE;UAAE4B,OAAO,EAAC,MAAM;UAAEyD,UAAU,EAAC,QAAQ;UAAExD,cAAc,EAAC;QAAS,CAAE;QAAArB,QAAA,eAC7LzH,OAAA;UAAK6G,KAAK,EAAE;YAAElE,KAAK,EAAC,gBAAgB;YAAEyF,OAAO,EAAC,EAAE;YAAEI,YAAY,EAAC,EAAE;YAAEE,UAAU,EAAC,iBAAiB;YAAEuC,MAAM,EAAC,kCAAkC;YAAEsR,cAAc,EAAC;UAAY,CAAE;UAAA9U,QAAA,gBACvKzH,OAAA;YAAI6G,KAAK,EAAE;cAAEjD,KAAK,EAAEvD,KAAK,CAACM,IAAI;cAAEoI,QAAQ,EAAC,EAAE;cAAET,UAAU,EAAC;YAAI,CAAE;YAAAb,QAAA,EAAC;UAAW;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/EtH,OAAA;YAAG6G,KAAK,EAAE;cAAEjD,KAAK,EAAEvD,KAAK,CAACO,KAAK;cAAEgI,SAAS,EAAC;YAAG,CAAE;YAAAnB,QAAA,GAAC,aAAW,eAAAzH,OAAA;cAAQ6G,KAAK,EAAE;gBAAEjD,KAAK,EAAEvD,KAAK,CAACM;cAAK,CAAE;cAAA8G,QAAA,EAAEiG;YAAK;cAAAvG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC,gCAA4B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACjJtH,OAAA;YAAK6G,KAAK,EAAE;cAAE+B,SAAS,EAAC,EAAE;cAAEC,OAAO,EAAC,MAAM;cAAEC,cAAc,EAAC;YAAS,CAAE;YAAArB,QAAA,eACpEzH,OAAA;cAAQyM,OAAO,EAAEA,CAAA,KAAMiP,QAAQ,CAAC,CAAE;cAAChU,SAAS,EAAC,iBAAiB;cAAAD,QAAA,EAAC;YAAK;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI;IACb;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAkB,CAAC,eAEpBtH,OAAA,CAACF,eAAe;MAAA2H,QAAA,EAAEgH,aAAa,iBAC7BzO,OAAA,CAACH,MAAM,CAAC2M,GAAG;QAAC2P,OAAO,EAAE;UAAExU,OAAO,EAAC;QAAE,CAAE;QAACmF,OAAO,EAAE;UAAEnF,OAAO,EAAC;QAAE,CAAE;QAAC8V,IAAI,EAAE;UAAE9V,OAAO,EAAC;QAAE,CAAE;QAACd,KAAK,EAAE;UAAEC,QAAQ,EAAC,OAAO;UAAEC,KAAK,EAAC,CAAC;UAAEE,MAAM,EAAC,EAAE;UAAE4B,OAAO,EAAC,MAAM;UAAEyD,UAAU,EAAC,QAAQ;UAAExD,cAAc,EAAC,QAAQ;UAAEV,OAAO,EAAC;QAAG,CAAE;QAAAX,QAAA,eACzMzH,OAAA;UAAK6G,KAAK,EAAE;YAAElE,KAAK,EAAC,gBAAgB;YAAEyF,OAAO,EAAC,EAAE;YAAEI,YAAY,EAAC,EAAE;YAAEE,UAAU,EAAC,iBAAiB;YAAEuC,MAAM,EAAC,kCAAkC;YAAEsR,cAAc,EAAC;UAAY,CAAE;UAAA9U,QAAA,gBACvKzH,OAAA;YAAK6G,KAAK,EAAE;cAAEgC,OAAO,EAAC,MAAM;cAAEC,cAAc,EAAC,eAAe;cAAEwD,UAAU,EAAC;YAAS,CAAE;YAAA7E,QAAA,gBAClFzH,OAAA;cAAI6G,KAAK,EAAE;gBAAEjD,KAAK,EAAEvD,KAAK,CAACM,IAAI;gBAAEsb,MAAM,EAAC;cAAE,CAAE;cAAAxU,QAAA,EAAC;YAAc;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/DtH,OAAA;cAAQyM,OAAO,EAAEA,CAAA,KAAMiC,gBAAgB,CAAC,KAAK,CAAE;cAAChH,SAAS,EAAC,eAAe;cAACb,KAAK,EAAE;gBAAEuB,OAAO,EAAC;cAAW,CAAE;cAAAX,QAAA,EAAC;YAAK;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpH,CAAC,eACNtH,OAAA;YAAK6G,KAAK,EAAE;cAAE+B,SAAS,EAAC,EAAE;cAAE8U,SAAS,EAAC,MAAM;cAAEjV,QAAQ,EAAC,MAAM;cAAEC,UAAU,EAAC,wBAAwB;cAAEN,OAAO,EAAC,EAAE;cAAEI,YAAY,EAAC,CAAC;cAAE5E,KAAK,EAAEvD,KAAK,CAACM;YAAK,CAAE;YAAA8G,QAAA,EAAE+F,IAAI,CAACwB,SAAS,CAAC5B,OAAO,EAAE,IAAI,EAAE,CAAC;UAAC;YAAAjG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC7LtH,OAAA;YAAK6G,KAAK,EAAE;cAAE+B,SAAS,EAAC,EAAE;cAAEC,OAAO,EAAC,MAAM;cAAEC,cAAc,EAAC;YAAW,CAAE;YAAArB,QAAA,eACtEzH,OAAA;cAAQyM,OAAO,EAAEA,CAAA,KAAM;gBAAEiC,gBAAgB,CAAC,KAAK,CAAC;gBAAEgN,QAAQ,CAAC,CAAC;cAAE,CAAE;cAAChU,SAAS,EAAC,iBAAiB;cAAAD,QAAA,EAAC;YAAO;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1G,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI;IACb;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAkB,CAAC,EAEnB2G,UAAU,KAAK,QAAQ,iBACtBjO,OAAA;MAAK6G,KAAK,EAAE;QAAEC,QAAQ,EAAC,OAAO;QAAEiE,IAAI,EAAC,CAAC;QAAEwS,KAAK,EAAC,CAAC;QAAED,MAAM,EAAC,EAAE;QAAEzU,OAAO,EAAC,MAAM;QAAEC,cAAc,EAAC,QAAQ;QAAE7B,MAAM,EAAC;MAAI,CAAE;MAAAQ,QAAA,eAChHzH,OAAA;QAAK6G,KAAK,EAAE;UAAEuB,OAAO,EAAC,EAAE;UAAEI,YAAY,EAAC,EAAE;UAAEE,UAAU,EAAC,kBAAkB;UAAEuC,MAAM,EAAC,kCAAkC;UAAEpC,OAAO,EAAC,MAAM;UAAE0D,GAAG,EAAC,EAAE;UAAED,UAAU,EAAC;QAAS,CAAE;QAAA7E,QAAA,gBACjKzH,OAAA;UAAK6G,KAAK,EAAE;YAAEjD,KAAK,EAAEvD,KAAK,CAACM,IAAI;YAAE2H,UAAU,EAAC;UAAI,CAAE;UAAAb,QAAA,EAAC;QAA2C;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACpGtH,OAAA;UAAQyM,OAAO,EAAEA,CAAA,KAAMiG,WAAW,CAAC,CAAE;UAAChL,SAAS,EAAC,iBAAiB;UAAAD,QAAA,EAAC;QAAK;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7E;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC6F,GAAA,CAlnBuBD,kBAAkB;AAAAyQ,GAAA,GAAlBzQ,kBAAkB;AAAA,IAAA3F,EAAA,EAAAU,GAAA,EAAAgB,GAAA,EAAAiC,GAAA,EAAA+B,GAAA,EAAA0Q,GAAA;AAAAC,YAAA,CAAArW,EAAA;AAAAqW,YAAA,CAAA3V,GAAA;AAAA2V,YAAA,CAAA3U,GAAA;AAAA2U,YAAA,CAAA1S,GAAA;AAAA0S,YAAA,CAAA3Q,GAAA;AAAA2Q,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}