{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\App\\\\gamified-survey\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/**\n * src/App.js — PERFORMANCE-FIXED\n * - Completed + validated JSX (no truncation)\n * - Lower brick density and capped DPR for performance\n * - Frame-rate cap on canvas draw loop (45 FPS default)\n * - Precomputed brick colors to avoid inner-loop color math\n * - Slightly increased vibration speed/amplitude as requested\n * - Reduced expensive CSS filters and avoided repaint-heavy operations\n * - Loader, UI, and interactions preserved\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst THEME = {\n  bg: \"#05060A\",\n  card: \"rgba(8,12,20,0.86)\",\n  text: \"#E9F8FF\",\n  muted: \"#9FB7C7\",\n  primary: \"#7C3AED\",\n  cyan: \"#06B6D4\",\n  accent: \"#00E5FF\",\n  warm: \"#FFB86B\"\n};\nconst MAX_VIBRATE_AMPLITUDE = 8; // increased default slightly\nconst FRAME_CAP = 45; // fps\n\nconst QUESTIONS = [{\n  id: \"intro\",\n  type: \"stage\",\n  title: \"Neon Nightfall\",\n  subtitle: \"Decisions reverberate — pick fast, win faster.\"\n}, {\n  id: \"q1\",\n  type: \"mcq\",\n  title: \"Vibe Check — choose your drive\",\n  choices: [\"Prototype & ship\", \"Learn a trick\", \"Find teammates\", \"Prize hunter\"],\n  points: {\n    \"Prototype & ship\": 20,\n    \"Learn a trick\": 10,\n    \"Find teammates\": 15,\n    \"Prize hunter\": 5\n  },\n  flavor: \"A neon corridor; your choice sets the tone.\"\n}, {\n  id: \"q2\",\n  type: \"rating\",\n  title: \"Charge Level — how amped are you?\",\n  scale: 5,\n  pointsPerStar: 6,\n  flavor: \"Lights sync to your excitement.\"\n}, {\n  id: \"q3\",\n  type: \"text\",\n  title: \"One-line pitch — your spark\",\n  maxLength: 140,\n  points: 15,\n  flavor: \"A single line. Make it crisp.\"\n}, {\n  id: \"q4\",\n  type: \"minigame\",\n  title: \"Core Tap — power the idea\",\n  timeLimit: 6000,\n  pointsOnSuccess: 30,\n  flavor: \"Rapid taps to energize the prototype core.\"\n}, {\n  id: \"end\",\n  type: \"stage\",\n  title: \"Curtain Call\",\n  subtitle: \"Badges claimed. Sunlight pending.\"\n}];\nfunction lerp(a, b, n) {\n  return (1 - n) * a + n * b;\n}\nfunction hexToRgb(hex) {\n  const h = hex.replace('#', '');\n  return [parseInt(h.substring(0, 2), 16), parseInt(h.substring(2, 4), 16), parseInt(h.substring(4, 6), 16)];\n}\n\n// small confetti - light-weight\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  const ctx = canvas.getContext('2d');\n  const W = canvas.width = window.innerWidth;\n  const H = canvas.height = window.innerHeight;\n  const palette = [THEME.primary, THEME.cyan, THEME.accent, THEME.warm];\n  const pieces = Array.from({\n    length: 50\n  }).map(() => ({\n    x: W / 2 + (Math.random() - 0.5) * 200,\n    y: H / 3 + (Math.random() - 0.5) * 60,\n    vx: (Math.random() - 0.5) * 10,\n    vy: (Math.random() - 1.6) * 8,\n    r: Math.random() * 5 + 2,\n    c: palette[Math.floor(Math.random() * palette.length)],\n    life: 80 + Math.random() * 80\n  }));\n  function frame() {\n    ctx.clearRect(0, 0, W, H);\n    let alive = false;\n    for (const p of pieces) {\n      if (p.life > 0) {\n        alive = true;\n        p.vy += 0.2;\n        p.x += p.vx;\n        p.y += p.vy;\n        ctx.save();\n        ctx.translate(p.x, p.y);\n        ctx.fillStyle = p.c;\n        ctx.fillRect(-p.r / 2, -p.r / 2, p.r, p.r * 0.6);\n        ctx.restore();\n        p.life--;\n      }\n    }\n    if (alive) requestAnimationFrame(frame);else ctx.clearRect(0, 0, W, H);\n  }\n  frame();\n}\n\n// Custom cursor (light-weight)\nfunction CustomCursor() {\n  _s();\n  const dot = useRef(null);\n  const ring = useRef(null);\n  const pos = useRef({\n    x: window.innerWidth / 2,\n    y: window.innerHeight / 2\n  });\n  const hover = useRef(false);\n  const raf = useRef(null);\n  useEffect(() => {\n    function mm(e) {\n      pos.current.x = e.clientX;\n      pos.current.y = e.clientY;\n    }\n    function hov(e) {\n      const t = e.target;\n      hover.current = !!(t.closest && t.closest('button, a, [role=\"button\"], input, textarea'));\n    }\n    window.addEventListener('mousemove', mm);\n    window.addEventListener('mouseover', hov);\n    let cx = pos.current.x,\n      cy = pos.current.y,\n      scale = 1;\n    function loop() {\n      var _ring$current, _ring$current$dataset, _ring$current2, _ring$current2$datase;\n      cx = lerp(cx, pos.current.x, 0.18);\n      cy = lerp(cy, pos.current.y, 0.18);\n      if (dot.current) dot.current.style.transform = `translate3d(${cx - 6}px, ${cy - 6}px, 0)`;\n      const rx = lerp(parseFloat(((_ring$current = ring.current) === null || _ring$current === void 0 ? void 0 : (_ring$current$dataset = _ring$current.dataset) === null || _ring$current$dataset === void 0 ? void 0 : _ring$current$dataset.x) || cx), cx, 0.08);\n      const ry = lerp(parseFloat(((_ring$current2 = ring.current) === null || _ring$current2 === void 0 ? void 0 : (_ring$current2$datase = _ring$current2.dataset) === null || _ring$current2$datase === void 0 ? void 0 : _ring$current2$datase.y) || cy), cy, 0.08);\n      if (ring.current) {\n        ring.current.dataset.x = rx;\n        ring.current.dataset.y = ry;\n        scale = lerp(scale, hover.current ? 1.8 : 1, 0.12);\n        ring.current.style.transform = `translate3d(${rx - 18}px, ${ry - 18}px, 0) scale(${scale})`;\n      }\n      raf.current = requestAnimationFrame(loop);\n    }\n    raf.current = requestAnimationFrame(loop);\n    return () => {\n      window.removeEventListener('mousemove', mm);\n      window.removeEventListener('mouseover', hov);\n      cancelAnimationFrame(raf.current);\n    };\n  }, []);\n  useEffect(() => {\n    document.documentElement.classList.add('custom-cursor-hide');\n    return () => document.documentElement.classList.remove('custom-cursor-hide');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ring,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 36,\n        height: 36,\n        borderRadius: 9999,\n        border: '1.2px solid rgba(124,58,237,0.12)',\n        pointerEvents: 'none',\n        zIndex: 99999\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dot,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 10,\n        height: 10,\n        borderRadius: 9999,\n        background: 'white',\n        pointerEvents: 'none',\n        boxShadow: '0 8px 20px rgba(6,182,212,0.06)',\n        zIndex: 100000\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n// MiniGame (unchanged)\n_s(CustomCursor, \"3iysE6F1KqeOAzLjM8ftqBxg3Jk=\");\n_c = CustomCursor;\nfunction MiniGame({\n  timeLimit = 6000,\n  onComplete,\n  flavor\n}) {\n  _s2();\n  const [charge, setCharge] = useState(0);\n  const runningRef = useRef(false);\n  const raf = useRef(null);\n  const started = useRef(0);\n  const boost = useRef(0);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  function start() {\n    if (runningRef.current) return;\n    runningRef.current = true;\n    boost.current = 0;\n    started.current = performance.now();\n    tick();\n  }\n  function tick() {\n    raf.current = requestAnimationFrame(() => {\n      const elapsed = performance.now() - started.current;\n      const base = Math.min(100, Math.round(elapsed / timeLimit * 100));\n      const total = Math.min(100, base + boost.current);\n      setCharge(total);\n      if (total >= 100) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(true);\n        return;\n      }\n      if (elapsed >= timeLimit) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(total >= 60);\n        return;\n      }\n      tick();\n    });\n  }\n  function tap() {\n    if (!runningRef.current) start();else {\n      boost.current = Math.min(100, boost.current + 12);\n      setCharge(c => Math.min(100, c + 12));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: THEME.muted,\n        fontSize: 13\n      },\n      children: flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      onClick: tap,\n      whileTap: {\n        scale: 0.94\n      },\n      whileHover: {\n        scale: 1.02\n      },\n      transition: {\n        type: 'spring',\n        stiffness: 300\n      },\n      style: {\n        width: 140,\n        height: 140,\n        borderRadius: 999,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        background: `linear-gradient(135deg, ${THEME.primary}, ${THEME.cyan})`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 900,\n          color: '#06060A'\n        },\n        children: \"TAP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        maxWidth: 520\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.muted,\n          marginBottom: 6\n        },\n        children: [\"Charge: \", charge, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 12,\n          width: '100%',\n          borderRadius: 10,\n          overflow: 'hidden',\n          background: 'rgba(255,255,255,0.02)'\n        },\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            width: 0\n          },\n          animate: {\n            width: `${charge}%`\n          },\n          transition: {\n            type: 'spring',\n            stiffness: 140,\n            damping: 16\n          },\n          style: {\n            height: '100%',\n            background: `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n_s2(MiniGame, \"OJXi0JsEnE6Heju4kvIAJIi1Sgc=\");\n_c2 = MiniGame;\nexport default function GamifiedSurveyForm() {\n  _s3();\n  const [answers, setAnswers] = useState(() => {\n    try {\n      const r = localStorage.getItem('gamifiedSurveyAnswers');\n      return r ? JSON.parse(r) : {};\n    } catch {\n      return {};\n    }\n  });\n  const [score, setScore] = useState(() => Number(localStorage.getItem('gamifiedSurveyScore')) || 0);\n  const [showFinish, setShowFinish] = useState(false);\n  const confettiCanvas = useRef(null);\n  const bgCanvas = useRef(null);\n  const [height, setHeight] = useState(window.innerHeight);\n  useEffect(() => {\n    function onResize() {\n      setHeight(window.innerHeight);\n    }\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n  useEffect(() => localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n  const visible = QUESTIONS; // keep simple for perf (no depends-on logic here)\n\n  // scrolling snap state\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addRef = el => {\n    if (el) chapterRefs.current.push(el);\n  };\n  const targetY = useRef(0);\n  const currentY = useRef(0);\n  const rafUI = useRef(null);\n  const pageIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const cursor = useRef({\n    x: window.innerWidth / 2,\n    y: window.innerHeight / 2\n  });\n  useEffect(() => {\n    function onPointer(e) {\n      cursor.current.x = e.clientX;\n      cursor.current.y = e.clientY;\n    }\n    window.addEventListener('pointermove', onPointer);\n    return () => window.removeEventListener('pointermove', onPointer);\n  }, []);\n\n  // loader\n  const [loading, setLoading] = useState(true);\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    let raf = null;\n    const start = performance.now();\n    const D = 700;\n    function tick(now) {\n      const t = Math.min(1, (now - start) / D);\n      setProgress(Math.round(100 * t));\n      if (t < 1) raf = requestAnimationFrame(tick);else setTimeout(() => setLoading(false), 160);\n    }\n    raf = requestAnimationFrame(tick);\n    return () => cancelAnimationFrame(raf);\n  }, []);\n\n  // simple wheel -> page snap (jump)\n  useEffect(() => {\n    let acc = 0;\n    let lock = false;\n    function clamp(i) {\n      return Math.max(0, Math.min(i, visible.length - 1));\n    }\n    function setPage(i) {\n      const c = clamp(i);\n      pageIndexRef.current = c;\n      targetY.current = c * height;\n      setActiveIndex(c);\n    }\n    function onWheel(e) {\n      if (loading) return;\n      e.preventDefault();\n      acc += e.deltaY;\n      const TH = 80;\n      if (Math.abs(acc) > TH && !lock) {\n        const dir = acc > 0 ? 1 : -1;\n        setPage(pageIndexRef.current + dir);\n        acc = 0;\n        lock = true;\n        setTimeout(() => lock = false, 300);\n      }\n    }\n    window.addEventListener('wheel', onWheel, {\n      passive: false\n    });\n    return () => window.removeEventListener('wheel', onWheel);\n  }, [height, loading, visible.length]);\n\n  // UI lerp loop (light-weight)\n  useEffect(() => {\n    function loop() {\n      currentY.current = lerp(currentY.current, targetY.current, 0.28);\n      if (containerRef.current) containerRef.current.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n      const idx = Math.round(currentY.current / height);\n      if (idx !== activeIndex) setActiveIndex(idx);\n      rafUI.current = requestAnimationFrame(loop);\n    }\n    rafUI.current = requestAnimationFrame(loop);\n    return () => cancelAnimationFrame(rafUI.current);\n  }, [height]);\n\n  // ---------------- Bricks canvas: performance conscious ----------------\n  useEffect(() => {\n    const canvas = bgCanvas.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    let W = window.innerWidth,\n      H = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.2);\n    canvas.width = W * DPR;\n    canvas.height = H * DPR;\n    canvas.style.width = `${W}px`;\n    canvas.style.height = `${H}px`;\n    ctx.scale(DPR, DPR);\n\n    // determine grid but cap total bricks strongly for perf\n    let BRW = window.innerWidth < 640 ? 120 : 96;\n    let BRH = window.innerWidth < 640 ? 56 : 44;\n    let cols = Math.ceil(W / BRW),\n      rows = Math.ceil(H / BRH);\n    const MAX = 600;\n    if (cols * rows > MAX) {\n      const scaleUp = Math.sqrt(cols * rows / MAX);\n      BRW = Math.ceil(BRW * scaleUp);\n      BRH = Math.ceil(BRH * scaleUp);\n      cols = Math.ceil(W / BRW);\n      rows = Math.ceil(H / BRH);\n    }\n    const bricks = [];\n    const purple = hexToRgb(THEME.primary);\n    const cyan = hexToRgb(THEME.cyan);\n    const accent = hexToRgb(THEME.accent);\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const x = c * BRW + (r % 2 ? BRW / 2 : 0);\n        const y = r * BRH;\n        const cx = x + BRW / 2;\n        const cy = y + BRH / 2;\n        // precompute base color to avoid heavy math each frame\n        const mix = Math.random();\n        const r0 = Math.round((1 - mix) * purple[0] + mix * cyan[0]);\n        const g0 = Math.round((1 - mix) * purple[1] + mix * cyan[1]);\n        const b0 = Math.round((1 - mix) * purple[2] + mix * cyan[2]);\n        bricks.push({\n          x,\n          y,\n          w: BRW,\n          h: BRH,\n          cx,\n          cy,\n          baseX: x,\n          baseY: y,\n          phase: Math.random() * Math.PI * 2,\n          vy: 0,\n          pop: 0,\n          gone: false,\n          col: [r0, g0, b0],\n          mix\n        });\n      }\n    }\n\n    // draw loop capped to FRAME_CAP\n    let lastT = performance.now();\n    const FRAME_MS = 1000 / FRAME_CAP;\n    let raf = null;\n    function draw(now) {\n      if (now - lastT < FRAME_MS) {\n        raf = requestAnimationFrame(draw);\n        return;\n      }\n      const dt = Math.min(40, now - lastT) * 0.001;\n      lastT = now;\n      ctx.clearRect(0, 0, W, H);\n      // subtle backdrop (single rect) so UI text remains readable\n      ctx.fillStyle = 'rgba(4,6,10,0.46)';\n      ctx.fillRect(0, 0, W, H);\n      const time = now * 0.001;\n      const maxD = Math.max(W, H) * 0.6;\n      const activeCenterX = W / 2;\n      const activeCenterY = pageIndexRef.current * height - currentY.current + height / 2;\n      const elapsed = Math.max(0, now - (performance.now() - 0)); // cheap\n\n      for (const b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - cursor.current.x;\n        const dy = b.cy - cursor.current.y;\n        const d = Math.hypot(dx, dy);\n        let t = Math.max(0, 1 - d / maxD);\n        t = Math.pow(t, 0.9);\n        b.vy *= 0.94;\n        b.vy -= 20 * dt * t;\n        b.pop = Math.max(0, b.pop - 0.012);\n        const lift = Math.min(14, 10 * t + b.pop * 18);\n        const wobble = Math.sin(b.phase + time * 2.2) * 1.6 * t; // slightly faster wobble\n        const vibInfluence = Math.max(0, 1 - Math.hypot(b.cx - activeCenterX, b.cy - activeCenterY) / Math.max(W, H));\n        const vibAmp = MAX_VIBRATE_AMPLITUDE * vibInfluence * 0.9;\n        const vibrate = Math.sin(time * (2.4 + b.phase % 1)) * vibAmp * 0.8; // increased speed\n\n        const px = b.baseX + wobble + vibrate;\n        const py = b.baseY - lift + b.vy * dt * 50;\n\n        // use precomputed color and a tiny time variance (cheap)\n        const r = Math.max(6, Math.min(255, Math.round(b.col[0] + Math.sin(time * 0.6 + b.phase) * 8)));\n        const g = Math.max(6, Math.min(255, Math.round(b.col[1] + Math.cos(time * 0.62 + b.phase) * 8)));\n        const bb = Math.max(6, Math.min(255, Math.round(b.col[2] + Math.sin(time * 0.64 + b.phase) * 8)));\n        const alpha = 0.9 - vibInfluence * 0.15;\n        const grad = ctx.createLinearGradient(px + 6, py + 6, px + b.w - 6, py + b.h - 6);\n        grad.addColorStop(0, `rgba(${Math.max(0, r - 18)}, ${Math.max(0, g - 18)}, ${Math.max(0, bb - 18)}, ${alpha})`);\n        grad.addColorStop(1, `rgba(${r}, ${g}, ${bb}, ${alpha})`);\n        ctx.fillStyle = grad;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n\n        // tiny highlight for readability\n        if (t > 0.06) {\n          ctx.fillStyle = `rgba(255,255,255,${0.02 * t + 0.02 * b.pop})`;\n          ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(2, Math.min(6, 3 * t)));\n        }\n      }\n      raf = requestAnimationFrame(draw);\n    }\n    function roundRect(ctx, x, y, w, h, r) {\n      const minr = Math.min(r, w / 2, h / 2);\n      ctx.beginPath();\n      ctx.moveTo(x + minr, y);\n      ctx.arcTo(x + w, y, x + w, y + h, minr);\n      ctx.arcTo(x + w, y + h, x, y + h, minr);\n      ctx.arcTo(x, y + h, x, y, minr);\n      ctx.arcTo(x, y, x + w, y, minr);\n      ctx.closePath();\n    }\n    raf = requestAnimationFrame(draw);\n    function onResize() {\n      W = window.innerWidth;\n      H = window.innerHeight;\n      canvas.width = W * DPR;\n      canvas.height = H * DPR;\n      canvas.style.width = `${W}px`;\n      canvas.style.height = `${H}px`;\n      ctx.scale(DPR, DPR);\n    }\n    window.addEventListener('resize', onResize);\n    return () => {\n      window.removeEventListener('resize', onResize);\n      cancelAnimationFrame(raf);\n    };\n  }, [height]);\n\n  // UI helpers\n  function scrollToIndex(i) {\n    const max = Math.max(0, (visible.length - 1) * height);\n    const dest = Math.max(0, Math.min(i * height, max));\n    targetY.current = dest;\n    pageIndexRef.current = Math.round(dest / height);\n  }\n  function handleAnswer(qid, value) {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: value\n    }));\n    const q = QUESTIONS.find(x => x.id === qid) || {};\n    let gained = 0;\n    if (q.type === 'mcq' && q.points) gained = q.points[value] || 0;else if (q.type === 'rating') gained = value * (q.pointsPerStar || 1);else if (q.type === 'text') gained = q.points || 0;\n    if (gained) setScore(s => s + gained);\n    if (q.type === 'mcq' || q.type === 'rating') {\n      setTimeout(() => scrollToIndex(pageIndexRef.current + 1), 220);\n    }\n  }\n  function pulseScore() {\n    const el = document.getElementById('score-badge');\n    if (!el) return;\n    el.animate([{\n      transform: 'translateY(0) scale(1)'\n    }, {\n      transform: 'translateY(-6px) scale(1.04)'\n    }, {\n      transform: 'translateY(0) scale(1)'\n    }], {\n      duration: 420,\n      easing: 'ease-out'\n    });\n  }\n  function finish() {\n    setShowFinish(true);\n    if (confettiCanvas.current) confettiBurst(confettiCanvas.current);\n  }\n\n  // render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: THEME.bg,\n      color: THEME.text,\n      position: 'relative',\n      overflow: 'hidden'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .btn { padding:10px 14px; border-radius:12px; font-weight:800; cursor:pointer; border:1px solid rgba(255,255,255,0.03); }\n        .btn-primary { background: linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); color:#02171A }\n        .btn-ghost { background: rgba(255,255,255,0.02); color:${THEME.text} }\n        .custom-cursor-hide, .custom-cursor-hide * { cursor:none !important }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomCursor, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: bgCanvas,\n      className: \"fixed inset-0 z-0 pointer-events:none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: confettiCanvas,\n      className: \"fixed inset-0 z-40 pointer-events:none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: 16,\n        top: 16,\n        zIndex: 80,\n        display: 'flex',\n        gap: 12,\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"score-badge\",\n        style: {\n          padding: '10px 14px',\n          borderRadius: 9999,\n          background: 'linear-gradient(90deg, rgba(6,182,212,0.1), rgba(124,58,237,0.08))',\n          fontWeight: 900\n        },\n        children: [score, \" pts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        inset: 0,\n        zIndex: 120,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          pointerEvents: 'none'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 900,\n            marginBottom: 10\n          },\n          children: \"Loading \\u2014 Neon Calibration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 320,\n            height: 12,\n            background: 'rgba(255,255,255,0.02)',\n            borderRadius: 999,\n            overflow: 'hidden'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: `${progress}%`,\n              height: '100%',\n              background: `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`,\n              transition: 'width 220ms linear'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginTop: 8\n          },\n          children: [progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"fixed inset-0 z-10\",\n      style: {\n        willChange: 'transform'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: `${visible.length * height}px`\n        },\n        children: visible.map((item, i) => /*#__PURE__*/_jsxDEV(\"section\", {\n          ref: addRef,\n          style: {\n            height: `${height}px`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              maxWidth: 1100,\n              display: 'grid',\n              gridTemplateColumns: '280px 1fr',\n              gap: 20,\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n              style: {\n                display: window.innerWidth >= 1000 ? 'block' : 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'sticky',\n                  top: 36\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    background: THEME.card,\n                    padding: 16,\n                    borderRadius: 14\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted\n                    },\n                    children: \"Chapter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 22,\n                      fontWeight: 900,\n                      marginTop: 8\n                    },\n                    children: String(i + 1).padStart(2, '0')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginTop: 6\n                    },\n                    children: item.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 12,\n                      display: 'flex',\n                      gap: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => scrollToIndex(i - 1),\n                      className: \"btn btn-ghost\",\n                      children: \"Prev\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => scrollToIndex(i + 1),\n                      className: \"btn btn-primary\",\n                      children: \"Next\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                borderRadius: 14,\n                padding: 24,\n                background: 'rgba(255,255,255,0.01)',\n                minHeight: 260,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '100%',\n                  maxWidth: 780\n                },\n                children: [item.type === 'stage' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    style: {\n                      fontSize: 32,\n                      fontWeight: 900,\n                      background: `linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`,\n                      WebkitBackgroundClip: 'text',\n                      color: 'transparent'\n                    },\n                    children: item.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 25\n                  }, this), item.subtitle && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginTop: 8\n                    },\n                    children: item.subtitle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 43\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 12\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => scrollToIndex(i + 1),\n                      className: \"btn btn-primary\",\n                      children: \"Enter\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this), item.type === 'mcq' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginBottom: 12\n                    },\n                    children: item.flavor\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'grid',\n                      gridTemplateColumns: 'repeat(auto-fit, minmax(220px,1fr))',\n                      gap: 12\n                    },\n                    children: item.choices.map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleAnswer(item.id, c),\n                      style: {\n                        padding: 16,\n                        borderRadius: 12,\n                        textAlign: 'left',\n                        background: 'rgba(255,255,255,0.01)',\n                        border: '1px solid rgba(255,255,255,0.02)'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontWeight: 800\n                        },\n                        children: c\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          color: THEME.muted,\n                          marginTop: 6\n                        },\n                        children: item.points && item.points[c] ? `${item.points[c]} pts` : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 31\n                      }, this)]\n                    }, c, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this), item.type === 'rating' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginBottom: 12\n                    },\n                    children: item.flavor\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      gap: 10,\n                      justifyContent: 'center'\n                    },\n                    children: Array.from({\n                      length: item.scale\n                    }).map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleAnswer(item.id, idx + 1),\n                      style: {\n                        width: 56,\n                        height: 56,\n                        borderRadius: 999,\n                        background: 'rgba(255,255,255,0.02)',\n                        border: '1px solid rgba(255,255,255,0.03)',\n                        fontWeight: 800\n                      },\n                      children: idx + 1\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this), item.type === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: THEME.muted,\n                      marginBottom: 8\n                    },\n                    children: item.flavor\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    rows: 4,\n                    maxLength: item.maxLength,\n                    value: answers[item.id] || '',\n                    onChange: e => setAnswers(prev => ({\n                      ...prev,\n                      [item.id]: e.target.value\n                    })),\n                    placeholder: \"One-line pitch...\",\n                    style: {\n                      width: '100%',\n                      padding: 12,\n                      borderRadius: 8,\n                      background: THEME.card,\n                      color: THEME.text\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      marginTop: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        color: THEME.muted\n                      },\n                      children: [(answers[item.id] || '').length, \"/\", item.maxLength]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: 8\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          if (item.points && (answers[item.id] || '').length > 0) setScore(s => s + item.points);\n                          scrollToIndex(pageIndexRef.current + 1);\n                        },\n                        className: \"btn btn-primary\",\n                        children: \"Submit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => setAnswers(prev => ({\n                          ...prev,\n                          [item.id]: ''\n                        })),\n                        className: \"btn btn-ghost\",\n                        children: \"Clear\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this), item.type === 'minigame' && /*#__PURE__*/_jsxDEV(MiniGame, {\n                  timeLimit: item.timeLimit,\n                  onComplete: s => {\n                    if (s) setScore(x => x + item.pointsOnSuccess);\n                    scrollToIndex(pageIndexRef.current + 1);\n                  },\n                  flavor: item.flavor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showFinish && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        style: {\n          position: 'fixed',\n          inset: 0,\n          zIndex: 140,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 640,\n            padding: 20,\n            borderRadius: 10,\n            background: THEME.card\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: 22,\n              fontWeight: 900\n            },\n            children: \"Done \\u2014 Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: THEME.muted\n            },\n            children: [\"You scored \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: THEME.text\n              },\n              children: score\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 57\n            }, this), \". Nice work!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8,\n              marginTop: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowFinish(false);\n              },\n              className: \"btn btn-ghost\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowFinish(false);\n                if (confettiCanvas.current) confettiBurst(confettiCanvas.current);\n              },\n              className: \"btn btn-primary\",\n              children: \"Celebrate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n}\n_s3(GamifiedSurveyForm, \"6GbCuzKTwODmBCrWtf0O0rhpUcQ=\");\n_c3 = GamifiedSurveyForm;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CustomCursor\");\n$RefreshReg$(_c2, \"MiniGame\");\n$RefreshReg$(_c3, \"GamifiedSurveyForm\");","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","AnimatePresence","jsxDEV","_jsxDEV","Fragment","_Fragment","THEME","bg","card","text","muted","primary","cyan","accent","warm","MAX_VIBRATE_AMPLITUDE","FRAME_CAP","QUESTIONS","id","type","title","subtitle","choices","points","flavor","scale","pointsPerStar","maxLength","timeLimit","pointsOnSuccess","lerp","a","b","n","hexToRgb","hex","h","replace","parseInt","substring","confettiBurst","canvas","ctx","getContext","W","width","window","innerWidth","H","height","innerHeight","palette","pieces","Array","from","length","map","x","Math","random","y","vx","vy","r","c","floor","life","frame","clearRect","alive","p","save","translate","fillStyle","fillRect","restore","requestAnimationFrame","CustomCursor","_s","dot","ring","pos","hover","raf","mm","e","current","clientX","clientY","hov","t","target","closest","addEventListener","cx","cy","loop","_ring$current","_ring$current$dataset","_ring$current2","_ring$current2$datase","style","transform","rx","parseFloat","dataset","ry","removeEventListener","cancelAnimationFrame","document","documentElement","classList","add","remove","children","ref","position","left","top","borderRadius","border","pointerEvents","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","background","boxShadow","_c","MiniGame","onComplete","_s2","charge","setCharge","runningRef","started","boost","start","performance","now","tick","elapsed","base","min","round","total","tap","display","flexDirection","alignItems","gap","color","fontSize","div","onClick","whileTap","whileHover","transition","stiffness","justifyContent","cursor","fontWeight","maxWidth","marginBottom","overflow","initial","animate","damping","_c2","GamifiedSurveyForm","_s3","answers","setAnswers","localStorage","getItem","JSON","parse","score","setScore","Number","showFinish","setShowFinish","confettiCanvas","bgCanvas","setHeight","onResize","setItem","stringify","String","visible","containerRef","chapterRefs","addRef","el","push","targetY","currentY","rafUI","pageIndexRef","activeIndex","setActiveIndex","onPointer","loading","setLoading","progress","setProgress","D","setTimeout","acc","lock","clamp","i","max","setPage","onWheel","preventDefault","deltaY","TH","abs","dir","passive","idx","DPR","devicePixelRatio","BRW","BRH","cols","ceil","rows","MAX","scaleUp","sqrt","bricks","purple","mix","r0","g0","b0","w","baseX","baseY","phase","PI","pop","gone","col","lastT","FRAME_MS","draw","dt","time","maxD","activeCenterX","activeCenterY","dx","dy","d","hypot","pow","lift","wobble","sin","vibInfluence","vibAmp","vibrate","px","py","g","cos","bb","alpha","grad","createLinearGradient","addColorStop","roundRect","fill","minr","beginPath","moveTo","arcTo","closePath","scrollToIndex","dest","handleAnswer","qid","value","prev","q","find","gained","s","pulseScore","getElementById","duration","easing","finish","minHeight","className","padding","inset","textAlign","marginTop","willChange","item","gridTemplateColumns","padStart","WebkitBackgroundClip","_","onChange","placeholder","opacity","exit","_c3","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/App/gamified-survey/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/**\n * src/App.js — PERFORMANCE-FIXED\n * - Completed + validated JSX (no truncation)\n * - Lower brick density and capped DPR for performance\n * - Frame-rate cap on canvas draw loop (45 FPS default)\n * - Precomputed brick colors to avoid inner-loop color math\n * - Slightly increased vibration speed/amplitude as requested\n * - Reduced expensive CSS filters and avoided repaint-heavy operations\n * - Loader, UI, and interactions preserved\n */\n\nconst THEME = {\n  bg: \"#05060A\",\n  card: \"rgba(8,12,20,0.86)\",\n  text: \"#E9F8FF\",\n  muted: \"#9FB7C7\",\n  primary: \"#7C3AED\",\n  cyan: \"#06B6D4\",\n  accent: \"#00E5FF\",\n  warm: \"#FFB86B\",\n};\n\nconst MAX_VIBRATE_AMPLITUDE = 8; // increased default slightly\nconst FRAME_CAP = 45; // fps\n\nconst QUESTIONS = [\n  { id: \"intro\", type: \"stage\", title: \"Neon Nightfall\", subtitle: \"Decisions reverberate — pick fast, win faster.\" },\n  { id: \"q1\", type: \"mcq\", title: \"Vibe Check — choose your drive\", choices: [\"Prototype & ship\", \"Learn a trick\", \"Find teammates\", \"Prize hunter\"], points: { \"Prototype & ship\": 20, \"Learn a trick\": 10, \"Find teammates\": 15, \"Prize hunter\": 5 }, flavor: \"A neon corridor; your choice sets the tone.\" },\n  { id: \"q2\", type: \"rating\", title: \"Charge Level — how amped are you?\", scale: 5, pointsPerStar: 6, flavor: \"Lights sync to your excitement.\" },\n  { id: \"q3\", type: \"text\", title: \"One-line pitch — your spark\", maxLength: 140, points: 15, flavor: \"A single line. Make it crisp.\" },\n  { id: \"q4\", type: \"minigame\", title: \"Core Tap — power the idea\", timeLimit: 6000, pointsOnSuccess: 30, flavor: \"Rapid taps to energize the prototype core.\" },\n  { id: \"end\", type: \"stage\", title: \"Curtain Call\", subtitle: \"Badges claimed. Sunlight pending.\" },\n];\n\nfunction lerp(a,b,n){ return (1-n)*a + n*b }\nfunction hexToRgb(hex){ const h = hex.replace('#',''); return [parseInt(h.substring(0,2),16), parseInt(h.substring(2,4),16), parseInt(h.substring(4,6),16)]; }\n\n// small confetti - light-weight\nfunction confettiBurst(canvas){\n  if(!canvas) return;\n  const ctx = canvas.getContext('2d');\n  const W = canvas.width = window.innerWidth;\n  const H = canvas.height = window.innerHeight;\n  const palette = [THEME.primary, THEME.cyan, THEME.accent, THEME.warm];\n  const pieces = Array.from({length:50}).map(()=>({\n    x: W/2 + (Math.random()-0.5)*200,\n    y: H/3 + (Math.random()-0.5)*60,\n    vx: (Math.random()-0.5)*10,\n    vy: (Math.random()-1.6)*8,\n    r: Math.random()*5 + 2,\n    c: palette[Math.floor(Math.random()*palette.length)],\n    life: 80 + Math.random()*80,\n  }));\n  function frame(){ ctx.clearRect(0,0,W,H); let alive=false; for(const p of pieces){ if(p.life>0){ alive=true; p.vy+=0.2; p.x+=p.vx; p.y+=p.vy; ctx.save(); ctx.translate(p.x,p.y); ctx.fillStyle=p.c; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*0.6); ctx.restore(); p.life--; } } if(alive) requestAnimationFrame(frame); else ctx.clearRect(0,0,W,H); }\n  frame();\n}\n\n// Custom cursor (light-weight)\nfunction CustomCursor(){\n  const dot = useRef(null); const ring = useRef(null);\n  const pos = useRef({ x: window.innerWidth/2, y: window.innerHeight/2 });\n  const hover = useRef(false); const raf = useRef(null);\n  useEffect(()=>{\n    function mm(e){ pos.current.x = e.clientX; pos.current.y = e.clientY; }\n    function hov(e){ const t = e.target; hover.current = !!(t.closest && t.closest('button, a, [role=\"button\"], input, textarea')); }\n    window.addEventListener('mousemove', mm); window.addEventListener('mouseover', hov);\n    let cx = pos.current.x, cy = pos.current.y, scale = 1;\n    function loop(){ cx = lerp(cx, pos.current.x, 0.18); cy = lerp(cy, pos.current.y, 0.18); if(dot.current) dot.current.style.transform = `translate3d(${cx-6}px, ${cy-6}px, 0)`; const rx = lerp(parseFloat(ring.current?.dataset?.x||cx), cx, 0.08); const ry = lerp(parseFloat(ring.current?.dataset?.y||cy), cy, 0.08); if(ring.current){ ring.current.dataset.x = rx; ring.current.dataset.y = ry; scale = lerp(scale, hover.current?1.8:1, 0.12); ring.current.style.transform = `translate3d(${rx-18}px, ${ry-18}px, 0) scale(${scale})`; } raf.current = requestAnimationFrame(loop); }\n    raf.current = requestAnimationFrame(loop);\n    return ()=>{ window.removeEventListener('mousemove', mm); window.removeEventListener('mouseover', hov); cancelAnimationFrame(raf.current); }\n  }, []);\n  useEffect(()=>{ document.documentElement.classList.add('custom-cursor-hide'); return ()=>document.documentElement.classList.remove('custom-cursor-hide'); }, []);\n  return (\n    <>\n      <div ref={ring} style={{ position:'fixed', left:0, top:0, width:36, height:36, borderRadius:9999, border:'1.2px solid rgba(124,58,237,0.12)', pointerEvents:'none', zIndex:99999 }} />\n      <div ref={dot} style={{ position:'fixed', left:0, top:0, width:10, height:10, borderRadius:9999, background:'white', pointerEvents:'none', boxShadow:'0 8px 20px rgba(6,182,212,0.06)', zIndex:100000 }} />\n      <style>{`.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`}</style>\n    </>\n  );\n}\n\n// MiniGame (unchanged)\nfunction MiniGame({ timeLimit=6000, onComplete, flavor }){\n  const [charge, setCharge] = useState(0); const runningRef = useRef(false); const raf = useRef(null); const started = useRef(0); const boost = useRef(0);\n  useEffect(()=>()=> cancelAnimationFrame(raf.current), []);\n  function start(){ if(runningRef.current) return; runningRef.current = true; boost.current = 0; started.current = performance.now(); tick(); }\n  function tick(){ raf.current = requestAnimationFrame(()=>{ const elapsed = performance.now() - started.current; const base = Math.min(100, Math.round((elapsed/timeLimit)*100)); const total = Math.min(100, base + boost.current); setCharge(total); if(total>=100){ runningRef.current=false; cancelAnimationFrame(raf.current); onComplete(true); return; } if(elapsed>=timeLimit){ runningRef.current=false; cancelAnimationFrame(raf.current); onComplete(total>=60); return; } tick(); }); }\n  function tap(){ if(!runningRef.current) start(); else { boost.current = Math.min(100, boost.current + 12); setCharge(c=>Math.min(100,c+12)); } }\n  return (\n    <div style={{ display:'flex', flexDirection:'column', alignItems:'center', gap:12 }}>\n      <div style={{ color: THEME.muted, fontSize:13 }}>{flavor}</div>\n      <motion.div onClick={tap} whileTap={{ scale:0.94 }} whileHover={{ scale:1.02 }} transition={{ type:'spring', stiffness:300 }} style={{ width:140, height:140, borderRadius:999, display:'flex', alignItems:'center', justifyContent:'center', cursor:'pointer', background:`linear-gradient(135deg, ${THEME.primary}, ${THEME.cyan})` }}>\n        <div style={{ fontWeight:900, color:'#06060A' }}>TAP</div>\n      </motion.div>\n      <div style={{ width:'100%', maxWidth:520 }}>\n        <div style={{ color: THEME.muted, marginBottom:6 }}>Charge: {charge}%</div>\n        <div style={{ height:12, width:'100%', borderRadius:10, overflow:'hidden', background:'rgba(255,255,255,0.02)' }}>\n          <motion.div initial={{ width:0 }} animate={{ width: `${charge}%` }} transition={{ type:'spring', stiffness:140, damping:16 }} style={{ height:'100%', background:`linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})` }} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function GamifiedSurveyForm(){\n  const [answers, setAnswers] = useState(()=>{ try{ const r = localStorage.getItem('gamifiedSurveyAnswers'); return r?JSON.parse(r):{} }catch{ return {}; } });\n  const [score, setScore] = useState(()=>Number(localStorage.getItem('gamifiedSurveyScore'))||0);\n  const [showFinish, setShowFinish] = useState(false);\n\n  const confettiCanvas = useRef(null);\n  const bgCanvas = useRef(null);\n\n  const [height, setHeight] = useState(window.innerHeight);\n  useEffect(()=>{ function onResize(){ setHeight(window.innerHeight); } window.addEventListener('resize', onResize); return ()=>window.removeEventListener('resize', onResize); }, []);\n\n  useEffect(()=>localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(()=>localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n\n  const visible = QUESTIONS; // keep simple for perf (no depends-on logic here)\n\n  // scrolling snap state\n  const containerRef = useRef(null); const chapterRefs = useRef([]); chapterRefs.current = [];\n  const addRef = el => { if(el) chapterRefs.current.push(el) };\n  const targetY = useRef(0); const currentY = useRef(0); const rafUI = useRef(null);\n  const pageIndexRef = useRef(0); const [activeIndex, setActiveIndex] = useState(0);\n\n  const cursor = useRef({ x: window.innerWidth/2, y: window.innerHeight/2 });\n  useEffect(()=>{\n    function onPointer(e){ cursor.current.x = e.clientX; cursor.current.y = e.clientY; }\n    window.addEventListener('pointermove', onPointer);\n    return ()=>window.removeEventListener('pointermove', onPointer);\n  }, []);\n\n  // loader\n  const [loading, setLoading] = useState(true); const [progress, setProgress] = useState(0);\n  useEffect(()=>{\n    let raf = null; const start = performance.now(); const D = 700;\n    function tick(now){ const t = Math.min(1,(now-start)/D); setProgress(Math.round(100 * t)); if(t<1) raf = requestAnimationFrame(tick); else setTimeout(()=> setLoading(false), 160); }\n    raf = requestAnimationFrame(tick); return ()=> cancelAnimationFrame(raf);\n  }, []);\n\n  // simple wheel -> page snap (jump)\n  useEffect(()=>{\n    let acc = 0; let lock = false;\n    function clamp(i){ return Math.max(0, Math.min(i, visible.length-1)); }\n    function setPage(i){ const c = clamp(i); pageIndexRef.current = c; targetY.current = c * height; setActiveIndex(c); }\n    function onWheel(e){ if(loading) return; e.preventDefault(); acc += e.deltaY; const TH = 80; if(Math.abs(acc) > TH && !lock){ const dir = acc>0?1:-1; setPage(pageIndexRef.current + dir); acc = 0; lock = true; setTimeout(()=> lock = false, 300); } }\n    window.addEventListener('wheel', onWheel, { passive:false });\n    return ()=> window.removeEventListener('wheel', onWheel);\n  }, [height, loading, visible.length]);\n\n  // UI lerp loop (light-weight)\n  useEffect(()=>{\n    function loop(){ currentY.current = lerp(currentY.current, targetY.current, 0.28); if(containerRef.current) containerRef.current.style.transform = `translate3d(0, ${-currentY.current}px, 0)`; const idx = Math.round(currentY.current / height); if(idx !== activeIndex) setActiveIndex(idx); rafUI.current = requestAnimationFrame(loop); }\n    rafUI.current = requestAnimationFrame(loop); return ()=> cancelAnimationFrame(rafUI.current);\n  }, [height]);\n\n  // ---------------- Bricks canvas: performance conscious ----------------\n  useEffect(()=>{\n    const canvas = bgCanvas.current; if(!canvas) return; const ctx = canvas.getContext('2d');\n    let W = window.innerWidth, H = window.innerHeight; const DPR = Math.min(window.devicePixelRatio || 1, 1.2);\n    canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = `${W}px`; canvas.style.height = `${H}px`; ctx.scale(DPR, DPR);\n\n    // determine grid but cap total bricks strongly for perf\n    let BRW = window.innerWidth < 640 ? 120 : 96; let BRH = window.innerWidth < 640 ? 56 : 44; let cols = Math.ceil(W/BRW), rows = Math.ceil(H/BRH);\n    const MAX = 600; if(cols*rows > MAX){ const scaleUp = Math.sqrt((cols*rows)/MAX); BRW = Math.ceil(BRW * scaleUp); BRH = Math.ceil(BRH * scaleUp); cols = Math.ceil(W/BRW); rows = Math.ceil(H/BRH); }\n\n    const bricks = [];\n    const purple = hexToRgb(THEME.primary); const cyan = hexToRgb(THEME.cyan); const accent = hexToRgb(THEME.accent);\n    for(let r=0;r<rows;r++){\n      for(let c=0;c<cols;c++){\n        const x = c*BRW + (r%2?BRW/2:0); const y = r*BRH; const cx = x + BRW/2; const cy = y + BRH/2;\n        // precompute base color to avoid heavy math each frame\n        const mix = Math.random(); const r0 = Math.round((1-mix)*purple[0] + mix*cyan[0]); const g0 = Math.round((1-mix)*purple[1] + mix*cyan[1]); const b0 = Math.round((1-mix)*purple[2] + mix*cyan[2]);\n        bricks.push({ x, y, w:BRW, h:BRH, cx, cy, baseX:x, baseY:y, phase:Math.random()*Math.PI*2, vy:0, pop:0, gone:false, col:[r0,g0,b0], mix });\n      }\n    }\n\n    // draw loop capped to FRAME_CAP\n    let lastT = performance.now(); const FRAME_MS = 1000 / FRAME_CAP; let raf = null;\n    function draw(now){ if(now - lastT < FRAME_MS){ raf = requestAnimationFrame(draw); return; } const dt = Math.min(40, now - lastT) * 0.001; lastT = now; ctx.clearRect(0,0,W,H);\n      // subtle backdrop (single rect) so UI text remains readable\n      ctx.fillStyle = 'rgba(4,6,10,0.46)'; ctx.fillRect(0,0,W,H);\n\n      const time = now * 0.001; const maxD = Math.max(W,H) * 0.6; const activeCenterX = W/2; const activeCenterY = (pageIndexRef.current * height - currentY.current) + (height/2);\n      const elapsed = Math.max(0, now - (performance.now() - 0)); // cheap\n\n      for(const b of bricks){ if(b.gone) continue;\n        const dx = b.cx - cursor.current.x; const dy = b.cy - cursor.current.y; const d = Math.hypot(dx,dy); let t = Math.max(0, 1 - d / maxD); t = Math.pow(t, 0.9);\n        b.vy *= 0.94; b.vy -= 20 * dt * t; b.pop = Math.max(0, b.pop - 0.012);\n        const lift = Math.min(14, 10 * t + b.pop * 18);\n        const wobble = Math.sin(b.phase + time * 2.2) * 1.6 * t; // slightly faster wobble\n        const vibInfluence = Math.max(0, 1 - Math.hypot(b.cx - activeCenterX, b.cy - activeCenterY) / Math.max(W,H));\n        const vibAmp = MAX_VIBRATE_AMPLITUDE * vibInfluence * 0.9; const vibrate = Math.sin(time * (2.4 + (b.phase % 1))) * vibAmp * 0.8; // increased speed\n\n        const px = b.baseX + wobble + vibrate; const py = b.baseY - lift + b.vy * dt * 50;\n\n        // use precomputed color and a tiny time variance (cheap)\n        const r = Math.max(6, Math.min(255, Math.round(b.col[0] + Math.sin(time*0.6 + b.phase)*8)));\n        const g = Math.max(6, Math.min(255, Math.round(b.col[1] + Math.cos(time*0.62 + b.phase)*8)));\n        const bb = Math.max(6, Math.min(255, Math.round(b.col[2] + Math.sin(time*0.64 + b.phase)*8)));\n\n        const alpha = 0.9 - vibInfluence*0.15;\n        const grad = ctx.createLinearGradient(px+6,py+6,px + b.w - 6, py + b.h - 6);\n        grad.addColorStop(0, `rgba(${Math.max(0,r-18)}, ${Math.max(0,g-18)}, ${Math.max(0,bb-18)}, ${alpha})`);\n        grad.addColorStop(1, `rgba(${r}, ${g}, ${bb}, ${alpha})`);\n        ctx.fillStyle = grad;\n        roundRect(ctx, px+6, py+6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n\n        // tiny highlight for readability\n        if(t > 0.06) { ctx.fillStyle = `rgba(255,255,255,${0.02 * t + 0.02 * b.pop})`; ctx.fillRect(px+12, py+10, b.w - 24, Math.max(2, Math.min(6, 3 * t))); }\n      }\n\n      raf = requestAnimationFrame(draw);\n    }\n\n    function roundRect(ctx,x,y,w,h,r){ const minr = Math.min(r, w/2, h/2); ctx.beginPath(); ctx.moveTo(x+minr,y); ctx.arcTo(x+w,y,x+w,y+h,minr); ctx.arcTo(x+w,y+h,x,y+h,minr); ctx.arcTo(x,y+h,x,y,minr); ctx.arcTo(x,y,x+ w,y,minr); ctx.closePath(); }\n\n    raf = requestAnimationFrame(draw);\n    function onResize(){ W = window.innerWidth; H = window.innerHeight; canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = `${W}px`; canvas.style.height = `${H}px`; ctx.scale(DPR,DPR); }\n    window.addEventListener('resize', onResize);\n    return ()=>{ window.removeEventListener('resize', onResize); cancelAnimationFrame(raf); };\n  }, [height]);\n\n  // UI helpers\n  function scrollToIndex(i){ const max = Math.max(0, (visible.length - 1) * height); const dest = Math.max(0, Math.min(i * height, max)); targetY.current = dest; pageIndexRef.current = Math.round(dest / height); }\n  function handleAnswer(qid, value){ setAnswers(prev => ({ ...prev, [qid]: value })); const q = QUESTIONS.find(x=>x.id===qid) || {}; let gained = 0; if(q.type==='mcq' && q.points) gained = q.points[value] || 0; else if(q.type==='rating') gained = value * (q.pointsPerStar||1); else if(q.type==='text') gained = q.points||0; if(gained) setScore(s=>s+gained); if(q.type==='mcq' || q.type==='rating'){ setTimeout(()=> scrollToIndex(pageIndexRef.current + 1), 220); } }\n  function pulseScore(){ const el = document.getElementById('score-badge'); if(!el) return; el.animate([{ transform:'translateY(0) scale(1)' },{ transform:'translateY(-6px) scale(1.04)' },{ transform:'translateY(0) scale(1)' }], { duration:420, easing:'ease-out' }); }\n  function finish(){ setShowFinish(true); if(confettiCanvas.current) confettiBurst(confettiCanvas.current); }\n\n  // render\n  return (\n    <div style={{ minHeight:'100vh', background:THEME.bg, color:THEME.text, position:'relative', overflow:'hidden' }}>\n      <style>{`\n        .btn { padding:10px 14px; border-radius:12px; font-weight:800; cursor:pointer; border:1px solid rgba(255,255,255,0.03); }\n        .btn-primary { background: linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary}); color:#02171A }\n        .btn-ghost { background: rgba(255,255,255,0.02); color:${THEME.text} }\n        .custom-cursor-hide, .custom-cursor-hide * { cursor:none !important }\n      `}</style>\n\n      <CustomCursor />\n      <canvas ref={bgCanvas} className=\"fixed inset-0 z-0 pointer-events:none\" />\n      <canvas ref={confettiCanvas} className=\"fixed inset-0 z-40 pointer-events:none\" />\n\n      {/* top controls */}\n      <div style={{ position:'fixed', left:16, top:16, zIndex:80, display:'flex', gap:12, alignItems:'center' }}>\n        <div id=\"score-badge\" style={{ padding:'10px 14px', borderRadius:9999, background:'linear-gradient(90deg, rgba(6,182,212,0.1), rgba(124,58,237,0.08))', fontWeight:900 }}>{score} pts</div>\n      </div>\n\n      {/* loader */}\n      {loading && (\n        <div style={{ position:'fixed', inset:0, zIndex:120, display:'flex', alignItems:'center', justifyContent:'center' }}>\n          <div style={{ textAlign:'center', pointerEvents:'none' }}>\n            <div style={{ fontWeight:900, marginBottom:10 }}>Loading — Neon Calibration</div>\n            <div style={{ width:320, height:12, background:'rgba(255,255,255,0.02)', borderRadius:999, overflow:'hidden' }}>\n              <div style={{ width:`${progress}%`, height:'100%', background:`linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`, transition:'width 220ms linear' }} />\n            </div>\n            <div style={{ color:THEME.muted, marginTop:8 }}>{progress}%</div>\n          </div>\n        </div>\n      )}\n\n      {/* content stack */}\n      <div ref={containerRef} className=\"fixed inset-0 z-10\" style={{ willChange:'transform' }}>\n        <div style={{ height:`${visible.length * height}px` }}>\n          {visible.map((item, i) => (\n            <section key={item.id} ref={addRef} style={{ height:`${height}px`, display:'flex', alignItems:'center', justifyContent:'center', padding:20 }}>\n              <div style={{ width:'100%', maxWidth:1100, display:'grid', gridTemplateColumns:'280px 1fr', gap:20, alignItems:'center' }}>\n                {/* left card */}\n                <aside style={{ display: window.innerWidth >= 1000 ? 'block' : 'none' }}>\n                  <div style={{ position:'sticky', top:36 }}>\n                    <div style={{ background:THEME.card, padding:16, borderRadius:14 }}>\n                      <div style={{ color:THEME.muted }}>Chapter</div>\n                      <div style={{ fontSize:22, fontWeight:900, marginTop:8 }}>{String(i+1).padStart(2,'0')}</div>\n                      <div style={{ color:THEME.muted, marginTop:6 }}>{item.title}</div>\n                      <div style={{ marginTop:12, display:'flex', gap:8 }}>\n                        <button onClick={()=> scrollToIndex(i-1)} className=\"btn btn-ghost\">Prev</button>\n                        <button onClick={()=> scrollToIndex(i+1)} className=\"btn btn-primary\">Next</button>\n                      </div>\n                    </div>\n                  </div>\n                </aside>\n\n                {/* main card */}\n                <div style={{ borderRadius:14, padding:24, background:'rgba(255,255,255,0.01)', minHeight:260, display:'flex', alignItems:'center', justifyContent:'center' }}>\n                  <div style={{ width:'100%', maxWidth:780 }}>\n                    {item.type === 'stage' && (\n                      <div style={{ textAlign:'center' }}>\n                        <h1 style={{ fontSize:32, fontWeight:900, background:`linear-gradient(90deg, ${THEME.cyan}, ${THEME.primary})`, WebkitBackgroundClip:'text', color:'transparent' }}>{item.title}</h1>\n                        {item.subtitle && <div style={{ color:THEME.muted, marginTop:8 }}>{item.subtitle}</div>}\n                        <div style={{ marginTop:12 }}>\n                          <button onClick={()=> scrollToIndex(i+1)} className=\"btn btn-primary\">Enter</button>\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'mcq' && (\n                      <div>\n                        <div style={{ color:THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n                        <div style={{ display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(220px,1fr))', gap:12 }}>\n                          {item.choices.map(c => (\n                            <button key={c} onClick={()=> handleAnswer(item.id, c)} style={{ padding:16, borderRadius:12, textAlign:'left', background:'rgba(255,255,255,0.01)', border:'1px solid rgba(255,255,255,0.02)' }}>\n                              <div style={{ fontWeight:800 }}>{c}</div>\n                              <div style={{ color:THEME.muted, marginTop:6 }}>{item.points && item.points[c] ? `${item.points[c]} pts` : ''}</div>\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'rating' && (\n                      <div style={{ textAlign:'center' }}>\n                        <div style={{ color:THEME.muted, marginBottom:12 }}>{item.flavor}</div>\n                        <div style={{ display:'flex', gap:10, justifyContent:'center' }}>\n                          {Array.from({ length: item.scale }).map((_,idx)=> (\n                            <button key={idx} onClick={()=> handleAnswer(item.id, idx+1)} style={{ width:56, height:56, borderRadius:999, background:'rgba(255,255,255,0.02)', border:'1px solid rgba(255,255,255,0.03)', fontWeight:800 }}>{idx+1}</button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'text' && (\n                      <div>\n                        <div style={{ color:THEME.muted, marginBottom:8 }}>{item.flavor}</div>\n                        <textarea rows={4} maxLength={item.maxLength} value={answers[item.id]||''} onChange={(e)=> setAnswers(prev=>({ ...prev, [item.id]: e.target.value }))} placeholder=\"One-line pitch...\" style={{ width:'100%', padding:12, borderRadius:8, background:THEME.card, color:THEME.text }} />\n                        <div style={{ display:'flex', justifyContent:'space-between', marginTop:8 }}>\n                          <div style={{ color:THEME.muted }}>{(answers[item.id]||'').length}/{item.maxLength}</div>\n                          <div style={{ display:'flex', gap:8 }}>\n                            <button onClick={()=> { if(item.points && (answers[item.id]||'').length>0) setScore(s=>s+item.points); scrollToIndex(pageIndexRef.current+1); }} className=\"btn btn-primary\">Submit</button>\n                            <button onClick={()=> setAnswers(prev=>({ ...prev, [item.id]: '' }))} className=\"btn btn-ghost\">Clear</button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {item.type === 'minigame' && <MiniGame timeLimit={item.timeLimit} onComplete={(s)=>{ if(s) setScore(x=>x+item.pointsOnSuccess); scrollToIndex(pageIndexRef.current+1); }} flavor={item.flavor} />}\n\n                  </div>\n                </div>\n\n              </div>\n            </section>\n          ))}\n        </div>\n      </div>\n\n      {/* finish modal */}\n      <AnimatePresence>{showFinish && (\n        <motion.div initial={{ opacity:0 }} animate={{ opacity:1 }} exit={{ opacity:0 }} style={{ position:'fixed', inset:0, zIndex:140, display:'flex', alignItems:'center', justifyContent:'center' }}>\n          <div style={{ width:640, padding:20, borderRadius:10, background:THEME.card }}>\n            <h3 style={{ fontSize:22, fontWeight:900 }}>Done — Results</h3>\n            <p style={{ color:THEME.muted }}>You scored <strong style={{ color:THEME.text }}>{score}</strong>. Nice work!</p>\n            <div style={{ display:'flex', gap:8, marginTop:12 }}>\n              <button onClick={()=> { setShowFinish(false); }} className=\"btn btn-ghost\">Close</button>\n              <button onClick={()=> { setShowFinish(false); if(confettiCanvas.current) confettiBurst(confettiCanvas.current); }} className=\"btn btn-primary\">Celebrate</button>\n            </div>\n          </div>\n        </motion.div>\n      )}</AnimatePresence>\n\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}