{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\App\\\\gamified-survey\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\n// App.js\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/**\n * Full revised App.js (fixed: confettiBurst defined)\n *\n * - Try local video -> remote fallback -> animated gradient fallback\n * - Bricks: purple -> cyan per-brick gradients + variation\n * - Professional loading bar\n * - Confetti burst included (used on finish)\n *\n * Put your local video at public/opening.mp4 or change OPENING_VIDEO_SRC.\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OPENING_VIDEO_SRC = \"/opening.mp4\"; // local video (public/)\nconst REMOTE_FALLBACK = \"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4\"; // test fallback\n\nconst THEME = {\n  purple: \"#7c3aed\",\n  cyan: \"#06b6d4\",\n  magenta: \"#ff4791\",\n  bg: \"#04050a\",\n  panel: \"rgba(255,255,255,0.02)\",\n  text: \"#e6eef8\",\n  muted: \"#9aa6b2\"\n};\nconst QUESTIONS = [{\n  id: \"intro\",\n  type: \"stage\",\n  title: \"Nightfall at HackPlay\",\n  subtitle: \"Step into a neon-lit hall. Your choices tune the journey.\"\n}, {\n  id: \"q1\",\n  type: \"mcq\",\n  title: \"Entrance — choose your mindset\",\n  choices: [\"Build something cool\", \"Learn fast\", \"Meet people\", \"Chase the prizes\"],\n  points: {\n    \"Build something cool\": 20,\n    \"Learn fast\": 10,\n    \"Meet people\": 15,\n    \"Chase the prizes\": 5\n  },\n  flavor: \"The doors close. A low bass. Pick the vibe that follows you.\"\n}, {\n  id: \"q2\",\n  type: \"rating\",\n  title: \"Charge Meter — how hyped are you?\",\n  scale: 5,\n  pointsPerStar: 6,\n  flavor: \"The stage lights react to your energy.\"\n}, {\n  id: \"q3\",\n  type: \"text\",\n  title: \"One-line pitch — what's the idea?\",\n  maxLength: 140,\n  points: 15,\n  flavor: \"A single line — the fragment your team will build around.\"\n}, {\n  id: \"q4\",\n  type: \"minigame\",\n  title: \"Charge the core — tap to power your idea\",\n  timeLimit: 6000,\n  pointsOnSuccess: 30,\n  flavor: \"Fast reflexes prove prototype-ready energy.\"\n}, {\n  id: \"q5\",\n  type: \"mcq\",\n  title: \"Team vibe — pick your tribe\",\n  choices: [\"Chill coders\", \"All-nighters\", \"Balanced squad\", \"Solo hero\"],\n  points: {\n    \"Chill coders\": 10,\n    \"All-nighters\": 20,\n    \"Balanced squad\": 15,\n    \"Solo hero\": 5\n  },\n  flavor: \"Who will you ride the night with?\",\n  dependsOn: {\n    q1: \"Build something cool\"\n  }\n}, {\n  id: \"end\",\n  type: \"stage\",\n  title: \"Curtain Call\",\n  subtitle: \"Collect badges, revisit your pitch, and step back into the light.\"\n}];\nfunction lerp(a, b, n) {\n  return (1 - n) * a + n * b;\n}\nfunction hexToRgb(hex) {\n  const h = hex.replace(\"#\", \"\");\n  return [parseInt(h.substring(0, 2), 16), parseInt(h.substring(2, 4), 16), parseInt(h.substring(4, 6), 16)];\n}\n\n/* ---------------------------\n   CONFETTI: added to fix ESLint no-undef\n   - Lightweight canvas burst that clears itself\n   --------------------------- */\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  const ctx = canvas.getContext('2d');\n  const W = canvas.width = window.innerWidth;\n  const H = canvas.height = window.innerHeight;\n  const pieces = [];\n  const palette = [THEME.purple, THEME.cyan, THEME.magenta, \"#ffd93d\", \"#6BCB77\"];\n  for (let i = 0; i < 80; i++) {\n    const color = palette[Math.floor(Math.random() * palette.length)];\n    pieces.push({\n      x: W / 2 + (Math.random() - 0.5) * 120,\n      y: H / 3 + (Math.random() - 0.5) * 40,\n      vx: (Math.random() - 0.5) * 12,\n      vy: (Math.random() - 0.9) * -10,\n      r: Math.random() * 6 + 3,\n      color,\n      rot: Math.random() * Math.PI * 2,\n      vr: Math.random() * 0.12 - 0.06,\n      life: 120 + Math.round(Math.random() * 60)\n    });\n  }\n  let t = 0;\n  function frame() {\n    t++;\n    ctx.clearRect(0, 0, W, H);\n    for (let p of pieces) {\n      p.vy += 0.18; // gravity\n      p.x += p.vx;\n      p.y += p.vy;\n      p.rot += p.vr;\n      ctx.save();\n      ctx.translate(p.x, p.y);\n      ctx.rotate(p.rot);\n      ctx.fillStyle = p.color;\n      ctx.fillRect(-p.r / 2, -p.r / 2, p.r, p.r * 0.6);\n      ctx.restore();\n      p.life--;\n    }\n    // draw until pieces die out\n    if (t < 240 && pieces.some(p => p.life > 0)) {\n      requestAnimationFrame(frame);\n    } else {\n      ctx.clearRect(0, 0, W, H);\n    }\n  }\n  frame();\n}\n\n/* ---------------------------\n   VideoBackground\n   --------------------------- */\nfunction VideoBackground({\n  src,\n  videoRef,\n  onReady,\n  onError,\n  keyOverride\n}) {\n  _s();\n  const internalRef = useRef(null);\n  const ref = videoRef || internalRef;\n  useEffect(() => {\n    const v = ref.current;\n    if (!v) return;\n    v.muted = true;\n    v.playsInline = true;\n    v.preload = \"auto\";\n    const p = v.play && v.play();\n    if (p && p.catch) p.catch(() => {});\n    let fired = false;\n    function markReady() {\n      if (fired) return;\n      fired = true;\n      onReady && onReady();\n    }\n    function markError(e) {\n      if (fired) return;\n      fired = true;\n      onError && onError(e);\n    }\n    function onCanPlay() {\n      markReady();\n    }\n    function onErr(e) {\n      console.warn(\"video error\", e);\n      markError(e);\n    }\n    v.addEventListener(\"canplaythrough\", onCanPlay);\n    v.addEventListener(\"canplay\", onCanPlay);\n    v.addEventListener(\"loadeddata\", onCanPlay);\n    v.addEventListener(\"loadedmetadata\", onCanPlay);\n    v.addEventListener(\"error\", onErr);\n    v.addEventListener(\"click\", onCanPlay);\n    const safety = setTimeout(() => {\n      if (!fired) markError(new Error(\"video-safety-timeout\"));\n    }, 4500);\n    return () => {\n      v.removeEventListener(\"canplaythrough\", onCanPlay);\n      v.removeEventListener(\"canplay\", onCanPlay);\n      v.removeEventListener(\"loadeddata\", onCanPlay);\n      v.removeEventListener(\"loadedmetadata\", onCanPlay);\n      v.removeEventListener(\"error\", onErr);\n      v.removeEventListener(\"click\", onCanPlay);\n      clearTimeout(safety);\n    };\n  }, [src, onReady, onError, keyOverride, videoRef]);\n  return /*#__PURE__*/_jsxDEV(\"video\", {\n    ref: videoRef,\n    src: src,\n    muted: true,\n    loop: true,\n    playsInline: true,\n    autoPlay: true,\n    preload: \"auto\",\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      zIndex: -50,\n      pointerEvents: \"auto\",\n      opacity: 1\n    }\n  }, keyOverride, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n\n/* ---------------------------\n   Animated Gradient fallback\n   --------------------------- */\n_s(VideoBackground, \"mOFHOaD1fnrRagX7BRa/3b2m2Gk=\");\n_c = VideoBackground;\nfunction AnimatedGradientFallback() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 -z-55 animated-gradient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"fixed inset-0 w-full h-full -z-50 pointer-events-none\",\n      style: {\n        opacity: 0.06\n      },\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: [/*#__PURE__*/_jsxDEV(\"filter\", {\n        id: \"noiseFilter\",\n        children: /*#__PURE__*/_jsxDEV(\"feTurbulence\", {\n          baseFrequency: \"0.9\",\n          numOctaves: \"2\",\n          stitchTiles: \"stitch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        width: \"100%\",\n        height: \"100%\",\n        filter: \"url(#noiseFilter)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .animated-gradient {\n          background: linear-gradient(120deg, ${THEME.purple}, ${THEME.cyan}, ${THEME.magenta});\n          background-size: 200% 200%;\n          animation: gradientShift 12s ease infinite;\n          opacity: 1;\n        }\n        @keyframes gradientShift {\n          0% { background-position: 0% 50% }\n          50% { background-position: 100% 50% }\n          100% { background-position: 0% 50% }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n/* ---------------------------\n   Loading overlay\n   --------------------------- */\n_c2 = AnimatedGradientFallback;\nfunction LoadingOverlay({\n  progress\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-80 flex items-center justify-center pointer-events-none\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"min(880px, 92%)\",\n        padding: 18,\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.text,\n          fontWeight: 600,\n          marginBottom: 10,\n          fontSize: 16\n        },\n        children: \"Preparing the experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          height: 18,\n          width: \"100%\",\n          borderRadius: 12,\n          overflow: \"hidden\",\n          background: \"rgba(255,255,255,0.03)\",\n          boxShadow: \"inset 0 1px 0 rgba(255,255,255,0.02)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-fill\",\n          style: {\n            width: `${progress}%`,\n            height: \"100%\",\n            borderRadius: 12,\n            transition: \"width 360ms cubic-bezier(.2,.9,.2,1)\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-shimmer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10,\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          color: THEME.muted,\n          fontSize: 13\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [Math.round(progress), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading assets\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .progress-fill {\n          background: linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan});\n          box-shadow: 0 8px 30px rgba(124,58,237,0.12), inset 0 -4px 14px rgba(0,0,0,0.2);\n        }\n        .progress-shimmer {\n          position: absolute; left: 0; top: 0; bottom: 0; width: 40%; transform: translateX(-100%); background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.0), rgba(255,255,255,0.06)); mix-blend-mode: overlay; animation: shimmerMove 1.6s linear infinite;\n        }\n        @keyframes shimmerMove {\n          0% { transform: translateX(-100%); opacity: 0.6 }\n          50%{ transform: translateX(30%); opacity: 1 }\n          100%{ transform: translateX(120%); opacity: 0.6 }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n}\n\n/* ---------------------------\n   CustomCursor\n   --------------------------- */\n_c3 = LoadingOverlay;\nfunction CustomCursor() {\n  _s2();\n  const dotRef = useRef(null);\n  const ringRef = useRef(null);\n  const pos = useRef({\n    x: typeof window !== \"undefined\" ? window.innerWidth / 2 : 0,\n    y: typeof window !== \"undefined\" ? window.innerHeight / 2 : 0\n  });\n  const hover = useRef(false);\n  const rafRef = useRef(null);\n  useEffect(() => {\n    const dot = dotRef.current;\n    const ring = ringRef.current;\n    if (!dot || !ring) return;\n    function onMouseMove(e) {\n      pos.current.x = e.clientX;\n      pos.current.y = e.clientY;\n    }\n    function onHoverChange(e) {\n      const t = e.target;\n      hover.current = !!(t.closest && t.closest('button, a, [role=\"button\"], input, textarea'));\n    }\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseover', onHoverChange);\n    let cx = pos.current.x,\n      cy = pos.current.y,\n      ringScale = 1;\n    function loop() {\n      cx = lerp(cx, pos.current.x, 0.18);\n      cy = lerp(cy, pos.current.y, 0.18);\n      dot.style.transform = `translate3d(${cx - 6}px, ${cy - 6}px, 0)`;\n      const rx = lerp(parseFloat(ring.dataset.x || cx), cx, 0.08);\n      const ry = lerp(parseFloat(ring.dataset.y || cy), cy, 0.08);\n      ring.dataset.x = rx;\n      ring.dataset.y = ry;\n      ringScale = lerp(ringScale, hover.current ? 1.9 : 1, 0.12);\n      ring.style.transform = `translate3d(${rx - 18}px, ${ry - 18}px, 0) scale(${ringScale})`;\n      rafRef.current = requestAnimationFrame(loop);\n    }\n    rafRef.current = requestAnimationFrame(loop);\n    return () => {\n      window.removeEventListener('mousemove', onMouseMove);\n      window.removeEventListener('mouseover', onHoverChange);\n      cancelAnimationFrame(rafRef.current);\n    };\n  }, []);\n  useEffect(() => {\n    document.documentElement.classList.add('custom-cursor-hide');\n    return () => document.documentElement.classList.remove('custom-cursor-hide');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ringRef,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 36,\n        height: 36,\n        borderRadius: 9999,\n        border: `1.5px solid rgba(255,255,255,0.06)`,\n        pointerEvents: 'none',\n        zIndex: 100000,\n        boxShadow: `0 8px 30px rgba(124,58,237,0.08)`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dotRef,\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        width: 12,\n        height: 12,\n        borderRadius: 9999,\n        background: 'radial-gradient(circle at 30% 30%, #fff, #dcdcdc)',\n        pointerEvents: 'none',\n        zIndex: 100001,\n        boxShadow: '0 8px 26px rgba(124,58,237,0.12)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n/* ---------------------------\n   MiniGame (kept simple)\n   --------------------------- */\n_s2(CustomCursor, \"LoSzrrPz4LpO8t37NOY+jhfx8TI=\");\n_c4 = CustomCursor;\nfunction MiniGame({\n  timeLimit = 6000,\n  onComplete,\n  flavor\n}) {\n  _s3();\n  const [charge, setCharge] = useState(0);\n  const runningRef = useRef(false);\n  const raf = useRef(null);\n  const startedAt = useRef(0);\n  const manualBoost = useRef(0);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  function start() {\n    if (runningRef.current) return;\n    runningRef.current = true;\n    manualBoost.current = 0;\n    startedAt.current = performance.now();\n    tick();\n  }\n  function tick() {\n    raf.current = requestAnimationFrame(() => {\n      const elapsed = performance.now() - startedAt.current;\n      const base = Math.min(100, Math.round(elapsed / timeLimit * 100));\n      const total = Math.min(100, base + manualBoost.current);\n      setCharge(total);\n      if (total >= 100) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(true);\n        return;\n      }\n      if (elapsed >= timeLimit) {\n        runningRef.current = false;\n        cancelAnimationFrame(raf.current);\n        onComplete(total >= 60);\n        return;\n      }\n      tick();\n    });\n  }\n  function handleTap() {\n    if (!runningRef.current) start();else {\n      manualBoost.current = Math.min(100, manualBoost.current + 12);\n      setCharge(c => Math.min(100, c + 12));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: THEME.muted,\n        fontSize: 13\n      },\n      children: flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: 160,\n        height: 160,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        onClick: handleTap,\n        whileTap: {\n          scale: 0.9\n        },\n        whileHover: {\n          scale: 1.04\n        },\n        transition: {\n          type: 'spring',\n          stiffness: 300\n        },\n        style: {\n          width: 140,\n          height: 140,\n          borderRadius: 999,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          cursor: 'pointer',\n          background: `linear-gradient(135deg, ${THEME.purple}, ${THEME.magenta})`,\n          boxShadow: '0 12px 40px rgba(124,58,237,0.09)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#fff',\n            fontWeight: 800,\n            fontSize: 16\n          },\n          children: \"TAP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        maxWidth: 520\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.muted,\n          marginBottom: 6\n        },\n        children: [\"Charge: \", charge, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100%',\n          height: 12,\n          borderRadius: 10,\n          overflow: 'hidden',\n          background: 'rgba(255,255,255,0.02)'\n        },\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            width: 0\n          },\n          animate: {\n            width: `${charge}%`\n          },\n          transition: {\n            type: 'spring',\n            stiffness: 140,\n            damping: 16\n          },\n          style: {\n            height: '100%',\n            borderRadius: 10,\n            background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n}\n\n/* ---------------------------\n   Main component\n   --------------------------- */\n_s3(MiniGame, \"7W1Gbp5uQvXAuYfcKgP+cnkG9w8=\");\n_c5 = MiniGame;\nexport default function GamifiedSurveyForm() {\n  _s4();\n  const [answers, setAnswers] = useState(() => {\n    try {\n      const raw = localStorage.getItem('gamifiedSurveyAnswers');\n      return raw ? JSON.parse(raw) : {};\n    } catch {\n      return {};\n    }\n  });\n  const [score, setScore] = useState(() => Number(localStorage.getItem('gamifiedSurveyScore')) || 0);\n  const [openingDone, setOpeningDone] = useState(false);\n  const [loadProgress, setLoadProgress] = useState(0);\n  const [videoPhase, setVideoPhase] = useState('local'); // 'local'|'remote'|'failed'|'ready'\n  const [videoKey, setVideoKey] = useState(0);\n  const [showVideoErrorNotice, setShowVideoErrorNotice] = useState(false);\n  const [showResponses, setShowResponses] = useState(false);\n  const [showFinish, setShowFinish] = useState(false);\n  const canvasRef = useRef(null); // confetti\n  const bgCanvasRef = useRef(null); // bricks\n  const videoRef = useRef(null);\n  useEffect(() => localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n  const visible = QUESTIONS.filter(q => {\n    if (!q.dependsOn) return true;\n    const keys = Object.keys(q.dependsOn);\n    return keys.every(k => answers[k] === q.dependsOn[k]);\n  });\n\n  // layout & scroll\n  const [height, setHeight] = useState(typeof window !== 'undefined' ? window.innerHeight : 800);\n  useEffect(() => {\n    function onResize() {\n      setHeight(window.innerHeight);\n    }\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n  useEffect(() => {\n    const prevOverflow = document.documentElement.style.overflow;\n    const prevTouch = document.body.style.touchAction;\n    document.documentElement.style.overflow = 'hidden';\n    document.body.style.touchAction = 'none';\n    return () => {\n      document.documentElement.style.overflow = prevOverflow;\n      document.body.style.touchAction = prevTouch;\n    };\n  }, []);\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addChapterRef = el => {\n    if (el) chapterRefs.current.push(el);\n  };\n  const targetY = useRef(0);\n  const currentY = useRef(0);\n  const rafRef = useRef(null);\n  const lastWheelAt = useRef(0);\n  const isScrolling = useRef(false);\n  const SNAP_DELAY = 70;\n  const LERP_FAST = 0.42;\n  const LERP_SNAP = 0.62;\n  const cursor = useRef({\n    x: typeof window !== 'undefined' ? window.innerWidth / 2 : 0,\n    y: typeof window !== 'undefined' ? window.innerHeight / 2 : 0,\n    active: false\n  });\n  const lastCursorUpdate = useRef(0);\n  const bgRAF = useRef(null);\n  const activeIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  // loading progress simulated while waiting for video\n  useEffect(() => {\n    let raf = null;\n    let simulated = 0;\n    function tick() {\n      simulated = Math.min(92, simulated + (100 - simulated) * 0.05 + 0.6);\n      setLoadProgress(prev => Math.max(prev, simulated));\n      raf = requestAnimationFrame(tick);\n    }\n    raf = requestAnimationFrame(tick);\n    return () => cancelAnimationFrame(raf);\n  }, []);\n\n  // Video callbacks\n  function onVideoReady() {\n    setLoadProgress(100);\n    setTimeout(() => {\n      setOpeningDone(true);\n      setVideoPhase('ready');\n      setShowVideoErrorNotice(false);\n    }, 260);\n  }\n  function onVideoError(e) {\n    console.warn(\"Video error:\", e);\n    if (videoPhase === 'local') {\n      setVideoPhase('remote');\n      setVideoKey(k => k + 1);\n      setShowVideoErrorNotice(true);\n      console.warn(\"Local video failed — trying remote fallback\");\n      return;\n    }\n    if (videoPhase === 'remote') {\n      setVideoPhase('failed');\n      setShowVideoErrorNotice(true);\n      setLoadProgress(100);\n      setTimeout(() => {\n        setOpeningDone(true);\n      }, 420);\n      console.warn(\"Both local and remote fallback failed. Using animated-gradient fallback.\");\n      return;\n    }\n  }\n  function retryVideos() {\n    setVideoPhase('local');\n    setVideoKey(k => k + 1);\n    setShowVideoErrorNotice(false);\n    setOpeningDone(false);\n    setLoadProgress(0);\n  }\n\n  // input handlers\n  useEffect(() => {\n    const isTouching = {\n      v: false\n    };\n    const touchStartY = {\n      v: 0\n    };\n    function clampTarget() {\n      const max = Math.max(0, (visible.length - 1) * height);\n      if (targetY.current < 0) targetY.current = 0;\n      if (targetY.current > max) targetY.current = max;\n    }\n    function onWheel(e) {\n      e.preventDefault();\n      targetY.current += e.deltaY * 1.2;\n      clampTarget();\n      lastWheelAt.current = performance.now();\n      isScrolling.current = true;\n    }\n    function onTouchStart(e) {\n      touchStartY.v = e.touches[0].clientY;\n      isTouching.v = true;\n    }\n    function onTouchMove(e) {\n      if (!isTouching.v) return;\n      const y = e.touches[0].clientY;\n      const delta = touchStartY.v - y;\n      targetY.current += delta;\n      touchStartY.v = y;\n      clampTarget();\n      lastWheelAt.current = performance.now();\n      isScrolling.current = true;\n    }\n    function onTouchEnd() {\n      isTouching.v = false;\n    }\n    function onKey(e) {\n      if (e.key === 'ArrowDown') {\n        targetY.current += height * 0.95;\n        clampTarget();\n        lastWheelAt.current = performance.now();\n        isScrolling.current = true;\n      }\n      if (e.key === 'ArrowUp') {\n        targetY.current -= height * 0.95;\n        clampTarget();\n        lastWheelAt.current = performance.now();\n        isScrolling.current = true;\n      }\n    }\n    const el = containerRef.current || window;\n    el.addEventListener('wheel', onWheel, {\n      passive: false\n    });\n    window.addEventListener('touchstart', onTouchStart, {\n      passive: false\n    });\n    window.addEventListener('touchmove', onTouchMove, {\n      passive: false\n    });\n    window.addEventListener('touchend', onTouchEnd);\n    window.addEventListener('keydown', onKey);\n    function onPointer(e) {\n      const now = performance.now();\n      if (now - lastCursorUpdate.current > 12) {\n        cursor.current.x = e.clientX;\n        cursor.current.y = e.clientY;\n        cursor.current.active = true;\n        lastCursorUpdate.current = now;\n      }\n    }\n    function onPointerLeave() {\n      cursor.current.active = false;\n    }\n    function onPointerDown(e) {\n      const px = e.clientX;\n      const py = e.clientY;\n      cursor.current.x = px;\n      cursor.current.y = py;\n      if (bgCanvasRef.current && bgCanvasRef.current._triggerPop) bgCanvasRef.current._triggerPop(px, py);\n    }\n    window.addEventListener('pointermove', onPointer);\n    window.addEventListener('pointerout', onPointerLeave);\n    window.addEventListener('pointerdown', onPointerDown);\n    return () => {\n      el.removeEventListener('wheel', onWheel);\n      window.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('touchmove', onTouchMove);\n      window.removeEventListener('touchend', onTouchEnd);\n      window.removeEventListener('keydown', onKey);\n      window.removeEventListener('pointermove', onPointer);\n      window.removeEventListener('pointerout', onPointerLeave);\n      window.removeEventListener('pointerdown', onPointerDown);\n    };\n  }, [height, visible.length]);\n\n  /* ---------------------------\n     Bricks canvas with purple→cyan gradient per brick\n     --------------------------- */\n  useEffect(() => {\n    const canvas = bgCanvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    let W = canvas.width = window.innerWidth;\n    let H = canvas.height = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.5);\n    canvas.width = W * DPR;\n    canvas.height = H * DPR;\n    canvas.style.width = `${W}px`;\n    canvas.style.height = `${H}px`;\n    ctx.scale(DPR, DPR);\n    let BRICK_W = window.innerWidth < 640 ? 120 : 96;\n    let BRICK_H = window.innerWidth < 640 ? 56 : 44;\n    let cols = Math.ceil(W / BRICK_W);\n    let rows = Math.ceil(H / BRICK_H);\n    const MAX_BRICKS = 900;\n    if (cols * rows > MAX_BRICKS) {\n      const scaleUp = Math.sqrt(cols * rows / MAX_BRICKS);\n      BRICK_W = Math.ceil(BRICK_W * scaleUp);\n      BRICK_H = Math.ceil(BRICK_H * scaleUp);\n      cols = Math.ceil(W / BRICK_W);\n      rows = Math.ceil(H / BRICK_H);\n    }\n    const bricks = [];\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const x = c * BRICK_W + (r % 2 ? BRICK_W / 2 : 0);\n        const y = r * BRICK_H;\n        const cx = x + BRICK_W / 2;\n        const cy = y + BRICK_H / 2;\n        bricks.push({\n          x,\n          y,\n          w: BRICK_W,\n          h: BRICK_H,\n          baseX: x,\n          baseY: y,\n          cx,\n          cy,\n          pop: 0,\n          vy: 0,\n          phase: Math.random() * Math.PI * 2,\n          falling: false,\n          fallY: 0,\n          fallVy: 0,\n          opacity: 1,\n          gone: false,\n          r,\n          c\n        });\n      }\n    }\n    canvas._triggerPop = function (px, py) {\n      let nearest = null;\n      let best = Infinity;\n      for (let b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        if (d < best) {\n          best = d;\n          nearest = b;\n        }\n      }\n      if (nearest && !nearest.falling && best < Math.max(120, Math.min(window.innerWidth, window.innerHeight) * 0.06)) {\n        nearest.falling = true;\n        nearest.fallVy = Math.random() * 4 + 2;\n        nearest.fallY = 0;\n      }\n      const R = 120;\n      for (let b of bricks) {\n        if (b.falling || b.gone) continue;\n        const dx = b.cx - px;\n        const dy = b.cy - py;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        if (d < R) {\n          const norm = 1 - d / R;\n          b.pop = Math.max(b.pop, 0.3 * norm);\n          b.vy += 4 * norm + Math.random() * 2;\n        }\n      }\n    };\n    const palA = hexToRgb(THEME.purple);\n    const palB = hexToRgb(THEME.cyan);\n    const palC = hexToRgb(THEME.magenta);\n    let lastT = performance.now();\n    function draw(now) {\n      let dt = Math.min(40, now - lastT) * 0.001;\n      if (dt <= 0) {\n        bgRAF.current = requestAnimationFrame(draw);\n        return;\n      }\n      lastT = now;\n      ctx.clearRect(0, 0, W, H);\n      ctx.fillStyle = openingDone ? 'rgba(2,4,10,0.42)' : 'rgba(2,4,10,0.08)';\n      ctx.fillRect(0, 0, W, H);\n      const maxD = Math.max(W, H) * 0.65;\n      const time = now * 0.001;\n      const skipShadows = bricks.length > 700;\n      const panelCenterX = W / 2;\n      const activeIdx = activeIndexRef.current || 0;\n      const panelCenterY = activeIdx * height - currentY.current + height / 2;\n      const panelW = Math.min(1120, W * 0.86);\n      const panelH = Math.min(760, height * 0.78);\n      for (let b of bricks) {\n        if (b.gone) continue;\n        if (b.falling) {\n          b.fallVy += 900 * dt;\n          b.fallY += b.fallVy * dt;\n          b.opacity = Math.max(0, 1 - b.fallY / (H * 1.4));\n          if (b.fallY > H + 120) {\n            b.gone = true;\n            continue;\n          }\n        }\n        const dx = b.cx - cursor.current.x;\n        const dy = b.cy - cursor.current.y;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        let t = Math.max(0, 1 - d / maxD);\n        t = Math.pow(t, 0.9);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 18);\n        const wobble = b.falling ? 0 : Math.sin(b.phase + time * 1.2) * 3 * t;\n        if (!b.falling) {\n          b.vy -= 30 * dt;\n          b.vy *= 0.92 - Math.min(0.18, t * 0.12);\n          b.pop = Math.max(0, b.pop - 0.012);\n        }\n        const yOffset = b.falling ? b.fallY : -lift + b.vy * dt * 60;\n        const posFactor = b.r % 7 / 7 * 0.2 + b.c % 5 / 5 * 0.12;\n        const anim = 0.45 + 0.55 * Math.sin(b.phase * 1.2 + time * (0.45 + posFactor));\n        const mixFactor = Math.min(1, Math.max(0, t * 0.9 + anim * 0.25 + posFactor * 0.12));\n        function mix(a, bVal, n) {\n          return Math.round((1 - n) * a + n * bVal);\n        }\n        const rAB = mix(palA[0], palB[0], mixFactor);\n        const gAB = mix(palA[1], palB[1], mixFactor);\n        const bAB = mix(palA[2], palB[2], mixFactor);\n        const accent = 0.12 * (0.5 + 0.5 * Math.sin(time * 1.8 + b.phase + posFactor));\n        let baseR = Math.min(255, Math.round(rAB * (1 - accent) + palC[0] * accent));\n        let baseG = Math.min(255, Math.round(gAB * (1 - accent) + palC[1] * accent));\n        let baseB = Math.min(255, Math.round(bAB * (1 - accent) + palC[2] * accent));\n        const depthMul = 0.9 + 0.22 * (1 - b.cy / H);\n        baseR = Math.round(baseR * depthMul);\n        baseG = Math.round(baseG * depthMul);\n        baseB = Math.round(baseB * depthMul);\n        const dxPanel = Math.abs(b.cx - panelCenterX);\n        const dyPanel = Math.abs(b.cy - panelCenterY);\n        let panelDarkness = 0;\n        if (dxPanel < panelW / 2 && dyPanel < panelH / 2) {\n          const nx = 1 - dxPanel / (panelW / 2);\n          const ny = 1 - dyPanel / (panelH / 2);\n          panelDarkness = Math.pow(Math.max(0, Math.min(1, nx * ny)), 1.4) * 0.66;\n        }\n        const finalR = Math.max(12, Math.round(baseR * (1 - panelDarkness)));\n        const finalG = Math.max(12, Math.round(baseG * (1 - panelDarkness)));\n        const finalB = Math.max(12, Math.round(baseB * (1 - panelDarkness)));\n        const finalAlpha = Math.max(0.55, b.opacity - panelDarkness * 0.22);\n        const gx = b.baseX + 6;\n        const gy = b.baseY + 6;\n        const grad = ctx.createLinearGradient(gx, gy, gx + b.w - 12, gy + b.h - 12);\n        const colorStart = `rgba(${Math.max(0, finalR - 18)}, ${Math.max(0, finalG - 18)}, ${Math.max(0, finalB - 18)}, ${finalAlpha})`;\n        const colorEnd = `rgba(${finalR}, ${finalG}, ${finalB}, ${finalAlpha})`;\n        grad.addColorStop(0, colorStart);\n        grad.addColorStop(1, colorEnd);\n        ctx.save();\n        ctx.globalAlpha = finalAlpha;\n        ctx.fillStyle = grad;\n        if (lift > 2 && !b.falling && !skipShadows) {\n          ctx.shadowBlur = Math.min(28, lift * 1.6);\n          ctx.shadowColor = `rgba(40,60,160,${Math.min(0.22, 0.06 * t + 0.06 * b.pop)})`;\n        } else ctx.shadowBlur = 0;\n        const px = b.baseX + wobble * 0.6;\n        const py = b.baseY + yOffset;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n        if ((t > 0.08 || b.pop > 0.02) && !b.falling && panelDarkness < 0.5) {\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = `rgba(255,255,255,${0.03 * t + 0.04 * b.pop})`;\n          ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(3, Math.min(7, 4 * t + 6 * b.pop)));\n        }\n        ctx.restore();\n      }\n      bgRAF.current = requestAnimationFrame(draw);\n    }\n    function roundRect(ctx, x, y, w, h, r) {\n      const minr = Math.min(r, w / 2, h / 2);\n      ctx.beginPath();\n      ctx.moveTo(x + minr, y);\n      ctx.arcTo(x + w, y, x + w, y + h, minr);\n      ctx.arcTo(x + w, y + h, x, y + h, minr);\n      ctx.arcTo(x, y + h, x, y, minr);\n      ctx.arcTo(x, y, x + w, y, minr);\n      ctx.closePath();\n    }\n    function onResize() {\n      W = canvas.width = window.innerWidth;\n      H = canvas.height = window.innerHeight;\n      canvas.width = W * DPR;\n      canvas.height = H * DPR;\n      canvas.style.width = `${W}px`;\n      canvas.style.height = `${H}px`;\n      ctx.scale(DPR, DPR);\n    }\n    window.addEventListener('resize', onResize);\n    bgRAF.current = requestAnimationFrame(draw);\n    return () => {\n      window.removeEventListener('resize', onResize);\n      cancelAnimationFrame(bgRAF.current);\n    };\n  }, [openingDone, height]);\n\n  // UI frame loop & transforms\n  useEffect(() => {\n    function frame(now) {\n      currentY.current = lerp(currentY.current, targetY.current, performance.now() - lastWheelAt.current > SNAP_DELAY ? LERP_SNAP : LERP_FAST);\n      const el = containerRef.current;\n      if (el) el.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n      chapterRefs.current.forEach((node, i) => {\n        if (!node) return;\n        const center = i * height;\n        const offset = (currentY.current - center) / height;\n        const abs = Math.abs(offset);\n        const translateY = offset * 34;\n        const rotate = offset * 3.6;\n        const scale = 1 - Math.min(0.08, abs * 0.08);\n        const opacity = 1 - Math.min(0.9, abs * 0.9);\n        node.style.transform = `translate3d(0px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`;\n        node.style.opacity = String(opacity);\n      });\n      const idx = Math.round(currentY.current / height);\n      if (activeIndexRef.current !== idx) {\n        activeIndexRef.current = idx;\n        setActiveIndex(idx);\n      }\n      rafRef.current = requestAnimationFrame(frame);\n    }\n    rafRef.current = requestAnimationFrame(frame);\n    return () => cancelAnimationFrame(rafRef.current);\n  }, [height, visible.length]);\n  function scrollToIndex(i) {\n    const max = Math.max(0, (visible.length - 1) * height);\n    const dest = Math.max(0, Math.min(i * height, max));\n    targetY.current = dest;\n    lastWheelAt.current = performance.now();\n    isScrolling.current = true;\n  }\n  const AUTO_ADVANCE_DELAY_MS = 240;\n  const MINIGAME_ADVANCE_MS = 300;\n  function handleAnswer(qid, value) {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: value\n    }));\n    const questionDef = QUESTIONS.find(x => x.id === qid) || {};\n    let gained = 0;\n    if (questionDef.type === 'mcq' && questionDef.points) gained = questionDef.points[value] || 0;else if (questionDef.type === 'rating') gained = value * (questionDef.pointsPerStar || 1);else if (questionDef.type === 'text') gained = questionDef.points || 0;\n    if (gained) {\n      setScore(s => s + gained);\n      pulseScore();\n    }\n    if (questionDef.type === 'mcq' || questionDef.type === 'rating') {\n      const next = Math.min(activeIndexRef.current + 1, visible.length - 1);\n      setTimeout(() => scrollToIndex(next), AUTO_ADVANCE_DELAY_MS);\n    }\n  }\n  function pulseScore() {\n    const el = document.getElementById('score-badge');\n    if (!el) return;\n    el.animate([{\n      transform: 'translateY(0) scale(1)'\n    }, {\n      transform: 'translateY(-6px) scale(1.06)'\n    }, {\n      transform: 'translateY(0) scale(1)'\n    }], {\n      duration: 520,\n      easing: 'ease-out'\n    });\n  }\n  function onMiniGameComplete(success) {\n    if (success) {\n      setScore(s => s + 30);\n      pulseScore();\n    }\n    setAnswers(prev => ({\n      ...prev,\n      q4: success ? 'success' : 'fail'\n    }));\n    setTimeout(() => scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)), MINIGAME_ADVANCE_MS);\n  }\n  function finish() {\n    setShowFinish(true);\n    if (canvasRef.current) confettiBurst(canvasRef.current);\n  }\n  function resetAll() {\n    if (!window.confirm('Reset survey? This clears local progress.')) return;\n    setAnswers({});\n    setScore(0);\n    setShowFinish(false);\n    targetY.current = 0;\n    currentY.current = 0;\n    if (containerRef.current) containerRef.current.style.transform = 'translate3d(0,0,0)';\n  }\n  function ChapterContent({\n    item,\n    idx\n  }) {\n    if (item.type === 'stage') {\n      const isFirst = idx === 0;\n      const isLast = idx === Math.max(0, visible.length - 1);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          maxWidth: 720,\n          margin: '0 auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(motion.h1, {\n          initial: {\n            y: 40,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 1\n          },\n          transition: {\n            duration: 0.8\n          },\n          style: {\n            fontSize: '2.5rem',\n            fontWeight: 800,\n            background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})`,\n            WebkitBackgroundClip: 'text',\n            color: 'transparent',\n            letterSpacing: '-0.01em',\n            textShadow: '0 6px 30px rgba(124,58,237,0.06)'\n          },\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 11\n        }, this), item.subtitle && /*#__PURE__*/_jsxDEV(motion.p, {\n          initial: {\n            y: 20,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 0.95\n          },\n          transition: {\n            delay: 0.12\n          },\n          style: {\n            color: THEME.muted,\n            marginTop: 8\n          },\n          children: item.subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 18,\n            padding: 18,\n            borderRadius: 12,\n            background: THEME.panel,\n            border: '1px solid rgba(255,255,255,0.03)',\n            backdropFilter: 'blur(6px)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 12,\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"44\",\n              height: \"44\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 2l3 7h7l-5.5 4 2 7L12 17l-6.5 3 2-7L2 9h7l3-7z\",\n                stroke: THEME.purple,\n                strokeWidth: \"0.9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 75\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: THEME.text,\n                  fontWeight: 700\n                },\n                children: \"Experience\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: THEME.muted,\n                  fontSize: 13\n                },\n                children: \"A cinematic flow \\u2014 read the prompt, pick quickly, and earn points.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 16,\n              display: 'flex',\n              justifyContent: 'center',\n              gap: 12\n            },\n            children: isLast ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => resetAll(),\n                className: \"btn btn-primary\",\n                children: \"Restart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowResponses(true),\n                className: \"btn btn-ghost\",\n                children: \"View responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => scrollToIndex(Math.min(idx + 1, visible.length - 1)),\n                className: \"btn btn-primary\",\n                children: \"Enter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this), !isFirst && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => finish(),\n                className: \"btn btn-ghost\",\n                children: \"Skip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'mcq') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 980,\n          margin: '0 auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginBottom: 12\n          },\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))',\n            gap: 14\n          },\n          children: item.choices.map(c => /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.03\n            },\n            onClick: () => handleAnswer(item.id, c),\n            style: {\n              padding: '18px',\n              borderRadius: 22,\n              border: answers[item.id] === c ? 'none' : '1px solid rgba(255,255,255,0.03)',\n              background: answers[item.id] === c ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : 'rgba(255,255,255,0.02)',\n              color: answers[item.id] === c ? 'black' : THEME.text,\n              boxShadow: answers[item.id] === c ? '0 12px 40px rgba(124,58,237,0.12)' : 'none'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700,\n                fontSize: 18\n              },\n              children: c\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: THEME.muted,\n                marginTop: 6\n              },\n              children: item.points && item.points[c] ? `${item.points[c]} pts` : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 17\n            }, this)]\n          }, c, true, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'rating') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginBottom: 12\n          },\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 12,\n            justifyContent: 'center'\n          },\n          children: Array.from({\n            length: item.scale\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(motion.button, {\n            onClick: () => handleAnswer(item.id, i + 1),\n            whileTap: {\n              scale: 0.96\n            },\n            style: {\n              width: 64,\n              height: 64,\n              borderRadius: 999,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              background: answers[item.id] === i + 1 ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : 'rgba(255,255,255,0.02)',\n              color: answers[item.id] === i + 1 ? 'black' : THEME.text,\n              border: '1px solid rgba(255,255,255,0.03)'\n            },\n            children: i + 1\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'text') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 980,\n          margin: '0 auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.muted,\n            marginBottom: 12\n          },\n          children: item.flavor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          maxLength: item.maxLength,\n          rows: 5,\n          value: answers[item.id] || '',\n          onChange: e => setAnswers(prev => ({\n            ...prev,\n            [item.id]: e.target.value\n          })),\n          style: {\n            width: '100%',\n            padding: 16,\n            borderRadius: 12,\n            background: THEME.panel,\n            border: '1px solid rgba(255,255,255,0.03)',\n            color: THEME.text,\n            resize: 'vertical'\n          },\n          placeholder: \"One-line pitch...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: THEME.muted,\n              fontSize: 13\n            },\n            children: [(answers[item.id] || '').length, \"/\", item.maxLength]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (item.points && (answers[item.id] || '').length > 0) {\n                  setScore(s => s + item.points);\n                  pulseScore();\n                }\n                scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1));\n              },\n              className: \"btn btn-primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setAnswers(prev => ({\n                ...prev,\n                [item.id]: ''\n              })),\n              className: \"btn btn-ghost\",\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 9\n      }, this);\n    }\n    if (item.type === 'minigame') return /*#__PURE__*/_jsxDEV(MiniGame, {\n      timeLimit: item.timeLimit,\n      onComplete: onMiniGameComplete,\n      flavor: item.flavor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 42\n    }, this);\n    return null;\n  }\n  useEffect(() => {\n    if (openingDone) setLoadProgress(100);\n  }, [openingDone]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      position: 'relative',\n      overflow: 'hidden',\n      background: THEME.bg,\n      color: THEME.text\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        :root{\n          --purple: ${THEME.purple};\n          --cyan: ${THEME.cyan};\n          --magenta: ${THEME.magenta};\n          --text: ${THEME.text};\n          --muted: ${THEME.muted};\n        }\n        .btn { padding: 10px 14px; border-radius: 10px; font-weight: 700; cursor:pointer; border: 1px solid rgba(255,255,255,0.03); }\n        .btn-primary { background: linear-gradient(90deg, var(--purple), var(--cyan)); color: black; box-shadow: 0 8px 32px rgba(124,58,237,0.09); }\n        .btn-ghost { background: rgba(255,255,255,0.02); color: var(--text); border: 1px solid rgba(255,255,255,0.03); }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomCursor, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 7\n    }, this), videoPhase !== 'failed' ? /*#__PURE__*/_jsxDEV(VideoBackground, {\n      keyOverride: videoKey + (videoPhase === 'remote' ? '-remote' : '-local'),\n      src: videoPhase === 'remote' ? REMOTE_FALLBACK : OPENING_VIDEO_SRC,\n      videoRef: videoRef,\n      onReady: onVideoReady,\n      onError: onVideoError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 813,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(AnimatedGradientFallback, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 821,\n      columnNumber: 9\n    }, this), showVideoErrorNotice && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: 16,\n        bottom: 18,\n        zIndex: 120,\n        background: 'linear-gradient(90deg, rgba(0,0,0,0.5), rgba(0,0,0,0.35))',\n        padding: '10px 12px',\n        borderRadius: 10,\n        border: '1px solid rgba(255,255,255,0.03)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.text,\n          fontWeight: 700,\n          fontSize: 13\n        },\n        children: \"Video failed \\u2014 using fallback\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.muted,\n          marginTop: 6,\n          fontSize: 12,\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Tip: Put \", /*#__PURE__*/_jsxDEV(\"code\", {\n            style: {\n              background: 'rgba(255,255,255,0.02)',\n              padding: '2px 6px',\n              borderRadius: 6\n            },\n            children: 'public/opening.mp4'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 28\n          }, this), \" in your project and use H.264/AAC for best compatibility.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: retryVideos,\n          className: \"btn btn-ghost\",\n          style: {\n            padding: '6px 8px',\n            fontSize: 12\n          },\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 827,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 9\n    }, this), !openingDone && /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      progress: loadProgress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 834,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: bgCanvasRef,\n      className: \"fixed inset-0 z-0 pointer-events-none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"fixed inset-0 z-50 pointer-events-none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        right: 18,\n        top: 18,\n        zIndex: 100,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-end',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"score-badge\",\n        style: {\n          padding: '10px 14px',\n          borderRadius: 999,\n          background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})`,\n          color: '#000',\n          fontWeight: 800,\n          boxShadow: '0 12px 50px rgba(124,58,237,0.12)'\n        },\n        children: [score, \" pts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: THEME.muted,\n          fontSize: 12\n        },\n        children: [\"Level \", Math.floor(score / 50) + 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 841,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 839,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      style: {\n        position: 'fixed',\n        left: 18,\n        top: '50%',\n        transform: 'translateY(-50%)',\n        zIndex: 100,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 10\n      },\n      children: visible.map((_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => scrollToIndex(i),\n        \"aria-label\": `Go to chapter ${i + 1}`,\n        style: {\n          width: 12,\n          height: 12,\n          borderRadius: 999,\n          background: i === activeIndex ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})` : 'rgba(255,255,255,0.03)',\n          border: '1px solid rgba(255,255,255,0.02)'\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 844,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"fixed inset-0 top-0 left-0 w-full will-change-transform z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: `${visible.length * height}px`\n        },\n        children: visible.map((item, i) => /*#__PURE__*/_jsxDEV(\"section\", {\n          ref: addChapterRef,\n          style: {\n            height: `${height}px`\n          },\n          className: \"flex items-center justify-center px-6 md:px-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              maxWidth: 1120,\n              margin: '0 auto',\n              display: 'grid',\n              gridTemplateColumns: '1fr 2fr',\n              gap: 20,\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n              style: {\n                display: window.innerWidth >= 1024 ? 'flex' : 'none',\n                flexDirection: 'column',\n                gap: 12,\n                alignItems: 'flex-start'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: THEME.muted,\n                  fontSize: 13\n                },\n                children: \"Chapter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  rotate: activeIndex === i ? 6 : 0\n                },\n                transition: {\n                  type: 'spring'\n                },\n                style: {\n                  fontSize: 36,\n                  fontWeight: 900,\n                  color: THEME.text\n                },\n                children: String(i + 1).padStart(2, '0')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: 6,\n                  height: '100%',\n                  background: `linear-gradient(180deg, ${THEME.purple}, ${THEME.magenta})`,\n                  opacity: 0.28,\n                  borderRadius: 4\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                borderRadius: 14,\n                padding: 28,\n                textAlign: 'center',\n                background: THEME.panel,\n                border: '1px solid rgba(255,255,255,0.03)',\n                backdropFilter: 'blur(8px)'\n              },\n              children: /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  y: 30\n                },\n                animate: {\n                  opacity: 1,\n                  y: 0\n                },\n                transition: {\n                  duration: 0.64\n                },\n                children: /*#__PURE__*/_jsxDEV(ChapterContent, {\n                  item: item,\n                  idx: i\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 15\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 850,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showFinish && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        style: {\n          position: 'fixed',\n          inset: 0,\n          zIndex: 90,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 'min(720px, 92%)',\n            padding: 28,\n            borderRadius: 18,\n            background: 'rgba(0,0,0,0.6)',\n            border: '1px solid rgba(255,255,255,0.04)',\n            backdropFilter: 'blur(8px)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: THEME.text,\n              fontSize: 28,\n              fontWeight: 800\n            },\n            children: \"All done \\uD83C\\uDF89\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: THEME.muted,\n              marginTop: 10\n            },\n            children: [\"You earned \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: THEME.text\n              },\n              children: score\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 73\n            }, this), \" points. Thanks for playing!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 875,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 18,\n              display: 'flex',\n              justifyContent: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => resetAll(),\n              className: \"btn btn-primary\",\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 877,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 876,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 871,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: showResponses && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        style: {\n          position: 'fixed',\n          inset: 0,\n          zIndex: 95,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: 22\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 'min(820px, 94%)',\n            padding: 18,\n            borderRadius: 14,\n            background: 'rgba(0,0,0,0.6)',\n            border: '1px solid rgba(255,255,255,0.03)',\n            backdropFilter: 'blur(8px)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                color: THEME.text,\n                margin: 0\n              },\n              children: \"Your Responses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowResponses(false),\n              className: \"btn btn-ghost\",\n              style: {\n                padding: '8px 10px'\n              },\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 888,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              marginTop: 12,\n              maxHeight: '60vh',\n              overflow: 'auto',\n              background: 'rgba(255,255,255,0.02)',\n              padding: 12,\n              borderRadius: 8,\n              color: THEME.text\n            },\n            children: JSON.stringify(answers, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12,\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowResponses(false);\n                resetAll();\n              },\n              className: \"btn btn-primary\",\n              children: \"Restart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 884,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 883,\n      columnNumber: 7\n    }, this), videoPhase === 'failed' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: 0,\n        right: 0,\n        bottom: 28,\n        display: 'flex',\n        justifyContent: 'center',\n        zIndex: 110\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 12,\n          borderRadius: 12,\n          background: 'rgba(0,0,0,0.45)',\n          border: '1px solid rgba(255,255,255,0.03)',\n          display: 'flex',\n          gap: 12,\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: THEME.text,\n            fontWeight: 700\n          },\n          children: \"Video unavailable \\u2014 using animated fallback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: retryVideos,\n          className: \"btn btn-primary\",\n          children: \"Retry Videos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 900,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 795,\n    columnNumber: 5\n  }, this);\n}\n_s4(GamifiedSurveyForm, \"nR3deUuDnKhFuvNIAtfiKqgVeSg=\");\n_c6 = GamifiedSurveyForm;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"VideoBackground\");\n$RefreshReg$(_c2, \"AnimatedGradientFallback\");\n$RefreshReg$(_c3, \"LoadingOverlay\");\n$RefreshReg$(_c4, \"CustomCursor\");\n$RefreshReg$(_c5, \"MiniGame\");\n$RefreshReg$(_c6, \"GamifiedSurveyForm\");","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","AnimatePresence","jsxDEV","_jsxDEV","Fragment","_Fragment","OPENING_VIDEO_SRC","REMOTE_FALLBACK","THEME","purple","cyan","magenta","bg","panel","text","muted","QUESTIONS","id","type","title","subtitle","choices","points","flavor","scale","pointsPerStar","maxLength","timeLimit","pointsOnSuccess","dependsOn","q1","lerp","a","b","n","hexToRgb","hex","h","replace","parseInt","substring","confettiBurst","canvas","ctx","getContext","W","width","window","innerWidth","H","height","innerHeight","pieces","palette","i","color","Math","floor","random","length","push","x","y","vx","vy","r","rot","PI","vr","life","round","t","frame","clearRect","p","save","translate","rotate","fillStyle","fillRect","restore","some","requestAnimationFrame","VideoBackground","src","videoRef","onReady","onError","keyOverride","_s","internalRef","ref","v","current","playsInline","preload","play","catch","fired","markReady","markError","e","onCanPlay","onErr","console","warn","addEventListener","safety","setTimeout","Error","removeEventListener","clearTimeout","loop","autoPlay","style","position","inset","objectFit","zIndex","pointerEvents","opacity","fileName","_jsxFileName","lineNumber","columnNumber","_c","AnimatedGradientFallback","children","className","xmlns","baseFrequency","numOctaves","stitchTiles","filter","_c2","LoadingOverlay","progress","padding","textAlign","fontWeight","marginBottom","fontSize","borderRadius","overflow","background","boxShadow","transition","marginTop","display","justifyContent","_c3","CustomCursor","_s2","dotRef","ringRef","pos","hover","rafRef","dot","ring","onMouseMove","clientX","clientY","onHoverChange","target","closest","cx","cy","ringScale","transform","rx","parseFloat","dataset","ry","cancelAnimationFrame","document","documentElement","classList","add","remove","left","top","border","_c4","MiniGame","onComplete","_s3","charge","setCharge","runningRef","raf","startedAt","manualBoost","start","performance","now","tick","elapsed","base","min","total","handleTap","c","flexDirection","alignItems","gap","div","onClick","whileTap","whileHover","stiffness","cursor","maxWidth","initial","animate","damping","_c5","GamifiedSurveyForm","_s4","answers","setAnswers","raw","localStorage","getItem","JSON","parse","score","setScore","Number","openingDone","setOpeningDone","loadProgress","setLoadProgress","videoPhase","setVideoPhase","videoKey","setVideoKey","showVideoErrorNotice","setShowVideoErrorNotice","showResponses","setShowResponses","showFinish","setShowFinish","canvasRef","bgCanvasRef","setItem","stringify","String","visible","q","keys","Object","every","k","setHeight","onResize","prevOverflow","prevTouch","body","touchAction","containerRef","chapterRefs","addChapterRef","el","targetY","currentY","lastWheelAt","isScrolling","SNAP_DELAY","LERP_FAST","LERP_SNAP","active","lastCursorUpdate","bgRAF","activeIndexRef","activeIndex","setActiveIndex","simulated","prev","max","onVideoReady","onVideoError","retryVideos","isTouching","touchStartY","clampTarget","onWheel","preventDefault","deltaY","onTouchStart","touches","onTouchMove","delta","onTouchEnd","onKey","key","passive","onPointer","onPointerLeave","onPointerDown","px","py","_triggerPop","DPR","devicePixelRatio","BRICK_W","BRICK_H","cols","ceil","rows","MAX_BRICKS","scaleUp","sqrt","bricks","w","baseX","baseY","pop","phase","falling","fallY","fallVy","gone","nearest","best","Infinity","dx","dy","d","R","norm","palA","palB","palC","lastT","draw","dt","maxD","time","skipShadows","panelCenterX","activeIdx","panelCenterY","panelW","panelH","pow","lift","wobble","sin","yOffset","posFactor","anim","mixFactor","mix","bVal","rAB","gAB","bAB","accent","baseR","baseG","baseB","depthMul","dxPanel","abs","dyPanel","panelDarkness","nx","ny","finalR","finalG","finalB","finalAlpha","gx","gy","grad","createLinearGradient","colorStart","colorEnd","addColorStop","globalAlpha","shadowBlur","shadowColor","roundRect","fill","minr","beginPath","moveTo","arcTo","closePath","forEach","node","center","offset","translateY","idx","scrollToIndex","dest","AUTO_ADVANCE_DELAY_MS","MINIGAME_ADVANCE_MS","handleAnswer","qid","value","questionDef","find","gained","s","pulseScore","next","getElementById","duration","easing","onMiniGameComplete","success","q4","finish","resetAll","confirm","ChapterContent","item","isFirst","isLast","margin","h1","WebkitBackgroundClip","letterSpacing","textShadow","delay","backdropFilter","viewBox","stroke","strokeWidth","gridTemplateColumns","map","button","Array","from","_","onChange","resize","placeholder","minHeight","bottom","right","padStart","exit","maxHeight","_c6","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/App/gamified-survey/src/App.js"],"sourcesContent":["// App.js\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n/**\n * Full revised App.js (fixed: confettiBurst defined)\n *\n * - Try local video -> remote fallback -> animated gradient fallback\n * - Bricks: purple -> cyan per-brick gradients + variation\n * - Professional loading bar\n * - Confetti burst included (used on finish)\n *\n * Put your local video at public/opening.mp4 or change OPENING_VIDEO_SRC.\n */\n\nconst OPENING_VIDEO_SRC = \"/opening.mp4\"; // local video (public/)\nconst REMOTE_FALLBACK = \"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4\"; // test fallback\n\nconst THEME = {\n  purple: \"#7c3aed\",\n  cyan: \"#06b6d4\",\n  magenta: \"#ff4791\",\n  bg: \"#04050a\",\n  panel: \"rgba(255,255,255,0.02)\",\n  text: \"#e6eef8\",\n  muted: \"#9aa6b2\",\n};\n\nconst QUESTIONS = [\n  { id: \"intro\", type: \"stage\", title: \"Nightfall at HackPlay\", subtitle: \"Step into a neon-lit hall. Your choices tune the journey.\" },\n  {\n    id: \"q1\",\n    type: \"mcq\",\n    title: \"Entrance — choose your mindset\",\n    choices: [\"Build something cool\", \"Learn fast\", \"Meet people\", \"Chase the prizes\"],\n    points: { \"Build something cool\": 20, \"Learn fast\": 10, \"Meet people\": 15, \"Chase the prizes\": 5 },\n    flavor: \"The doors close. A low bass. Pick the vibe that follows you.\",\n  },\n  {\n    id: \"q2\",\n    type: \"rating\",\n    title: \"Charge Meter — how hyped are you?\",\n    scale: 5,\n    pointsPerStar: 6,\n    flavor: \"The stage lights react to your energy.\",\n  },\n  {\n    id: \"q3\",\n    type: \"text\",\n    title: \"One-line pitch — what's the idea?\",\n    maxLength: 140,\n    points: 15,\n    flavor: \"A single line — the fragment your team will build around.\",\n  },\n  {\n    id: \"q4\",\n    type: \"minigame\",\n    title: \"Charge the core — tap to power your idea\",\n    timeLimit: 6000,\n    pointsOnSuccess: 30,\n    flavor: \"Fast reflexes prove prototype-ready energy.\",\n  },\n  {\n    id: \"q5\",\n    type: \"mcq\",\n    title: \"Team vibe — pick your tribe\",\n    choices: [\"Chill coders\", \"All-nighters\", \"Balanced squad\", \"Solo hero\"],\n    points: { \"Chill coders\": 10, \"All-nighters\": 20, \"Balanced squad\": 15, \"Solo hero\": 5 },\n    flavor: \"Who will you ride the night with?\",\n    dependsOn: { q1: \"Build something cool\" },\n  },\n  { id: \"end\", type: \"stage\", title: \"Curtain Call\", subtitle: \"Collect badges, revisit your pitch, and step back into the light.\" },\n];\n\nfunction lerp(a, b, n) { return (1 - n) * a + n * b; }\nfunction hexToRgb(hex) {\n  const h = hex.replace(\"#\", \"\");\n  return [parseInt(h.substring(0,2),16), parseInt(h.substring(2,4),16), parseInt(h.substring(4,6),16)];\n}\n\n/* ---------------------------\n   CONFETTI: added to fix ESLint no-undef\n   - Lightweight canvas burst that clears itself\n   --------------------------- */\nfunction confettiBurst(canvas) {\n  if (!canvas) return;\n  const ctx = canvas.getContext('2d');\n  const W = (canvas.width = window.innerWidth);\n  const H = (canvas.height = window.innerHeight);\n  const pieces = [];\n  const palette = [THEME.purple, THEME.cyan, THEME.magenta, \"#ffd93d\", \"#6BCB77\"];\n  for (let i = 0; i < 80; i++) {\n    const color = palette[Math.floor(Math.random() * palette.length)];\n    pieces.push({\n      x: W / 2 + (Math.random() - 0.5) * 120,\n      y: H / 3 + (Math.random() - 0.5) * 40,\n      vx: (Math.random() - 0.5) * 12,\n      vy: (Math.random() - 0.9) * -10,\n      r: Math.random() * 6 + 3,\n      color,\n      rot: Math.random() * Math.PI * 2,\n      vr: Math.random() * 0.12 - 0.06,\n      life: 120 + Math.round(Math.random() * 60),\n    });\n  }\n\n  let t = 0;\n  function frame() {\n    t++;\n    ctx.clearRect(0, 0, W, H);\n    for (let p of pieces) {\n      p.vy += 0.18; // gravity\n      p.x += p.vx;\n      p.y += p.vy;\n      p.rot += p.vr;\n      ctx.save();\n      ctx.translate(p.x, p.y);\n      ctx.rotate(p.rot);\n      ctx.fillStyle = p.color;\n      ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r * 0.6);\n      ctx.restore();\n      p.life--;\n    }\n    // draw until pieces die out\n    if (t < 240 && pieces.some(p => p.life > 0)) {\n      requestAnimationFrame(frame);\n    } else {\n      ctx.clearRect(0, 0, W, H);\n    }\n  }\n  frame();\n}\n\n/* ---------------------------\n   VideoBackground\n   --------------------------- */\nfunction VideoBackground({ src, videoRef, onReady, onError, keyOverride }) {\n  const internalRef = useRef(null);\n  const ref = videoRef || internalRef;\n\n  useEffect(() => {\n    const v = ref.current;\n    if (!v) return;\n    v.muted = true;\n    v.playsInline = true;\n    v.preload = \"auto\";\n    const p = v.play && v.play();\n    if (p && p.catch) p.catch(() => {});\n\n    let fired = false;\n    function markReady(){ if (fired) return; fired = true; onReady && onReady(); }\n    function markError(e){ if (fired) return; fired = true; onError && onError(e); }\n\n    function onCanPlay(){ markReady(); }\n    function onErr(e){ console.warn(\"video error\", e); markError(e); }\n\n    v.addEventListener(\"canplaythrough\", onCanPlay);\n    v.addEventListener(\"canplay\", onCanPlay);\n    v.addEventListener(\"loadeddata\", onCanPlay);\n    v.addEventListener(\"loadedmetadata\", onCanPlay);\n    v.addEventListener(\"error\", onErr);\n\n    v.addEventListener(\"click\", onCanPlay);\n\n    const safety = setTimeout(() => { if (!fired) markError(new Error(\"video-safety-timeout\")); }, 4500);\n    return () => {\n      v.removeEventListener(\"canplaythrough\", onCanPlay);\n      v.removeEventListener(\"canplay\", onCanPlay);\n      v.removeEventListener(\"loadeddata\", onCanPlay);\n      v.removeEventListener(\"loadedmetadata\", onCanPlay);\n      v.removeEventListener(\"error\", onErr);\n      v.removeEventListener(\"click\", onCanPlay);\n      clearTimeout(safety);\n    };\n  }, [src, onReady, onError, keyOverride, videoRef]);\n\n  return (\n    <video\n      key={keyOverride}\n      ref={videoRef}\n      src={src}\n      muted\n      loop\n      playsInline\n      autoPlay\n      preload=\"auto\"\n      style={{ position: \"fixed\", inset: 0, width: \"100%\", height: \"100%\", objectFit: \"cover\", zIndex: -50, pointerEvents: \"auto\", opacity: 1 }}\n    />\n  );\n}\n\n/* ---------------------------\n   Animated Gradient fallback\n   --------------------------- */\nfunction AnimatedGradientFallback() {\n  return (\n    <>\n      <div className=\"fixed inset-0 -z-55 animated-gradient\" />\n      <svg className=\"fixed inset-0 w-full h-full -z-50 pointer-events-none\" style={{ opacity: 0.06 }} xmlns=\"http://www.w3.org/2000/svg\">\n        <filter id=\"noiseFilter\"><feTurbulence baseFrequency=\"0.9\" numOctaves=\"2\" stitchTiles=\"stitch\" /></filter>\n        <rect width=\"100%\" height=\"100%\" filter=\"url(#noiseFilter)\" />\n      </svg>\n      <style>{`\n        .animated-gradient {\n          background: linear-gradient(120deg, ${THEME.purple}, ${THEME.cyan}, ${THEME.magenta});\n          background-size: 200% 200%;\n          animation: gradientShift 12s ease infinite;\n          opacity: 1;\n        }\n        @keyframes gradientShift {\n          0% { background-position: 0% 50% }\n          50% { background-position: 100% 50% }\n          100% { background-position: 0% 50% }\n        }\n      `}</style>\n    </>\n  );\n}\n\n/* ---------------------------\n   Loading overlay\n   --------------------------- */\nfunction LoadingOverlay({ progress }) {\n  return (\n    <div className=\"fixed inset-0 z-80 flex items-center justify-center pointer-events-none\">\n      <div style={{ width: \"min(880px, 92%)\", padding: 18, textAlign: \"center\" }}>\n        <div style={{ color: THEME.text, fontWeight: 600, marginBottom: 10, fontSize: 16 }}>Preparing the experience</div>\n\n        <div style={{ position: \"relative\", height: 18, width: \"100%\", borderRadius: 12, overflow: \"hidden\", background: \"rgba(255,255,255,0.03)\", boxShadow: \"inset 0 1px 0 rgba(255,255,255,0.02)\" }}>\n          <div className=\"progress-fill\" style={{ width: `${progress}%`, height: \"100%\", borderRadius: 12, transition: \"width 360ms cubic-bezier(.2,.9,.2,1)\" }} />\n          <div className=\"progress-shimmer\" />\n        </div>\n\n        <div style={{ marginTop: 10, display: \"flex\", justifyContent: \"space-between\", color: THEME.muted, fontSize: 13 }}>\n          <div>{Math.round(progress)}%</div>\n          <div>Loading assets…</div>\n        </div>\n      </div>\n\n      <style>{`\n        .progress-fill {\n          background: linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan});\n          box-shadow: 0 8px 30px rgba(124,58,237,0.12), inset 0 -4px 14px rgba(0,0,0,0.2);\n        }\n        .progress-shimmer {\n          position: absolute; left: 0; top: 0; bottom: 0; width: 40%; transform: translateX(-100%); background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.0), rgba(255,255,255,0.06)); mix-blend-mode: overlay; animation: shimmerMove 1.6s linear infinite;\n        }\n        @keyframes shimmerMove {\n          0% { transform: translateX(-100%); opacity: 0.6 }\n          50%{ transform: translateX(30%); opacity: 1 }\n          100%{ transform: translateX(120%); opacity: 0.6 }\n        }\n      `}</style>\n    </div>\n  );\n}\n\n/* ---------------------------\n   CustomCursor\n   --------------------------- */\nfunction CustomCursor() {\n  const dotRef = useRef(null);\n  const ringRef = useRef(null);\n  const pos = useRef({ x: typeof window !== \"undefined\" ? window.innerWidth/2 : 0, y: typeof window !== \"undefined\" ? window.innerHeight/2 : 0 });\n  const hover = useRef(false);\n  const rafRef = useRef(null);\n\n  useEffect(() => {\n    const dot = dotRef.current; const ring = ringRef.current;\n    if(!dot || !ring) return;\n\n    function onMouseMove(e){ pos.current.x = e.clientX; pos.current.y = e.clientY; }\n    function onHoverChange(e){ const t = e.target; hover.current = !!(t.closest && t.closest('button, a, [role=\"button\"], input, textarea')); }\n\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseover', onHoverChange);\n\n    let cx = pos.current.x, cy = pos.current.y, ringScale = 1;\n    function loop(){\n      cx = lerp(cx, pos.current.x, 0.18);\n      cy = lerp(cy, pos.current.y, 0.18);\n      dot.style.transform = `translate3d(${cx-6}px, ${cy-6}px, 0)`;\n      const rx = lerp(parseFloat(ring.dataset.x || cx), cx, 0.08);\n      const ry = lerp(parseFloat(ring.dataset.y || cy), cy, 0.08);\n      ring.dataset.x = rx; ring.dataset.y = ry;\n      ringScale = lerp(ringScale, hover.current ? 1.9 : 1, 0.12);\n      ring.style.transform = `translate3d(${rx-18}px, ${ry-18}px, 0) scale(${ringScale})`;\n      rafRef.current = requestAnimationFrame(loop);\n    }\n    rafRef.current = requestAnimationFrame(loop);\n\n    return () => { window.removeEventListener('mousemove', onMouseMove); window.removeEventListener('mouseover', onHoverChange); cancelAnimationFrame(rafRef.current); };\n  }, []);\n\n  useEffect(() => { document.documentElement.classList.add('custom-cursor-hide'); return () => document.documentElement.classList.remove('custom-cursor-hide'); }, []);\n\n  return (\n    <>\n      <div ref={ringRef} style={{ position: 'fixed', left: 0, top: 0, width:36, height:36, borderRadius:9999, border:`1.5px solid rgba(255,255,255,0.06)`, pointerEvents:'none', zIndex:100000, boxShadow:`0 8px 30px rgba(124,58,237,0.08)` }} />\n      <div ref={dotRef} style={{ position: 'fixed', left:0, top:0, width:12, height:12, borderRadius:9999, background: 'radial-gradient(circle at 30% 30%, #fff, #dcdcdc)', pointerEvents:'none', zIndex:100001, boxShadow:'0 8px 26px rgba(124,58,237,0.12)' }} />\n      <style>{`.custom-cursor-hide, .custom-cursor-hide * { cursor: none !important; }`}</style>\n    </>\n  );\n}\n\n/* ---------------------------\n   MiniGame (kept simple)\n   --------------------------- */\nfunction MiniGame({ timeLimit = 6000, onComplete, flavor }) {\n  const [charge, setCharge] = useState(0);\n  const runningRef = useRef(false);\n  const raf = useRef(null);\n  const startedAt = useRef(0);\n  const manualBoost = useRef(0);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n\n  function start() { if (runningRef.current) return; runningRef.current = true; manualBoost.current = 0; startedAt.current = performance.now(); tick(); }\n  function tick() {\n    raf.current = requestAnimationFrame(() => {\n      const elapsed = performance.now() - startedAt.current;\n      const base = Math.min(100, Math.round((elapsed / timeLimit) * 100));\n      const total = Math.min(100, base + manualBoost.current);\n      setCharge(total);\n      if (total >= 100) { runningRef.current = false; cancelAnimationFrame(raf.current); onComplete(true); return; }\n      if (elapsed >= timeLimit) { runningRef.current = false; cancelAnimationFrame(raf.current); onComplete(total >= 60); return; }\n      tick();\n    });\n  }\n  function handleTap() { if (!runningRef.current) start(); else { manualBoost.current = Math.min(100, manualBoost.current + 12); setCharge(c => Math.min(100, c + 12)); } }\n\n  return (\n    <div style={{ width: '100%', display:'flex', flexDirection:'column', alignItems:'center', gap: 12 }}>\n      <div style={{ color: THEME.muted, fontSize: 13 }}>{flavor}</div>\n      <div style={{ width: 160, height: 160, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <motion.div onClick={handleTap} whileTap={{ scale: 0.9 }} whileHover={{ scale: 1.04 }} transition={{ type: 'spring', stiffness: 300 }} style={{ width: 140, height: 140, borderRadius: 999, display: 'flex', alignItems:'center', justifyContent:'center', cursor: 'pointer', background: `linear-gradient(135deg, ${THEME.purple}, ${THEME.magenta})`, boxShadow: '0 12px 40px rgba(124,58,237,0.09)' }}>\n          <div style={{ color: '#fff', fontWeight: 800, fontSize: 16 }}>TAP</div>\n        </motion.div>\n      </div>\n      <div style={{ width: '100%', maxWidth: 520 }}>\n        <div style={{ color: THEME.muted, marginBottom: 6 }}>Charge: {charge}%</div>\n        <div style={{ width: '100%', height: 12, borderRadius: 10, overflow: 'hidden', background: 'rgba(255,255,255,0.02)' }}>\n          <motion.div initial={{ width: 0 }} animate={{ width: `${charge}%` }} transition={{ type: 'spring', stiffness: 140, damping: 16 }} style={{ height: '100%', borderRadius: 10, background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` }} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ---------------------------\n   Main component\n   --------------------------- */\nexport default function GamifiedSurveyForm() {\n  const [answers, setAnswers] = useState(() => { try { const raw = localStorage.getItem('gamifiedSurveyAnswers'); return raw ? JSON.parse(raw) : {}; } catch { return {}; } });\n  const [score, setScore] = useState(() => Number(localStorage.getItem('gamifiedSurveyScore')) || 0);\n\n  const [openingDone, setOpeningDone] = useState(false);\n  const [loadProgress, setLoadProgress] = useState(0);\n  const [videoPhase, setVideoPhase] = useState('local'); // 'local'|'remote'|'failed'|'ready'\n  const [videoKey, setVideoKey] = useState(0);\n  const [showVideoErrorNotice, setShowVideoErrorNotice] = useState(false);\n  const [showResponses, setShowResponses] = useState(false);\n  const [showFinish, setShowFinish] = useState(false);\n\n  const canvasRef = useRef(null);   // confetti\n  const bgCanvasRef = useRef(null); // bricks\n  const videoRef = useRef(null);\n\n  useEffect(() => localStorage.setItem('gamifiedSurveyAnswers', JSON.stringify(answers)), [answers]);\n  useEffect(() => localStorage.setItem('gamifiedSurveyScore', String(score)), [score]);\n\n  const visible = QUESTIONS.filter(q => { if (!q.dependsOn) return true; const keys = Object.keys(q.dependsOn); return keys.every(k => answers[k] === q.dependsOn[k]); });\n\n  // layout & scroll\n  const [height, setHeight] = useState(typeof window !== 'undefined' ? window.innerHeight : 800);\n  useEffect(() => { function onResize(){ setHeight(window.innerHeight); } window.addEventListener('resize', onResize); return () => window.removeEventListener('resize', onResize); }, []);\n\n  useEffect(() => {\n    const prevOverflow = document.documentElement.style.overflow;\n    const prevTouch = document.body.style.touchAction;\n    document.documentElement.style.overflow = 'hidden';\n    document.body.style.touchAction = 'none';\n    return () => { document.documentElement.style.overflow = prevOverflow; document.body.style.touchAction = prevTouch; };\n  }, []);\n\n  const containerRef = useRef(null);\n  const chapterRefs = useRef([]);\n  chapterRefs.current = [];\n  const addChapterRef = (el) => { if (el) chapterRefs.current.push(el); };\n\n  const targetY = useRef(0);\n  const currentY = useRef(0);\n  const rafRef = useRef(null);\n  const lastWheelAt = useRef(0);\n  const isScrolling = useRef(false);\n\n  const SNAP_DELAY = 70;\n  const LERP_FAST = 0.42;\n  const LERP_SNAP = 0.62;\n\n  const cursor = useRef({ x: typeof window !== 'undefined' ? window.innerWidth/2 : 0, y: typeof window !== 'undefined' ? window.innerHeight/2 : 0, active: false });\n  const lastCursorUpdate = useRef(0);\n  const bgRAF = useRef(null);\n\n  const activeIndexRef = useRef(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  // loading progress simulated while waiting for video\n  useEffect(() => {\n    let raf = null;\n    let simulated = 0;\n    function tick() {\n      simulated = Math.min(92, simulated + (100 - simulated) * 0.05 + 0.6);\n      setLoadProgress(prev => Math.max(prev, simulated));\n      raf = requestAnimationFrame(tick);\n    }\n    raf = requestAnimationFrame(tick);\n    return () => cancelAnimationFrame(raf);\n  }, []);\n\n  // Video callbacks\n  function onVideoReady() {\n    setLoadProgress(100);\n    setTimeout(() => { setOpeningDone(true); setVideoPhase('ready'); setShowVideoErrorNotice(false); }, 260);\n  }\n\n  function onVideoError(e) {\n    console.warn(\"Video error:\", e);\n    if (videoPhase === 'local') {\n      setVideoPhase('remote');\n      setVideoKey(k => k + 1);\n      setShowVideoErrorNotice(true);\n      console.warn(\"Local video failed — trying remote fallback\");\n      return;\n    }\n    if (videoPhase === 'remote') {\n      setVideoPhase('failed');\n      setShowVideoErrorNotice(true);\n      setLoadProgress(100);\n      setTimeout(() => { setOpeningDone(true); }, 420);\n      console.warn(\"Both local and remote fallback failed. Using animated-gradient fallback.\");\n      return;\n    }\n  }\n\n  function retryVideos() {\n    setVideoPhase('local');\n    setVideoKey(k => k + 1);\n    setShowVideoErrorNotice(false);\n    setOpeningDone(false);\n    setLoadProgress(0);\n  }\n\n  // input handlers\n  useEffect(() => {\n    const isTouching = { v: false };\n    const touchStartY = { v: 0 };\n    function clampTarget(){ const max = Math.max(0, (visible.length - 1) * height); if (targetY.current < 0) targetY.current = 0; if (targetY.current > max) targetY.current = max; }\n    function onWheel(e){ e.preventDefault(); targetY.current += e.deltaY * 1.2; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; }\n    function onTouchStart(e){ touchStartY.v = e.touches[0].clientY; isTouching.v = true; }\n    function onTouchMove(e){ if(!isTouching.v) return; const y = e.touches[0].clientY; const delta = touchStartY.v - y; targetY.current += delta; touchStartY.v = y; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; }\n    function onTouchEnd(){ isTouching.v = false; }\n    function onKey(e){ if(e.key === 'ArrowDown'){ targetY.current += height * 0.95; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; } if(e.key === 'ArrowUp'){ targetY.current -= height * 0.95; clampTarget(); lastWheelAt.current = performance.now(); isScrolling.current = true; } }\n\n    const el = containerRef.current || window;\n    el.addEventListener('wheel', onWheel, { passive: false });\n    window.addEventListener('touchstart', onTouchStart, { passive: false });\n    window.addEventListener('touchmove', onTouchMove, { passive: false });\n    window.addEventListener('touchend', onTouchEnd);\n    window.addEventListener('keydown', onKey);\n\n    function onPointer(e){ const now = performance.now(); if (now - lastCursorUpdate.current > 12) { cursor.current.x = e.clientX; cursor.current.y = e.clientY; cursor.current.active = true; lastCursorUpdate.current = now; } }\n    function onPointerLeave(){ cursor.current.active = false; }\n    function onPointerDown(e){ const px = e.clientX; const py = e.clientY; cursor.current.x = px; cursor.current.y = py; if (bgCanvasRef.current && bgCanvasRef.current._triggerPop) bgCanvasRef.current._triggerPop(px, py); }\n\n    window.addEventListener('pointermove', onPointer);\n    window.addEventListener('pointerout', onPointerLeave);\n    window.addEventListener('pointerdown', onPointerDown);\n\n    return () => {\n      el.removeEventListener('wheel', onWheel);\n      window.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('touchmove', onTouchMove);\n      window.removeEventListener('touchend', onTouchEnd);\n      window.removeEventListener('keydown', onKey);\n      window.removeEventListener('pointermove', onPointer);\n      window.removeEventListener('pointerout', onPointerLeave);\n      window.removeEventListener('pointerdown', onPointerDown);\n    };\n  }, [height, visible.length]);\n\n  /* ---------------------------\n     Bricks canvas with purple→cyan gradient per brick\n     --------------------------- */\n  useEffect(() => {\n    const canvas = bgCanvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    let W = canvas.width = window.innerWidth;\n    let H = canvas.height = window.innerHeight;\n    const DPR = Math.min(window.devicePixelRatio || 1, 1.5);\n    canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = `${W}px`; canvas.style.height = `${H}px`; ctx.scale(DPR, DPR);\n\n    let BRICK_W = window.innerWidth < 640 ? 120 : 96;\n    let BRICK_H = window.innerWidth < 640 ? 56 : 44;\n    let cols = Math.ceil(W / BRICK_W);\n    let rows = Math.ceil(H / BRICK_H);\n    const MAX_BRICKS = 900;\n    if (cols * rows > MAX_BRICKS) {\n      const scaleUp = Math.sqrt((cols * rows) / MAX_BRICKS);\n      BRICK_W = Math.ceil(BRICK_W * scaleUp);\n      BRICK_H = Math.ceil(BRICK_H * scaleUp);\n      cols = Math.ceil(W / BRICK_W); rows = Math.ceil(H / BRICK_H);\n    }\n\n    const bricks = [];\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const x = c * BRICK_W + (r % 2 ? BRICK_W / 2 : 0);\n        const y = r * BRICK_H;\n        const cx = x + BRICK_W / 2;\n        const cy = y + BRICK_H / 2;\n        bricks.push({ x, y, w: BRICK_W, h: BRICK_H, baseX: x, baseY: y, cx, cy, pop: 0, vy: 0, phase: Math.random()*Math.PI*2, falling: false, fallY:0, fallVy:0, opacity:1, gone:false, r, c });\n      }\n    }\n\n    canvas._triggerPop = function(px, py) {\n      let nearest = null; let best = Infinity;\n      for (let b of bricks) {\n        if (b.gone) continue;\n        const dx = b.cx - px; const dy = b.cy - py; const d = Math.sqrt(dx*dx + dy*dy);\n        if (d < best) { best = d; nearest = b; }\n      }\n      if (nearest && !nearest.falling && best < Math.max(120, Math.min(window.innerWidth, window.innerHeight) * 0.06)) {\n        nearest.falling = true; nearest.fallVy = Math.random()*4 + 2; nearest.fallY = 0;\n      }\n      const R = 120;\n      for (let b of bricks) {\n        if (b.falling || b.gone) continue;\n        const dx = b.cx - px; const dy = b.cy - py; const d = Math.sqrt(dx*dx + dy*dy);\n        if (d < R) {\n          const norm = 1 - d / R;\n          b.pop = Math.max(b.pop, 0.3 * norm);\n          b.vy += (4 * norm) + (Math.random() * 2);\n        }\n      }\n    };\n\n    const palA = hexToRgb(THEME.purple);\n    const palB = hexToRgb(THEME.cyan);\n    const palC = hexToRgb(THEME.magenta);\n\n    let lastT = performance.now();\n    function draw(now) {\n      let dt = Math.min(40, now - lastT) * 0.001;\n      if (dt <= 0) { bgRAF.current = requestAnimationFrame(draw); return; }\n      lastT = now;\n      ctx.clearRect(0,0,W,H);\n\n      ctx.fillStyle = openingDone ? 'rgba(2,4,10,0.42)' : 'rgba(2,4,10,0.08)';\n      ctx.fillRect(0,0,W,H);\n\n      const maxD = Math.max(W,H) * 0.65;\n      const time = now * 0.001;\n      const skipShadows = bricks.length > 700;\n\n      const panelCenterX = W / 2;\n      const activeIdx = activeIndexRef.current || 0;\n      const panelCenterY = (activeIdx * height - currentY.current) + (height / 2);\n      const panelW = Math.min(1120, W * 0.86);\n      const panelH = Math.min(760, height * 0.78);\n\n      for (let b of bricks) {\n        if (b.gone) continue;\n        if (b.falling) {\n          b.fallVy += 900 * dt;\n          b.fallY += b.fallVy * dt;\n          b.opacity = Math.max(0, 1 - (b.fallY / (H * 1.4)));\n          if (b.fallY > H + 120) { b.gone = true; continue; }\n        }\n\n        const dx = b.cx - cursor.current.x; const dy = b.cy - cursor.current.y;\n        const d = Math.sqrt(dx*dx + dy*dy);\n        let t = Math.max(0, 1 - d / maxD); t = Math.pow(t, 0.9);\n        const lift = b.falling ? 0 : Math.min(14, 10 * t + b.pop * 18);\n        const wobble = b.falling ? 0 : Math.sin(b.phase + time * 1.2) * 3 * t;\n        if (!b.falling) { b.vy -= 30 * dt; b.vy *= (0.92 - Math.min(0.18, t * 0.12)); b.pop = Math.max(0, b.pop - 0.012); }\n        const yOffset = b.falling ? b.fallY : (-lift + b.vy * dt * 60);\n\n        const posFactor = ((b.r % 7) / 7) * 0.2 + ((b.c % 5)/5) * 0.12;\n        const anim = 0.45 + 0.55 * Math.sin(b.phase * 1.2 + time * (0.45 + posFactor));\n        const mixFactor = Math.min(1, Math.max(0, t * 0.9 + anim * 0.25 + posFactor * 0.12));\n\n        function mix(a,bVal,n){ return Math.round((1-n)*a + n*bVal); }\n        const rAB = mix(palA[0], palB[0], mixFactor);\n        const gAB = mix(palA[1], palB[1], mixFactor);\n        const bAB = mix(palA[2], palB[2], mixFactor);\n        const accent = 0.12 * (0.5 + 0.5 * Math.sin(time * 1.8 + b.phase + posFactor));\n        let baseR = Math.min(255, Math.round(rAB * (1 - accent) + palC[0] * accent));\n        let baseG = Math.min(255, Math.round(gAB * (1 - accent) + palC[1] * accent));\n        let baseB = Math.min(255, Math.round(bAB * (1 - accent) + palC[2] * accent));\n\n        const depthMul = 0.9 + 0.22 * (1 - (b.cy / H));\n        baseR = Math.round(baseR * depthMul); baseG = Math.round(baseG * depthMul); baseB = Math.round(baseB * depthMul);\n\n        const dxPanel = Math.abs(b.cx - panelCenterX);\n        const dyPanel = Math.abs(b.cy - panelCenterY);\n        let panelDarkness = 0;\n        if (dxPanel < panelW/2 && dyPanel < panelH/2) {\n          const nx = 1 - (dxPanel / (panelW/2));\n          const ny = 1 - (dyPanel / (panelH/2));\n          panelDarkness = Math.pow(Math.max(0, Math.min(1, nx * ny)), 1.4) * 0.66;\n        }\n\n        const finalR = Math.max(12, Math.round(baseR * (1 - panelDarkness)));\n        const finalG = Math.max(12, Math.round(baseG * (1 - panelDarkness)));\n        const finalB = Math.max(12, Math.round(baseB * (1 - panelDarkness)));\n        const finalAlpha = Math.max(0.55, b.opacity - (panelDarkness * 0.22));\n\n        const gx = b.baseX + 6; const gy = b.baseY + 6;\n        const grad = ctx.createLinearGradient(gx, gy, gx + b.w - 12, gy + b.h - 12);\n        const colorStart = `rgba(${Math.max(0,finalR-18)}, ${Math.max(0,finalG-18)}, ${Math.max(0,finalB-18)}, ${finalAlpha})`;\n        const colorEnd = `rgba(${finalR}, ${finalG}, ${finalB}, ${finalAlpha})`;\n        grad.addColorStop(0, colorStart);\n        grad.addColorStop(1, colorEnd);\n\n        ctx.save();\n        ctx.globalAlpha = finalAlpha;\n        ctx.fillStyle = grad;\n        if (lift > 2 && !b.falling && !skipShadows) {\n          ctx.shadowBlur = Math.min(28, lift * 1.6);\n          ctx.shadowColor = `rgba(40,60,160,${Math.min(0.22, 0.06 * t + 0.06 * b.pop)})`;\n        } else ctx.shadowBlur = 0;\n        const px = b.baseX + wobble * 0.6;\n        const py = b.baseY + yOffset;\n        roundRect(ctx, px + 6, py + 6, b.w - 12, b.h - 12, 6);\n        ctx.fill();\n\n        if ((t > 0.08 || b.pop > 0.02) && !b.falling && panelDarkness < 0.5) {\n          ctx.shadowBlur = 0;\n          ctx.fillStyle = `rgba(255,255,255,${0.03 * t + 0.04 * b.pop})`;\n          ctx.fillRect(px + 12, py + 10, b.w - 24, Math.max(3, Math.min(7, 4 * t + 6 * b.pop)));\n        }\n        ctx.restore();\n      }\n\n      bgRAF.current = requestAnimationFrame(draw);\n    }\n\n    function roundRect(ctx,x,y,w,h,r){ const minr = Math.min(r, w/2, h/2); ctx.beginPath(); ctx.moveTo(x+minr,y); ctx.arcTo(x+w,y,x+w,y+h,minr); ctx.arcTo(x+w,y+h,x,y+h,minr); ctx.arcTo(x,y+h,x,y,minr); ctx.arcTo(x,y,x+w,y,minr); ctx.closePath(); }\n\n    function onResize(){ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; canvas.width = W * DPR; canvas.height = H * DPR; canvas.style.width = `${W}px`; canvas.style.height = `${H}px`; ctx.scale(DPR, DPR); }\n    window.addEventListener('resize', onResize);\n    bgRAF.current = requestAnimationFrame(draw);\n    return () => { window.removeEventListener('resize', onResize); cancelAnimationFrame(bgRAF.current); };\n  }, [openingDone, height]);\n\n  // UI frame loop & transforms\n  useEffect(() => {\n    function frame(now){\n      currentY.current = lerp(currentY.current, targetY.current, (performance.now() - lastWheelAt.current > SNAP_DELAY) ? LERP_SNAP : LERP_FAST);\n      const el = containerRef.current; if (el) el.style.transform = `translate3d(0, ${-currentY.current}px, 0)`;\n\n      chapterRefs.current.forEach((node, i) => {\n        if(!node) return;\n        const center = i * height;\n        const offset = (currentY.current - center) / height;\n        const abs = Math.abs(offset);\n        const translateY = offset * 34;\n        const rotate = offset * 3.6;\n        const scale = 1 - Math.min(0.08, abs * 0.08);\n        const opacity = 1 - Math.min(0.9, abs * 0.9);\n        node.style.transform = `translate3d(0px, ${translateY}px, 0) rotate(${rotate}deg) scale(${scale})`;\n        node.style.opacity = String(opacity);\n      });\n\n      const idx = Math.round(currentY.current / height);\n      if (activeIndexRef.current !== idx) { activeIndexRef.current = idx; setActiveIndex(idx); }\n      rafRef.current = requestAnimationFrame(frame);\n    }\n    rafRef.current = requestAnimationFrame(frame);\n    return () => cancelAnimationFrame(rafRef.current);\n  }, [height, visible.length]);\n\n  function scrollToIndex(i){ const max = Math.max(0, (visible.length - 1) * height); const dest = Math.max(0, Math.min(i * height, max)); targetY.current = dest; lastWheelAt.current = performance.now(); isScrolling.current = true; }\n\n  const AUTO_ADVANCE_DELAY_MS = 240; const MINIGAME_ADVANCE_MS = 300;\n\n  function handleAnswer(qid, value){\n    setAnswers(prev => ({ ...prev, [qid]: value }));\n    const questionDef = QUESTIONS.find(x => x.id === qid) || {};\n    let gained = 0;\n    if(questionDef.type === 'mcq' && questionDef.points) gained = questionDef.points[value] || 0;\n    else if(questionDef.type === 'rating') gained = value * (questionDef.pointsPerStar || 1);\n    else if(questionDef.type === 'text') gained = questionDef.points || 0;\n    if(gained){ setScore(s => s + gained); pulseScore(); }\n    if(questionDef.type === 'mcq' || questionDef.type === 'rating'){ const next = Math.min(activeIndexRef.current + 1, visible.length - 1); setTimeout(() => scrollToIndex(next), AUTO_ADVANCE_DELAY_MS); }\n  }\n\n  function pulseScore(){ const el = document.getElementById('score-badge'); if(!el) return; el.animate([{ transform: 'translateY(0) scale(1)' }, { transform: 'translateY(-6px) scale(1.06)' }, { transform: 'translateY(0) scale(1)' }], { duration: 520, easing: 'ease-out' }); }\n\n  function onMiniGameComplete(success){ if(success){ setScore(s => s + 30); pulseScore(); } setAnswers(prev => ({ ...prev, q4: success ? 'success' : 'fail' })); setTimeout(() => scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)), MINIGAME_ADVANCE_MS); }\n\n  function finish(){ setShowFinish(true); if(canvasRef.current) confettiBurst(canvasRef.current); }\n\n  function resetAll(){ if(!window.confirm('Reset survey? This clears local progress.')) return; setAnswers({}); setScore(0); setShowFinish(false); targetY.current = 0; currentY.current = 0; if(containerRef.current) containerRef.current.style.transform = 'translate3d(0,0,0)'; }\n\n  function ChapterContent({ item, idx }){\n    if(item.type === 'stage'){\n      const isFirst = idx === 0;\n      const isLast = idx === Math.max(0, visible.length - 1);\n      return (\n        <div style={{ textAlign: 'center', maxWidth: 720, margin: '0 auto' }}>\n          <motion.h1 initial={{ y: 40, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ duration: 0.8 }} style={{ fontSize: '2.5rem', fontWeight: 800, background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})`, WebkitBackgroundClip: 'text', color: 'transparent', letterSpacing: '-0.01em', textShadow: '0 6px 30px rgba(124,58,237,0.06)' }}>{item.title}</motion.h1>\n          {item.subtitle && <motion.p initial={{ y:20, opacity:0 }} animate={{ y:0, opacity:0.95 }} transition={{ delay:0.12 }} style={{ color: THEME.muted, marginTop: 8 }}>{item.subtitle}</motion.p>}\n\n          <div style={{ marginTop: 18, padding: 18, borderRadius: 12, background: THEME.panel, border: '1px solid rgba(255,255,255,0.03)', backdropFilter: 'blur(6px)' }}>\n            <div style={{ display: 'flex', gap: 12, alignItems: 'center' }}>\n              <svg width=\"44\" height=\"44\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 2l3 7h7l-5.5 4 2 7L12 17l-6.5 3 2-7L2 9h7l3-7z\" stroke={THEME.purple} strokeWidth=\"0.9\" /></svg>\n              <div style={{ textAlign: 'left' }}>\n                <div style={{ color: THEME.text, fontWeight: 700 }}>Experience</div>\n                <div style={{ color: THEME.muted, fontSize: 13 }}>A cinematic flow — read the prompt, pick quickly, and earn points.</div>\n              </div>\n            </div>\n\n            <div style={{ marginTop: 16, display: 'flex', justifyContent: 'center', gap: 12 }}>\n              {isLast ? (\n                <>\n                  <button onClick={() => resetAll()} className=\"btn btn-primary\">Restart</button>\n                  <button onClick={() => setShowResponses(true)} className=\"btn btn-ghost\">View responses</button>\n                </>\n              ) : (\n                <>\n                  <button onClick={() => scrollToIndex(Math.min(idx + 1, visible.length - 1))} className=\"btn btn-primary\">Enter</button>\n                  {!isFirst && <button onClick={() => finish()} className=\"btn btn-ghost\">Skip</button>}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if (item.type === 'mcq') {\n      return (\n        <div style={{ maxWidth: 980, margin: '0 auto' }}>\n          <div style={{ color: THEME.muted, marginBottom: 12 }}>{item.flavor}</div>\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))', gap: 14 }}>\n            {item.choices.map(c => (\n              <motion.button key={c} whileHover={{ scale: 1.03 }} onClick={() => handleAnswer(item.id, c)} style={{ padding: '18px', borderRadius: 22, border: answers[item.id] === c ? 'none' : '1px solid rgba(255,255,255,0.03)', background: answers[item.id] === c ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : 'rgba(255,255,255,0.02)', color: answers[item.id] === c ? 'black' : THEME.text, boxShadow: answers[item.id] === c ? '0 12px 40px rgba(124,58,237,0.12)' : 'none' }}>\n                <div style={{ fontWeight: 700, fontSize: 18 }}>{c}</div>\n                <div style={{ color: THEME.muted, marginTop: 6 }}>{item.points && item.points[c] ? `${item.points[c]} pts` : ''}</div>\n              </motion.button>\n            ))}\n          </div>\n        </div>\n      );\n    }\n\n    if (item.type === 'rating') {\n      return (\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ color: THEME.muted, marginBottom: 12 }}>{item.flavor}</div>\n          <div style={{ display: 'flex', gap: 12, justifyContent: 'center' }}>\n            {Array.from({ length: item.scale }).map((_, i) => (\n              <motion.button key={i} onClick={() => handleAnswer(item.id, i+1)} whileTap={{ scale: 0.96 }} style={{ width: 64, height: 64, borderRadius: 999, display: 'flex', alignItems: 'center', justifyContent: 'center', background: answers[item.id] === i+1 ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.cyan})` : 'rgba(255,255,255,0.02)', color: answers[item.id] === i+1 ? 'black' : THEME.text, border: '1px solid rgba(255,255,255,0.03)' }}>{i+1}</motion.button>\n            ))}\n          </div>\n        </div>\n      );\n    }\n\n    if (item.type === 'text') {\n      return (\n        <div style={{ maxWidth: 980, margin: '0 auto' }}>\n          <div style={{ color: THEME.muted, marginBottom: 12 }}>{item.flavor}</div>\n          <textarea maxLength={item.maxLength} rows={5} value={answers[item.id] || ''} onChange={(e) => setAnswers(prev => ({ ...prev, [item.id]: e.target.value }))} style={{ width: '100%', padding: 16, borderRadius: 12, background: THEME.panel, border: '1px solid rgba(255,255,255,0.03)', color: THEME.text, resize: 'vertical' }} placeholder=\"One-line pitch...\" />\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: 10 }}>\n            <div style={{ color: THEME.muted, fontSize: 13 }}>{(answers[item.id] || '').length}/{item.maxLength}</div>\n            <div style={{ display: 'flex', gap: 10 }}>\n              <button onClick={() => { if (item.points && (answers[item.id] || '').length > 0) { setScore(s => s + item.points); pulseScore(); } scrollToIndex(Math.min(activeIndexRef.current + 1, visible.length - 1)); }} className=\"btn btn-primary\">Submit</button>\n              <button onClick={() => setAnswers(prev => ({ ...prev, [item.id]: '' }))} className=\"btn btn-ghost\">Clear</button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if (item.type === 'minigame') return <MiniGame timeLimit={item.timeLimit} onComplete={onMiniGameComplete} flavor={item.flavor} />;\n    return null;\n  }\n\n  useEffect(() => { if (openingDone) setLoadProgress(100); }, [openingDone]);\n\n  return (\n    <div style={{ minHeight: '100vh', position: 'relative', overflow: 'hidden', background: THEME.bg, color: THEME.text }}>\n      <style>{`\n        :root{\n          --purple: ${THEME.purple};\n          --cyan: ${THEME.cyan};\n          --magenta: ${THEME.magenta};\n          --text: ${THEME.text};\n          --muted: ${THEME.muted};\n        }\n        .btn { padding: 10px 14px; border-radius: 10px; font-weight: 700; cursor:pointer; border: 1px solid rgba(255,255,255,0.03); }\n        .btn-primary { background: linear-gradient(90deg, var(--purple), var(--cyan)); color: black; box-shadow: 0 8px 32px rgba(124,58,237,0.09); }\n        .btn-ghost { background: rgba(255,255,255,0.02); color: var(--text); border: 1px solid rgba(255,255,255,0.03); }\n      `}</style>\n\n      <CustomCursor />\n\n      {/* Video / fallback */}\n      {videoPhase !== 'failed' ? (\n        <VideoBackground\n          keyOverride={videoKey + (videoPhase === 'remote' ? '-remote' : '-local')}\n          src={videoPhase === 'remote' ? REMOTE_FALLBACK : OPENING_VIDEO_SRC}\n          videoRef={videoRef}\n          onReady={onVideoReady}\n          onError={onVideoError}\n        />\n      ) : (\n        <AnimatedGradientFallback />\n      )}\n\n      {showVideoErrorNotice && (\n        <div style={{ position: 'fixed', left: 16, bottom: 18, zIndex: 120, background: 'linear-gradient(90deg, rgba(0,0,0,0.5), rgba(0,0,0,0.35))', padding: '10px 12px', borderRadius: 10, border: '1px solid rgba(255,255,255,0.03)' }}>\n          <div style={{ color: THEME.text, fontWeight: 700, fontSize: 13 }}>Video failed — using fallback</div>\n          <div style={{ color: THEME.muted, marginTop: 6, fontSize: 12, display: 'flex', gap: 8 }}>\n            <span>Tip: Put <code style={{ background: 'rgba(255,255,255,0.02)', padding: '2px 6px', borderRadius: 6 }}>{'public/opening.mp4'}</code> in your project and use H.264/AAC for best compatibility.</span>\n            <button onClick={retryVideos} className=\"btn btn-ghost\" style={{ padding: '6px 8px', fontSize: 12 }}>Retry</button>\n          </div>\n        </div>\n      )}\n\n      {!openingDone && <LoadingOverlay progress={loadProgress} />}\n\n      <canvas ref={bgCanvasRef} className=\"fixed inset-0 z-0 pointer-events-none\" />\n      <canvas ref={canvasRef} className=\"fixed inset-0 z-50 pointer-events-none\" />\n\n      <div style={{ position: 'fixed', right: 18, top: 18, zIndex: 100, display: 'flex', flexDirection: 'column', alignItems: 'flex-end', gap: 8 }}>\n        <div id=\"score-badge\" style={{ padding: '10px 14px', borderRadius: 999, background: `linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})`, color: '#000', fontWeight: 800, boxShadow: '0 12px 50px rgba(124,58,237,0.12)' }}>{score} pts</div>\n        <div style={{ color: THEME.muted, fontSize: 12 }}>Level {Math.floor(score / 50) + 1}</div>\n      </div>\n\n      <nav style={{ position: 'fixed', left: 18, top: '50%', transform: 'translateY(-50%)', zIndex: 100, display: 'flex', flexDirection: 'column', gap: 10 }}>\n        {visible.map((_, i) => (\n          <button key={i} onClick={() => scrollToIndex(i)} aria-label={`Go to chapter ${i+1}`} style={{ width: 12, height: 12, borderRadius: 999, background: i === activeIndex ? `linear-gradient(90deg, ${THEME.purple}, ${THEME.magenta})` : 'rgba(255,255,255,0.03)', border: '1px solid rgba(255,255,255,0.02)' }} />\n        ))}\n      </nav>\n\n      <div ref={containerRef} className=\"fixed inset-0 top-0 left-0 w-full will-change-transform z-40\">\n        <div style={{ height: `${visible.length * height}px` }}>\n          {visible.map((item, i) => (\n            <section key={item.id} ref={addChapterRef} style={{ height: `${height}px` }} className=\"flex items-center justify-center px-6 md:px-12\">\n              <div style={{ width: '100%', maxWidth: 1120, margin: '0 auto', display: 'grid', gridTemplateColumns: '1fr 2fr', gap: 20, alignItems: 'center' }}>\n                <aside style={{ display: window.innerWidth >= 1024 ? 'flex' : 'none', flexDirection: 'column', gap: 12, alignItems: 'flex-start' }}>\n                  <div style={{ color: THEME.muted, fontSize: 13 }}>Chapter</div>\n                  <motion.div animate={{ rotate: activeIndex === i ? 6 : 0 }} transition={{ type: 'spring' }} style={{ fontSize: 36, fontWeight: 900, color: THEME.text }}>{String(i+1).padStart(2,'0')}</motion.div>\n                  <div style={{ width: 6, height: '100%', background: `linear-gradient(180deg, ${THEME.purple}, ${THEME.magenta})`, opacity: 0.28, borderRadius: 4 }} />\n                </aside>\n                <div style={{ borderRadius: 14, padding: 28, textAlign: 'center', background: THEME.panel, border: '1px solid rgba(255,255,255,0.03)', backdropFilter: 'blur(8px)' }}>\n                  <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.64 }}>\n                    <ChapterContent item={item} idx={i} />\n                  </motion.div>\n                </div>\n              </div>\n            </section>\n          ))}\n        </div>\n      </div>\n\n      <AnimatePresence>{showFinish && (\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} style={{ position:'fixed', inset: 0, zIndex: 90, display:'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <div style={{ width: 'min(720px, 92%)', padding: 28, borderRadius: 18, background: 'rgba(0,0,0,0.6)', border: '1px solid rgba(255,255,255,0.04)', backdropFilter: 'blur(8px)' }}>\n            <h2 style={{ color: THEME.text, fontSize: 28, fontWeight: 800 }}>All done 🎉</h2>\n            <p style={{ color: THEME.muted, marginTop: 10 }}>You earned <strong style={{ color: THEME.text }}>{score}</strong> points. Thanks for playing!</p>\n            <div style={{ marginTop: 18, display: 'flex', justifyContent: 'center' }}>\n              <button onClick={() => resetAll()} className=\"btn btn-primary\">Reset</button>\n            </div>\n          </div>\n        </motion.div>\n      )}</AnimatePresence>\n\n      <AnimatePresence>{showResponses && (\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} style={{ position:'fixed', inset:0, zIndex: 95, display:'flex', alignItems:'center', justifyContent:'center', padding: 22 }}>\n          <div style={{ width: 'min(820px, 94%)', padding: 18, borderRadius: 14, background: 'rgba(0,0,0,0.6)', border: '1px solid rgba(255,255,255,0.03)', backdropFilter: 'blur(8px)' }}>\n            <div style={{ display:'flex', justifyContent:'space-between', alignItems:'center' }}>\n              <h3 style={{ color: THEME.text, margin:0 }}>Your Responses</h3>\n              <button onClick={() => setShowResponses(false)} className=\"btn btn-ghost\" style={{ padding: '8px 10px' }}>Close</button>\n            </div>\n            <pre style={{ marginTop: 12, maxHeight: '60vh', overflow: 'auto', background: 'rgba(255,255,255,0.02)', padding: 12, borderRadius: 8, color: THEME.text }}>{JSON.stringify(answers, null, 2)}</pre>\n            <div style={{ marginTop: 12, display:'flex', justifyContent:'flex-end' }}>\n              <button onClick={() => { setShowResponses(false); resetAll(); }} className=\"btn btn-primary\">Restart</button>\n            </div>\n          </div>\n        </motion.div>\n      )}</AnimatePresence>\n\n      {videoPhase === 'failed' && (\n        <div style={{ position: 'fixed', left: 0, right: 0, bottom: 28, display: 'flex', justifyContent: 'center', zIndex: 110 }}>\n          <div style={{ padding: 12, borderRadius: 12, background: 'rgba(0,0,0,0.45)', border: '1px solid rgba(255,255,255,0.03)', display: 'flex', gap: 12, alignItems: 'center' }}>\n            <div style={{ color: THEME.text, fontWeight: 700 }}>Video unavailable — using animated fallback</div>\n            <button onClick={retryVideos} className=\"btn btn-primary\">Retry Videos</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}